function fw(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(t,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function pw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Iv={exports:{}},Il={},Pv={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vs=Symbol.for("react.element"),mw=Symbol.for("react.portal"),gw=Symbol.for("react.fragment"),vw=Symbol.for("react.strict_mode"),yw=Symbol.for("react.profiler"),bw=Symbol.for("react.provider"),xw=Symbol.for("react.context"),ww=Symbol.for("react.forward_ref"),kw=Symbol.for("react.suspense"),Sw=Symbol.for("react.memo"),Cw=Symbol.for("react.lazy"),op=Symbol.iterator;function Ew(t){return t===null||typeof t!="object"?null:(t=op&&t[op]||t["@@iterator"],typeof t=="function"?t:null)}var Av={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nv=Object.assign,Bv={};function Go(t,e,n){this.props=t,this.context=e,this.refs=Bv,this.updater=n||Av}Go.prototype.isReactComponent={};Go.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Go.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Lv(){}Lv.prototype=Go.prototype;function rh(t,e,n){this.props=t,this.context=e,this.refs=Bv,this.updater=n||Av}var oh=rh.prototype=new Lv;oh.constructor=rh;Nv(oh,Go.prototype);oh.isPureReactComponent=!0;var ip=Array.isArray,Rv=Object.prototype.hasOwnProperty,ih={current:null},Ov={key:!0,ref:!0,__self:!0,__source:!0};function Mv(t,e,n){var r,o={},i=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(i=""+e.key),e)Rv.call(e,r)&&!Ov.hasOwnProperty(r)&&(o[r]=e[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:vs,type:t,key:i,ref:s,props:o,_owner:ih.current}}function Tw(t,e){return{$$typeof:vs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function sh(t){return typeof t=="object"&&t!==null&&t.$$typeof===vs}function _w(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var sp=/\/+/g;function yc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?_w(""+t.key):e.toString(36)}function la(t,e,n,r,o){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case vs:case mw:s=!0}}if(s)return s=t,o=o(s),t=r===""?"."+yc(s,0):r,ip(o)?(n="",t!=null&&(n=t.replace(sp,"$&/")+"/"),la(o,e,n,"",function(c){return c})):o!=null&&(sh(o)&&(o=Tw(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(sp,"$&/")+"/")+t)),e.push(o)),1;if(s=0,r=r===""?".":r+":",ip(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+yc(i,a);s+=la(i,e,n,l,o)}else if(l=Ew(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+yc(i,a++),s+=la(i,e,n,l,o);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function js(t,e,n){if(t==null)return t;var r=[],o=0;return la(t,r,"","",function(i){return e.call(n,i,o++)}),r}function Iw(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var We={current:null},ca={transition:null},Pw={ReactCurrentDispatcher:We,ReactCurrentBatchConfig:ca,ReactCurrentOwner:ih};function Dv(){throw Error("act(...) is not supported in production builds of React.")}q.Children={map:js,forEach:function(t,e,n){js(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return js(t,function(){e++}),e},toArray:function(t){return js(t,function(e){return e})||[]},only:function(t){if(!sh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};q.Component=Go;q.Fragment=gw;q.Profiler=yw;q.PureComponent=rh;q.StrictMode=vw;q.Suspense=kw;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pw;q.act=Dv;q.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Nv({},t.props),o=t.key,i=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,s=ih.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Rv.call(e,l)&&!Ov.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:vs,type:t.type,key:o,ref:i,props:r,_owner:s}};q.createContext=function(t){return t={$$typeof:xw,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bw,_context:t},t.Consumer=t};q.createElement=Mv;q.createFactory=function(t){var e=Mv.bind(null,t);return e.type=t,e};q.createRef=function(){return{current:null}};q.forwardRef=function(t){return{$$typeof:ww,render:t}};q.isValidElement=sh;q.lazy=function(t){return{$$typeof:Cw,_payload:{_status:-1,_result:t},_init:Iw}};q.memo=function(t,e){return{$$typeof:Sw,type:t,compare:e===void 0?null:e}};q.startTransition=function(t){var e=ca.transition;ca.transition={};try{t()}finally{ca.transition=e}};q.unstable_act=Dv;q.useCallback=function(t,e){return We.current.useCallback(t,e)};q.useContext=function(t){return We.current.useContext(t)};q.useDebugValue=function(){};q.useDeferredValue=function(t){return We.current.useDeferredValue(t)};q.useEffect=function(t,e){return We.current.useEffect(t,e)};q.useId=function(){return We.current.useId()};q.useImperativeHandle=function(t,e,n){return We.current.useImperativeHandle(t,e,n)};q.useInsertionEffect=function(t,e){return We.current.useInsertionEffect(t,e)};q.useLayoutEffect=function(t,e){return We.current.useLayoutEffect(t,e)};q.useMemo=function(t,e){return We.current.useMemo(t,e)};q.useReducer=function(t,e,n){return We.current.useReducer(t,e,n)};q.useRef=function(t){return We.current.useRef(t)};q.useState=function(t){return We.current.useState(t)};q.useSyncExternalStore=function(t,e,n){return We.current.useSyncExternalStore(t,e,n)};q.useTransition=function(){return We.current.useTransition()};q.version="18.3.1";Pv.exports=q;var w=Pv.exports;const ah=pw(w),Aw=fw({__proto__:null,default:ah},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nw=w,Bw=Symbol.for("react.element"),Lw=Symbol.for("react.fragment"),Rw=Object.prototype.hasOwnProperty,Ow=Nw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Mw={key:!0,ref:!0,__self:!0,__source:!0};function jv(t,e,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)Rw.call(e,r)&&!Mw.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:Bw,type:t,key:i,ref:s,props:o,_owner:Ow.current}}Il.Fragment=Lw;Il.jsx=jv;Il.jsxs=jv;Iv.exports=Il;var f=Iv.exports,bu={},Fv={exports:{}},ct={},Uv={exports:{}},$v={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,F){var z=L.length;L.push(F);e:for(;0<z;){var V=z-1>>>1,ne=L[V];if(0<o(ne,F))L[V]=F,L[z]=ne,z=V;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var F=L[0],z=L.pop();if(z!==F){L[0]=z;e:for(var V=0,ne=L.length,fr=ne>>>1;V<fr;){var Rt=2*(V+1)-1,Gr=L[Rt],tt=Rt+1,pr=L[tt];if(0>o(Gr,z))tt<ne&&0>o(pr,Gr)?(L[V]=pr,L[tt]=z,V=tt):(L[V]=Gr,L[Rt]=z,V=Rt);else if(tt<ne&&0>o(pr,z))L[V]=pr,L[tt]=z,V=tt;else break e}}return F}function o(L,F){var z=L.sortIndex-F.sortIndex;return z!==0?z:L.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],d=1,u=null,h=3,g=!1,v=!1,p=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=L)r(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(c)}}function k(L){if(p=!1,b(L),!v)if(n(l)!==null)v=!0,W(S);else{var F=n(c);F!==null&&ye(k,F.startTime-L)}}function S(L,F){v=!1,p&&(p=!1,y(C),C=-1),g=!0;var z=h;try{for(b(F),u=n(l);u!==null&&(!(u.expirationTime>F)||L&&!O());){var V=u.callback;if(typeof V=="function"){u.callback=null,h=u.priorityLevel;var ne=V(u.expirationTime<=F);F=t.unstable_now(),typeof ne=="function"?u.callback=ne:u===n(l)&&r(l),b(F)}else r(l);u=n(l)}if(u!==null)var fr=!0;else{var Rt=n(c);Rt!==null&&ye(k,Rt.startTime-F),fr=!1}return fr}finally{u=null,h=z,g=!1}}var E=!1,_=null,C=-1,T=5,P=-1;function O(){return!(t.unstable_now()-P<T)}function U(){if(_!==null){var L=t.unstable_now();P=L;var F=!0;try{F=_(!0,L)}finally{F?B():(E=!1,_=null)}}else E=!1}var B;if(typeof m=="function")B=function(){m(U)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,M=j.port2;j.port1.onmessage=U,B=function(){M.postMessage(null)}}else B=function(){x(U,0)};function W(L){_=L,E||(E=!0,B())}function ye(L,F){C=x(function(){L(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,W(S))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var z=h;h=F;try{return L()}finally{h=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,F){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var z=h;h=L;try{return F()}finally{h=z}},t.unstable_scheduleCallback=function(L,F,z){var V=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?V+z:V):z=V,L){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=z+ne,L={id:d++,callback:F,priorityLevel:L,startTime:z,expirationTime:ne,sortIndex:-1},z>V?(L.sortIndex=z,e(c,L),n(l)===null&&L===n(c)&&(p?(y(C),C=-1):p=!0,ye(k,z-V))):(L.sortIndex=ne,e(l,L),v||g||(v=!0,W(S))),L},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(L){var F=h;return function(){var z=h;h=F;try{return L.apply(this,arguments)}finally{h=z}}}})($v);Uv.exports=$v;var Dw=Uv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jw=w,at=Dw;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vv=new Set,zi={};function $r(t,e){Ao(t,e),Ao(t+"Capture",e)}function Ao(t,e){for(zi[t]=e,t=0;t<e.length;t++)Vv.add(e[t])}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xu=Object.prototype.hasOwnProperty,Fw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ap={},lp={};function Uw(t){return xu.call(lp,t)?!0:xu.call(ap,t)?!1:Fw.test(t)?lp[t]=!0:(ap[t]=!0,!1)}function $w(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Vw(t,e,n,r){if(e===null||typeof e>"u"||$w(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ke(t,e,n,r,o,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var Re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Re[t]=new Ke(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Re[e]=new Ke(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Re[t]=new Ke(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Re[t]=new Ke(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Re[t]=new Ke(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Re[t]=new Ke(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Re[t]=new Ke(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Re[t]=new Ke(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Re[t]=new Ke(t,5,!1,t.toLowerCase(),null,!1,!1)});var lh=/[\-:]([a-z])/g;function ch(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(lh,ch);Re[e]=new Ke(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(lh,ch);Re[e]=new Ke(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(lh,ch);Re[e]=new Ke(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Re[t]=new Ke(t,1,!1,t.toLowerCase(),null,!1,!1)});Re.xlinkHref=new Ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Re[t]=new Ke(t,1,!1,t.toLowerCase(),null,!0,!0)});function uh(t,e,n,r){var o=Re.hasOwnProperty(e)?Re[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Vw(e,n,o,r)&&(n=null),r||o===null?Uw(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var kn=jw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fs=Symbol.for("react.element"),to=Symbol.for("react.portal"),no=Symbol.for("react.fragment"),dh=Symbol.for("react.strict_mode"),wu=Symbol.for("react.profiler"),zv=Symbol.for("react.provider"),Hv=Symbol.for("react.context"),hh=Symbol.for("react.forward_ref"),ku=Symbol.for("react.suspense"),Su=Symbol.for("react.suspense_list"),fh=Symbol.for("react.memo"),An=Symbol.for("react.lazy"),Wv=Symbol.for("react.offscreen"),cp=Symbol.iterator;function ii(t){return t===null||typeof t!="object"?null:(t=cp&&t[cp]||t["@@iterator"],typeof t=="function"?t:null)}var pe=Object.assign,bc;function yi(t){if(bc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);bc=e&&e[1]||""}return`
`+bc+t}var xc=!1;function wc(t,e){if(!t||xc)return"";xc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var l=`
`+o[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{xc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?yi(t):""}function zw(t){switch(t.tag){case 5:return yi(t.type);case 16:return yi("Lazy");case 13:return yi("Suspense");case 19:return yi("SuspenseList");case 0:case 2:case 15:return t=wc(t.type,!1),t;case 11:return t=wc(t.type.render,!1),t;case 1:return t=wc(t.type,!0),t;default:return""}}function Cu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case no:return"Fragment";case to:return"Portal";case wu:return"Profiler";case dh:return"StrictMode";case ku:return"Suspense";case Su:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Hv:return(t.displayName||"Context")+".Consumer";case zv:return(t._context.displayName||"Context")+".Provider";case hh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fh:return e=t.displayName||null,e!==null?e:Cu(t.type)||"Memo";case An:e=t._payload,t=t._init;try{return Cu(t(e))}catch{}}return null}function Hw(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cu(e);case 8:return e===dh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function nr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Kv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ww(t){var e=Kv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Us(t){t._valueTracker||(t._valueTracker=Ww(t))}function Gv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Kv(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ra(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Eu(t,e){var n=e.checked;return pe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function up(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=nr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function qv(t,e){e=e.checked,e!=null&&uh(t,"checked",e,!1)}function Tu(t,e){qv(t,e);var n=nr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_u(t,e.type,n):e.hasOwnProperty("defaultValue")&&_u(t,e.type,nr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function dp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function _u(t,e,n){(e!=="number"||Ra(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var bi=Array.isArray;function xo(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+nr(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function Iu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return pe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function hp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(N(92));if(bi(n)){if(1<n.length)throw Error(N(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:nr(n)}}function Yv(t,e){var n=nr(e.value),r=nr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function fp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Xv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Xv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var $s,Jv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for($s=$s||document.createElement("div"),$s.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=$s.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Hi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var _i={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kw=["Webkit","ms","Moz","O"];Object.keys(_i).forEach(function(t){Kw.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_i[e]=_i[t]})});function Qv(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||_i.hasOwnProperty(t)&&_i[t]?(""+e).trim():e+"px"}function Zv(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Qv(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var Gw=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Au(t,e){if(e){if(Gw[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function Nu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bu=null;function ph(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lu=null,wo=null,ko=null;function pp(t){if(t=xs(t)){if(typeof Lu!="function")throw Error(N(280));var e=t.stateNode;e&&(e=Ll(e),Lu(t.stateNode,t.type,e))}}function ey(t){wo?ko?ko.push(t):ko=[t]:wo=t}function ty(){if(wo){var t=wo,e=ko;if(ko=wo=null,pp(t),e)for(t=0;t<e.length;t++)pp(e[t])}}function ny(t,e){return t(e)}function ry(){}var kc=!1;function oy(t,e,n){if(kc)return t(e,n);kc=!0;try{return ny(t,e,n)}finally{kc=!1,(wo!==null||ko!==null)&&(ry(),ty())}}function Wi(t,e){var n=t.stateNode;if(n===null)return null;var r=Ll(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(N(231,e,typeof n));return n}var Ru=!1;if(pn)try{var si={};Object.defineProperty(si,"passive",{get:function(){Ru=!0}}),window.addEventListener("test",si,si),window.removeEventListener("test",si,si)}catch{Ru=!1}function qw(t,e,n,r,o,i,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Ii=!1,Oa=null,Ma=!1,Ou=null,Yw={onError:function(t){Ii=!0,Oa=t}};function Xw(t,e,n,r,o,i,s,a,l){Ii=!1,Oa=null,qw.apply(Yw,arguments)}function Jw(t,e,n,r,o,i,s,a,l){if(Xw.apply(this,arguments),Ii){if(Ii){var c=Oa;Ii=!1,Oa=null}else throw Error(N(198));Ma||(Ma=!0,Ou=c)}}function Vr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function iy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function mp(t){if(Vr(t)!==t)throw Error(N(188))}function Qw(t){var e=t.alternate;if(!e){if(e=Vr(t),e===null)throw Error(N(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return mp(o),t;if(i===r)return mp(o),e;i=i.sibling}throw Error(N(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?t:e}function sy(t){return t=Qw(t),t!==null?ay(t):null}function ay(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ay(t);if(e!==null)return e;t=t.sibling}return null}var ly=at.unstable_scheduleCallback,gp=at.unstable_cancelCallback,Zw=at.unstable_shouldYield,ek=at.unstable_requestPaint,ve=at.unstable_now,tk=at.unstable_getCurrentPriorityLevel,mh=at.unstable_ImmediatePriority,cy=at.unstable_UserBlockingPriority,Da=at.unstable_NormalPriority,nk=at.unstable_LowPriority,uy=at.unstable_IdlePriority,Pl=null,Ut=null;function rk(t){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Pl,t,void 0,(t.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:sk,ok=Math.log,ik=Math.LN2;function sk(t){return t>>>=0,t===0?32:31-(ok(t)/ik|0)|0}var Vs=64,zs=4194304;function xi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ja(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,i=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=xi(a):(i&=s,i!==0&&(r=xi(i)))}else s=n&~o,s!==0?r=xi(s):i!==0&&(r=xi(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,i=e&-e,o>=i||o===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Pt(e),o=1<<n,r|=t[n],e&=~o;return r}function ak(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,i=t.pendingLanes;0<i;){var s=31-Pt(i),a=1<<s,l=o[s];l===-1?(!(a&n)||a&r)&&(o[s]=ak(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Mu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function dy(){var t=Vs;return Vs<<=1,!(Vs&4194240)&&(Vs=64),t}function Sc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ys(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pt(e),t[e]=n}function ck(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-Pt(n),i=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~i}}function gh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Pt(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var te=0;function hy(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var fy,vh,py,my,gy,Du=!1,Hs=[],zn=null,Hn=null,Wn=null,Ki=new Map,Gi=new Map,Rn=[],uk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vp(t,e){switch(t){case"focusin":case"focusout":zn=null;break;case"dragenter":case"dragleave":Hn=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":Ki.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gi.delete(e.pointerId)}}function ai(t,e,n,r,o,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},e!==null&&(e=xs(e),e!==null&&vh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function dk(t,e,n,r,o){switch(e){case"focusin":return zn=ai(zn,t,e,n,r,o),!0;case"dragenter":return Hn=ai(Hn,t,e,n,r,o),!0;case"mouseover":return Wn=ai(Wn,t,e,n,r,o),!0;case"pointerover":var i=o.pointerId;return Ki.set(i,ai(Ki.get(i)||null,t,e,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Gi.set(i,ai(Gi.get(i)||null,t,e,n,r,o)),!0}return!1}function vy(t){var e=Cr(t.target);if(e!==null){var n=Vr(e);if(n!==null){if(e=n.tag,e===13){if(e=iy(n),e!==null){t.blockedOn=e,gy(t.priority,function(){py(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ua(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ju(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Bu=r,n.target.dispatchEvent(r),Bu=null}else return e=xs(n),e!==null&&vh(e),t.blockedOn=n,!1;e.shift()}return!0}function yp(t,e,n){ua(t)&&n.delete(e)}function hk(){Du=!1,zn!==null&&ua(zn)&&(zn=null),Hn!==null&&ua(Hn)&&(Hn=null),Wn!==null&&ua(Wn)&&(Wn=null),Ki.forEach(yp),Gi.forEach(yp)}function li(t,e){t.blockedOn===e&&(t.blockedOn=null,Du||(Du=!0,at.unstable_scheduleCallback(at.unstable_NormalPriority,hk)))}function qi(t){function e(o){return li(o,t)}if(0<Hs.length){li(Hs[0],t);for(var n=1;n<Hs.length;n++){var r=Hs[n];r.blockedOn===t&&(r.blockedOn=null)}}for(zn!==null&&li(zn,t),Hn!==null&&li(Hn,t),Wn!==null&&li(Wn,t),Ki.forEach(e),Gi.forEach(e),n=0;n<Rn.length;n++)r=Rn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Rn.length&&(n=Rn[0],n.blockedOn===null);)vy(n),n.blockedOn===null&&Rn.shift()}var So=kn.ReactCurrentBatchConfig,Fa=!0;function fk(t,e,n,r){var o=te,i=So.transition;So.transition=null;try{te=1,yh(t,e,n,r)}finally{te=o,So.transition=i}}function pk(t,e,n,r){var o=te,i=So.transition;So.transition=null;try{te=4,yh(t,e,n,r)}finally{te=o,So.transition=i}}function yh(t,e,n,r){if(Fa){var o=ju(t,e,n,r);if(o===null)Lc(t,e,r,Ua,n),vp(t,r);else if(dk(o,t,e,n,r))r.stopPropagation();else if(vp(t,r),e&4&&-1<uk.indexOf(t)){for(;o!==null;){var i=xs(o);if(i!==null&&fy(i),i=ju(t,e,n,r),i===null&&Lc(t,e,r,Ua,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else Lc(t,e,r,null,n)}}var Ua=null;function ju(t,e,n,r){if(Ua=null,t=ph(r),t=Cr(t),t!==null)if(e=Vr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=iy(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ua=t,null}function yy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tk()){case mh:return 1;case cy:return 4;case Da:case nk:return 16;case uy:return 536870912;default:return 16}default:return 16}}var Un=null,bh=null,da=null;function by(){if(da)return da;var t,e=bh,n=e.length,r,o="value"in Un?Un.value:Un.textContent,i=o.length;for(t=0;t<n&&e[t]===o[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===o[i-r];r++);return da=o.slice(t,1<r?1-r:void 0)}function ha(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ws(){return!0}function bp(){return!1}function ut(t){function e(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ws:bp,this.isPropagationStopped=bp,this}return pe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ws)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ws)},persist:function(){},isPersistent:Ws}),e}var qo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xh=ut(qo),bs=pe({},qo,{view:0,detail:0}),mk=ut(bs),Cc,Ec,ci,Al=pe({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ci&&(ci&&t.type==="mousemove"?(Cc=t.screenX-ci.screenX,Ec=t.screenY-ci.screenY):Ec=Cc=0,ci=t),Cc)},movementY:function(t){return"movementY"in t?t.movementY:Ec}}),xp=ut(Al),gk=pe({},Al,{dataTransfer:0}),vk=ut(gk),yk=pe({},bs,{relatedTarget:0}),Tc=ut(yk),bk=pe({},qo,{animationName:0,elapsedTime:0,pseudoElement:0}),xk=ut(bk),wk=pe({},qo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kk=ut(wk),Sk=pe({},qo,{data:0}),wp=ut(Sk),Ck={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ek={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _k(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Tk[t])?!!e[t]:!1}function wh(){return _k}var Ik=pe({},bs,{key:function(t){if(t.key){var e=Ck[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ha(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ek[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wh,charCode:function(t){return t.type==="keypress"?ha(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ha(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Pk=ut(Ik),Ak=pe({},Al,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kp=ut(Ak),Nk=pe({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wh}),Bk=ut(Nk),Lk=pe({},qo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rk=ut(Lk),Ok=pe({},Al,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Mk=ut(Ok),Dk=[9,13,27,32],kh=pn&&"CompositionEvent"in window,Pi=null;pn&&"documentMode"in document&&(Pi=document.documentMode);var jk=pn&&"TextEvent"in window&&!Pi,xy=pn&&(!kh||Pi&&8<Pi&&11>=Pi),Sp=String.fromCharCode(32),Cp=!1;function wy(t,e){switch(t){case"keyup":return Dk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ky(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ro=!1;function Fk(t,e){switch(t){case"compositionend":return ky(e);case"keypress":return e.which!==32?null:(Cp=!0,Sp);case"textInput":return t=e.data,t===Sp&&Cp?null:t;default:return null}}function Uk(t,e){if(ro)return t==="compositionend"||!kh&&wy(t,e)?(t=by(),da=bh=Un=null,ro=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return xy&&e.locale!=="ko"?null:e.data;default:return null}}var $k={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ep(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$k[t.type]:e==="textarea"}function Sy(t,e,n,r){ey(r),e=$a(e,"onChange"),0<e.length&&(n=new xh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ai=null,Yi=null;function Vk(t){Ry(t,0)}function Nl(t){var e=so(t);if(Gv(e))return t}function zk(t,e){if(t==="change")return e}var Cy=!1;if(pn){var _c;if(pn){var Ic="oninput"in document;if(!Ic){var Tp=document.createElement("div");Tp.setAttribute("oninput","return;"),Ic=typeof Tp.oninput=="function"}_c=Ic}else _c=!1;Cy=_c&&(!document.documentMode||9<document.documentMode)}function _p(){Ai&&(Ai.detachEvent("onpropertychange",Ey),Yi=Ai=null)}function Ey(t){if(t.propertyName==="value"&&Nl(Yi)){var e=[];Sy(e,Yi,t,ph(t)),oy(Vk,e)}}function Hk(t,e,n){t==="focusin"?(_p(),Ai=e,Yi=n,Ai.attachEvent("onpropertychange",Ey)):t==="focusout"&&_p()}function Wk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nl(Yi)}function Kk(t,e){if(t==="click")return Nl(e)}function Gk(t,e){if(t==="input"||t==="change")return Nl(e)}function qk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Lt=typeof Object.is=="function"?Object.is:qk;function Xi(t,e){if(Lt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!xu.call(e,o)||!Lt(t[o],e[o]))return!1}return!0}function Ip(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pp(t,e){var n=Ip(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ip(n)}}function Ty(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ty(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _y(){for(var t=window,e=Ra();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ra(t.document)}return e}function Sh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Yk(t){var e=_y(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Ty(n.ownerDocument.documentElement,n)){if(r!==null&&Sh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!t.extend&&i>r&&(o=r,r=i,i=o),o=Pp(n,i);var s=Pp(n,r);o&&s&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Xk=pn&&"documentMode"in document&&11>=document.documentMode,oo=null,Fu=null,Ni=null,Uu=!1;function Ap(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Uu||oo==null||oo!==Ra(r)||(r=oo,"selectionStart"in r&&Sh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ni&&Xi(Ni,r)||(Ni=r,r=$a(Fu,"onSelect"),0<r.length&&(e=new xh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=oo)))}function Ks(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var io={animationend:Ks("Animation","AnimationEnd"),animationiteration:Ks("Animation","AnimationIteration"),animationstart:Ks("Animation","AnimationStart"),transitionend:Ks("Transition","TransitionEnd")},Pc={},Iy={};pn&&(Iy=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function Bl(t){if(Pc[t])return Pc[t];if(!io[t])return t;var e=io[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Iy)return Pc[t]=e[n];return t}var Py=Bl("animationend"),Ay=Bl("animationiteration"),Ny=Bl("animationstart"),By=Bl("transitionend"),Ly=new Map,Np="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ar(t,e){Ly.set(t,e),$r(e,[t])}for(var Ac=0;Ac<Np.length;Ac++){var Nc=Np[Ac],Jk=Nc.toLowerCase(),Qk=Nc[0].toUpperCase()+Nc.slice(1);ar(Jk,"on"+Qk)}ar(Py,"onAnimationEnd");ar(Ay,"onAnimationIteration");ar(Ny,"onAnimationStart");ar("dblclick","onDoubleClick");ar("focusin","onFocus");ar("focusout","onBlur");ar(By,"onTransitionEnd");Ao("onMouseEnter",["mouseout","mouseover"]);Ao("onMouseLeave",["mouseout","mouseover"]);Ao("onPointerEnter",["pointerout","pointerover"]);Ao("onPointerLeave",["pointerout","pointerover"]);$r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$r("onBeforeInput",["compositionend","keypress","textInput","paste"]);$r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zk=new Set("cancel close invalid load scroll toggle".split(" ").concat(wi));function Bp(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Jw(r,e,void 0,t),t.currentTarget=null}function Ry(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;Bp(o,a,c),i=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;Bp(o,a,c),i=l}}}if(Ma)throw t=Ou,Ma=!1,Ou=null,t}function se(t,e){var n=e[Wu];n===void 0&&(n=e[Wu]=new Set);var r=t+"__bubble";n.has(r)||(Oy(e,t,2,!1),n.add(r))}function Bc(t,e,n){var r=0;e&&(r|=4),Oy(n,t,r,e)}var Gs="_reactListening"+Math.random().toString(36).slice(2);function Ji(t){if(!t[Gs]){t[Gs]=!0,Vv.forEach(function(n){n!=="selectionchange"&&(Zk.has(n)||Bc(n,!1,t),Bc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Gs]||(e[Gs]=!0,Bc("selectionchange",!1,e))}}function Oy(t,e,n,r){switch(yy(e)){case 1:var o=fk;break;case 4:o=pk;break;default:o=yh}n=o.bind(null,e,n,t),o=void 0,!Ru||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function Lc(t,e,n,r,o){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;s=s.return}for(;a!==null;){if(s=Cr(a),s===null)return;if(l=s.tag,l===5||l===6){r=i=s;continue e}a=a.parentNode}}r=r.return}oy(function(){var c=i,d=ph(n),u=[];e:{var h=Ly.get(t);if(h!==void 0){var g=xh,v=t;switch(t){case"keypress":if(ha(n)===0)break e;case"keydown":case"keyup":g=Pk;break;case"focusin":v="focus",g=Tc;break;case"focusout":v="blur",g=Tc;break;case"beforeblur":case"afterblur":g=Tc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=xp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=vk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Bk;break;case Py:case Ay:case Ny:g=xk;break;case By:g=Rk;break;case"scroll":g=mk;break;case"wheel":g=Mk;break;case"copy":case"cut":case"paste":g=kk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=kp}var p=(e&4)!==0,x=!p&&t==="scroll",y=p?h!==null?h+"Capture":null:h;p=[];for(var m=c,b;m!==null;){b=m;var k=b.stateNode;if(b.tag===5&&k!==null&&(b=k,y!==null&&(k=Wi(m,y),k!=null&&p.push(Qi(m,k,b)))),x)break;m=m.return}0<p.length&&(h=new g(h,v,null,n,d),u.push({event:h,listeners:p}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==Bu&&(v=n.relatedTarget||n.fromElement)&&(Cr(v)||v[mn]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=c,v=v?Cr(v):null,v!==null&&(x=Vr(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=c),g!==v)){if(p=xp,k="onMouseLeave",y="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(p=kp,k="onPointerLeave",y="onPointerEnter",m="pointer"),x=g==null?h:so(g),b=v==null?h:so(v),h=new p(k,m+"leave",g,n,d),h.target=x,h.relatedTarget=b,k=null,Cr(d)===c&&(p=new p(y,m+"enter",v,n,d),p.target=b,p.relatedTarget=x,k=p),x=k,g&&v)t:{for(p=g,y=v,m=0,b=p;b;b=qr(b))m++;for(b=0,k=y;k;k=qr(k))b++;for(;0<m-b;)p=qr(p),m--;for(;0<b-m;)y=qr(y),b--;for(;m--;){if(p===y||y!==null&&p===y.alternate)break t;p=qr(p),y=qr(y)}p=null}else p=null;g!==null&&Lp(u,h,g,p,!1),v!==null&&x!==null&&Lp(u,x,v,p,!0)}}e:{if(h=c?so(c):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var S=zk;else if(Ep(h))if(Cy)S=Gk;else{S=Wk;var E=Hk}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=Kk);if(S&&(S=S(t,c))){Sy(u,S,n,d);break e}E&&E(t,h,c),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&_u(h,"number",h.value)}switch(E=c?so(c):window,t){case"focusin":(Ep(E)||E.contentEditable==="true")&&(oo=E,Fu=c,Ni=null);break;case"focusout":Ni=Fu=oo=null;break;case"mousedown":Uu=!0;break;case"contextmenu":case"mouseup":case"dragend":Uu=!1,Ap(u,n,d);break;case"selectionchange":if(Xk)break;case"keydown":case"keyup":Ap(u,n,d)}var _;if(kh)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ro?wy(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(xy&&n.locale!=="ko"&&(ro||C!=="onCompositionStart"?C==="onCompositionEnd"&&ro&&(_=by()):(Un=d,bh="value"in Un?Un.value:Un.textContent,ro=!0)),E=$a(c,C),0<E.length&&(C=new wp(C,t,null,n,d),u.push({event:C,listeners:E}),_?C.data=_:(_=ky(n),_!==null&&(C.data=_)))),(_=jk?Fk(t,n):Uk(t,n))&&(c=$a(c,"onBeforeInput"),0<c.length&&(d=new wp("onBeforeInput","beforeinput",null,n,d),u.push({event:d,listeners:c}),d.data=_))}Ry(u,e)})}function Qi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function $a(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Wi(t,n),i!=null&&r.unshift(Qi(t,i,o)),i=Wi(t,e),i!=null&&r.push(Qi(t,i,o))),t=t.return}return r}function qr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Lp(t,e,n,r,o){for(var i=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,o?(l=Wi(n,i),l!=null&&s.unshift(Qi(n,l,a))):o||(l=Wi(n,i),l!=null&&s.push(Qi(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var eS=/\r\n?/g,tS=/\u0000|\uFFFD/g;function Rp(t){return(typeof t=="string"?t:""+t).replace(eS,`
`).replace(tS,"")}function qs(t,e,n){if(e=Rp(e),Rp(t)!==e&&n)throw Error(N(425))}function Va(){}var $u=null,Vu=null;function zu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Hu=typeof setTimeout=="function"?setTimeout:void 0,nS=typeof clearTimeout=="function"?clearTimeout:void 0,Op=typeof Promise=="function"?Promise:void 0,rS=typeof queueMicrotask=="function"?queueMicrotask:typeof Op<"u"?function(t){return Op.resolve(null).then(t).catch(oS)}:Hu;function oS(t){setTimeout(function(){throw t})}function Rc(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),qi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);qi(e)}function Kn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Mp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Yo=Math.random().toString(36).slice(2),jt="__reactFiber$"+Yo,Zi="__reactProps$"+Yo,mn="__reactContainer$"+Yo,Wu="__reactEvents$"+Yo,iS="__reactListeners$"+Yo,sS="__reactHandles$"+Yo;function Cr(t){var e=t[jt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[mn]||n[jt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Mp(t);t!==null;){if(n=t[jt])return n;t=Mp(t)}return e}t=n,n=t.parentNode}return null}function xs(t){return t=t[jt]||t[mn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function so(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function Ll(t){return t[Zi]||null}var Ku=[],ao=-1;function lr(t){return{current:t}}function le(t){0>ao||(t.current=Ku[ao],Ku[ao]=null,ao--)}function oe(t,e){ao++,Ku[ao]=t.current,t.current=e}var rr={},Fe=lr(rr),Je=lr(!1),Lr=rr;function No(t,e){var n=t.type.contextTypes;if(!n)return rr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Qe(t){return t=t.childContextTypes,t!=null}function za(){le(Je),le(Fe)}function Dp(t,e,n){if(Fe.current!==rr)throw Error(N(168));oe(Fe,e),oe(Je,n)}function My(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(N(108,Hw(t)||"Unknown",o));return pe({},n,r)}function Ha(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||rr,Lr=Fe.current,oe(Fe,t),oe(Je,Je.current),!0}function jp(t,e,n){var r=t.stateNode;if(!r)throw Error(N(169));n?(t=My(t,e,Lr),r.__reactInternalMemoizedMergedChildContext=t,le(Je),le(Fe),oe(Fe,t)):le(Je),oe(Je,n)}var Xt=null,Rl=!1,Oc=!1;function Dy(t){Xt===null?Xt=[t]:Xt.push(t)}function aS(t){Rl=!0,Dy(t)}function cr(){if(!Oc&&Xt!==null){Oc=!0;var t=0,e=te;try{var n=Xt;for(te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Xt=null,Rl=!1}catch(o){throw Xt!==null&&(Xt=Xt.slice(t+1)),ly(mh,cr),o}finally{te=e,Oc=!1}}return null}var lo=[],co=0,Wa=null,Ka=0,ft=[],pt=0,Rr=null,Zt=1,en="";function vr(t,e){lo[co++]=Ka,lo[co++]=Wa,Wa=t,Ka=e}function jy(t,e,n){ft[pt++]=Zt,ft[pt++]=en,ft[pt++]=Rr,Rr=t;var r=Zt;t=en;var o=32-Pt(r)-1;r&=~(1<<o),n+=1;var i=32-Pt(e)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Zt=1<<32-Pt(e)+o|n<<o|r,en=i+t}else Zt=1<<i|n<<o|r,en=t}function Ch(t){t.return!==null&&(vr(t,1),jy(t,1,0))}function Eh(t){for(;t===Wa;)Wa=lo[--co],lo[co]=null,Ka=lo[--co],lo[co]=null;for(;t===Rr;)Rr=ft[--pt],ft[pt]=null,en=ft[--pt],ft[pt]=null,Zt=ft[--pt],ft[pt]=null}var it=null,ot=null,ce=!1,Tt=null;function Fy(t,e){var n=mt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Fp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,it=t,ot=Kn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,it=t,ot=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Rr!==null?{id:Zt,overflow:en}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=mt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,it=t,ot=null,!0):!1;default:return!1}}function Gu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qu(t){if(ce){var e=ot;if(e){var n=e;if(!Fp(t,e)){if(Gu(t))throw Error(N(418));e=Kn(n.nextSibling);var r=it;e&&Fp(t,e)?Fy(r,n):(t.flags=t.flags&-4097|2,ce=!1,it=t)}}else{if(Gu(t))throw Error(N(418));t.flags=t.flags&-4097|2,ce=!1,it=t}}}function Up(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;it=t}function Ys(t){if(t!==it)return!1;if(!ce)return Up(t),ce=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!zu(t.type,t.memoizedProps)),e&&(e=ot)){if(Gu(t))throw Uy(),Error(N(418));for(;e;)Fy(t,e),e=Kn(e.nextSibling)}if(Up(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ot=Kn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ot=null}}else ot=it?Kn(t.stateNode.nextSibling):null;return!0}function Uy(){for(var t=ot;t;)t=Kn(t.nextSibling)}function Bo(){ot=it=null,ce=!1}function Th(t){Tt===null?Tt=[t]:Tt.push(t)}var lS=kn.ReactCurrentBatchConfig;function ui(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,t));var o=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var a=o.refs;s===null?delete a[i]:a[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,t))}return t}function Xs(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $p(t){var e=t._init;return e(t._payload)}function $y(t){function e(y,m){if(t){var b=y.deletions;b===null?(y.deletions=[m],y.flags|=16):b.push(m)}}function n(y,m){if(!t)return null;for(;m!==null;)e(y,m),m=m.sibling;return null}function r(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function o(y,m){return y=Xn(y,m),y.index=0,y.sibling=null,y}function i(y,m,b){return y.index=b,t?(b=y.alternate,b!==null?(b=b.index,b<m?(y.flags|=2,m):b):(y.flags|=2,m)):(y.flags|=1048576,m)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,m,b,k){return m===null||m.tag!==6?(m=Vc(b,y.mode,k),m.return=y,m):(m=o(m,b),m.return=y,m)}function l(y,m,b,k){var S=b.type;return S===no?d(y,m,b.props.children,k,b.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===An&&$p(S)===m.type)?(k=o(m,b.props),k.ref=ui(y,m,b),k.return=y,k):(k=ba(b.type,b.key,b.props,null,y.mode,k),k.ref=ui(y,m,b),k.return=y,k)}function c(y,m,b,k){return m===null||m.tag!==4||m.stateNode.containerInfo!==b.containerInfo||m.stateNode.implementation!==b.implementation?(m=zc(b,y.mode,k),m.return=y,m):(m=o(m,b.children||[]),m.return=y,m)}function d(y,m,b,k,S){return m===null||m.tag!==7?(m=Ar(b,y.mode,k,S),m.return=y,m):(m=o(m,b),m.return=y,m)}function u(y,m,b){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Vc(""+m,y.mode,b),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Fs:return b=ba(m.type,m.key,m.props,null,y.mode,b),b.ref=ui(y,null,m),b.return=y,b;case to:return m=zc(m,y.mode,b),m.return=y,m;case An:var k=m._init;return u(y,k(m._payload),b)}if(bi(m)||ii(m))return m=Ar(m,y.mode,b,null),m.return=y,m;Xs(y,m)}return null}function h(y,m,b,k){var S=m!==null?m.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:a(y,m,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Fs:return b.key===S?l(y,m,b,k):null;case to:return b.key===S?c(y,m,b,k):null;case An:return S=b._init,h(y,m,S(b._payload),k)}if(bi(b)||ii(b))return S!==null?null:d(y,m,b,k,null);Xs(y,b)}return null}function g(y,m,b,k,S){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(b)||null,a(m,y,""+k,S);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Fs:return y=y.get(k.key===null?b:k.key)||null,l(m,y,k,S);case to:return y=y.get(k.key===null?b:k.key)||null,c(m,y,k,S);case An:var E=k._init;return g(y,m,b,E(k._payload),S)}if(bi(k)||ii(k))return y=y.get(b)||null,d(m,y,k,S,null);Xs(m,k)}return null}function v(y,m,b,k){for(var S=null,E=null,_=m,C=m=0,T=null;_!==null&&C<b.length;C++){_.index>C?(T=_,_=null):T=_.sibling;var P=h(y,_,b[C],k);if(P===null){_===null&&(_=T);break}t&&_&&P.alternate===null&&e(y,_),m=i(P,m,C),E===null?S=P:E.sibling=P,E=P,_=T}if(C===b.length)return n(y,_),ce&&vr(y,C),S;if(_===null){for(;C<b.length;C++)_=u(y,b[C],k),_!==null&&(m=i(_,m,C),E===null?S=_:E.sibling=_,E=_);return ce&&vr(y,C),S}for(_=r(y,_);C<b.length;C++)T=g(_,y,C,b[C],k),T!==null&&(t&&T.alternate!==null&&_.delete(T.key===null?C:T.key),m=i(T,m,C),E===null?S=T:E.sibling=T,E=T);return t&&_.forEach(function(O){return e(y,O)}),ce&&vr(y,C),S}function p(y,m,b,k){var S=ii(b);if(typeof S!="function")throw Error(N(150));if(b=S.call(b),b==null)throw Error(N(151));for(var E=S=null,_=m,C=m=0,T=null,P=b.next();_!==null&&!P.done;C++,P=b.next()){_.index>C?(T=_,_=null):T=_.sibling;var O=h(y,_,P.value,k);if(O===null){_===null&&(_=T);break}t&&_&&O.alternate===null&&e(y,_),m=i(O,m,C),E===null?S=O:E.sibling=O,E=O,_=T}if(P.done)return n(y,_),ce&&vr(y,C),S;if(_===null){for(;!P.done;C++,P=b.next())P=u(y,P.value,k),P!==null&&(m=i(P,m,C),E===null?S=P:E.sibling=P,E=P);return ce&&vr(y,C),S}for(_=r(y,_);!P.done;C++,P=b.next())P=g(_,y,C,P.value,k),P!==null&&(t&&P.alternate!==null&&_.delete(P.key===null?C:P.key),m=i(P,m,C),E===null?S=P:E.sibling=P,E=P);return t&&_.forEach(function(U){return e(y,U)}),ce&&vr(y,C),S}function x(y,m,b,k){if(typeof b=="object"&&b!==null&&b.type===no&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Fs:e:{for(var S=b.key,E=m;E!==null;){if(E.key===S){if(S=b.type,S===no){if(E.tag===7){n(y,E.sibling),m=o(E,b.props.children),m.return=y,y=m;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===An&&$p(S)===E.type){n(y,E.sibling),m=o(E,b.props),m.ref=ui(y,E,b),m.return=y,y=m;break e}n(y,E);break}else e(y,E);E=E.sibling}b.type===no?(m=Ar(b.props.children,y.mode,k,b.key),m.return=y,y=m):(k=ba(b.type,b.key,b.props,null,y.mode,k),k.ref=ui(y,m,b),k.return=y,y=k)}return s(y);case to:e:{for(E=b.key;m!==null;){if(m.key===E)if(m.tag===4&&m.stateNode.containerInfo===b.containerInfo&&m.stateNode.implementation===b.implementation){n(y,m.sibling),m=o(m,b.children||[]),m.return=y,y=m;break e}else{n(y,m);break}else e(y,m);m=m.sibling}m=zc(b,y.mode,k),m.return=y,y=m}return s(y);case An:return E=b._init,x(y,m,E(b._payload),k)}if(bi(b))return v(y,m,b,k);if(ii(b))return p(y,m,b,k);Xs(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,m!==null&&m.tag===6?(n(y,m.sibling),m=o(m,b),m.return=y,y=m):(n(y,m),m=Vc(b,y.mode,k),m.return=y,y=m),s(y)):n(y,m)}return x}var Lo=$y(!0),Vy=$y(!1),Ga=lr(null),qa=null,uo=null,_h=null;function Ih(){_h=uo=qa=null}function Ph(t){var e=Ga.current;le(Ga),t._currentValue=e}function Yu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Co(t,e){qa=t,_h=uo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ye=!0),t.firstContext=null)}function yt(t){var e=t._currentValue;if(_h!==t)if(t={context:t,memoizedValue:e,next:null},uo===null){if(qa===null)throw Error(N(308));uo=t,qa.dependencies={lanes:0,firstContext:t}}else uo=uo.next=t;return e}var Er=null;function Ah(t){Er===null?Er=[t]:Er.push(t)}function zy(t,e,n,r){var o=e.interleaved;return o===null?(n.next=n,Ah(e)):(n.next=o.next,o.next=n),e.interleaved=n,gn(t,r)}function gn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Nn=!1;function Nh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function un(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Gn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,J&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,gn(t,n)}return o=r.interleaved,o===null?(e.next=e,Ah(r)):(e.next=o.next,o.next=e),r.interleaved=e,gn(t,n)}function fa(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gh(t,n)}}function Vp(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=e:i=i.next=e}else o=i=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ya(t,e,n,r){var o=t.updateQueue;Nn=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var u=o.baseState;s=0,d=c=l=null,a=i;do{var h=a.lane,g=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,p=a;switch(h=e,g=n,p.tag){case 1:if(v=p.payload,typeof v=="function"){u=v.call(g,u,h);break e}u=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,h=typeof v=="function"?v.call(g,u,h):v,h==null)break e;u=pe({},u,h);break e;case 2:Nn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=o.effects,h===null?o.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=u):d=d.next=g,s|=h;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;h=a,a=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(1);if(d===null&&(l=u),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=d,e=o.shared.interleaved,e!==null){o=e;do s|=o.lane,o=o.next;while(o!==e)}else i===null&&(o.shared.lanes=0);Mr|=s,t.lanes=s,t.memoizedState=u}}function zp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(N(191,o));o.call(r)}}}var ws={},$t=lr(ws),es=lr(ws),ts=lr(ws);function Tr(t){if(t===ws)throw Error(N(174));return t}function Bh(t,e){switch(oe(ts,e),oe(es,t),oe($t,ws),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Pu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Pu(e,t)}le($t),oe($t,e)}function Ro(){le($t),le(es),le(ts)}function Wy(t){Tr(ts.current);var e=Tr($t.current),n=Pu(e,t.type);e!==n&&(oe(es,t),oe($t,n))}function Lh(t){es.current===t&&(le($t),le(es))}var ue=lr(0);function Xa(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Mc=[];function Rh(){for(var t=0;t<Mc.length;t++)Mc[t]._workInProgressVersionPrimary=null;Mc.length=0}var pa=kn.ReactCurrentDispatcher,Dc=kn.ReactCurrentBatchConfig,Or=0,he=null,Ee=null,_e=null,Ja=!1,Bi=!1,ns=0,cS=0;function Oe(){throw Error(N(321))}function Oh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Lt(t[n],e[n]))return!1;return!0}function Mh(t,e,n,r,o,i){if(Or=i,he=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pa.current=t===null||t.memoizedState===null?fS:pS,t=n(r,o),Bi){i=0;do{if(Bi=!1,ns=0,25<=i)throw Error(N(301));i+=1,_e=Ee=null,e.updateQueue=null,pa.current=mS,t=n(r,o)}while(Bi)}if(pa.current=Qa,e=Ee!==null&&Ee.next!==null,Or=0,_e=Ee=he=null,Ja=!1,e)throw Error(N(300));return t}function Dh(){var t=ns!==0;return ns=0,t}function Mt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?he.memoizedState=_e=t:_e=_e.next=t,_e}function bt(){if(Ee===null){var t=he.alternate;t=t!==null?t.memoizedState:null}else t=Ee.next;var e=_e===null?he.memoizedState:_e.next;if(e!==null)_e=e,Ee=t;else{if(t===null)throw Error(N(310));Ee=t,t={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},_e===null?he.memoizedState=_e=t:_e=_e.next=t}return _e}function rs(t,e){return typeof e=="function"?e(t):e}function jc(t){var e=bt(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=Ee,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=s=null,l=null,c=i;do{var d=c.lane;if((Or&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var u={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=u,s=r):l=l.next=u,he.lanes|=d,Mr|=d}c=c.next}while(c!==null&&c!==i);l===null?s=r:l.next=a,Lt(r,e.memoizedState)||(Ye=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do i=o.lane,he.lanes|=i,Mr|=i,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Fc(t){var e=bt(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,i=e.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=t(i,s.action),s=s.next;while(s!==o);Lt(i,e.memoizedState)||(Ye=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Ky(){}function Gy(t,e){var n=he,r=bt(),o=e(),i=!Lt(r.memoizedState,o);if(i&&(r.memoizedState=o,Ye=!0),r=r.queue,jh(Xy.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||_e!==null&&_e.memoizedState.tag&1){if(n.flags|=2048,os(9,Yy.bind(null,n,r,o,e),void 0,null),Ie===null)throw Error(N(349));Or&30||qy(n,e,o)}return o}function qy(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=he.updateQueue,e===null?(e={lastEffect:null,stores:null},he.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Yy(t,e,n,r){e.value=n,e.getSnapshot=r,Jy(e)&&Qy(t)}function Xy(t,e,n){return n(function(){Jy(e)&&Qy(t)})}function Jy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Lt(t,n)}catch{return!0}}function Qy(t){var e=gn(t,1);e!==null&&At(e,t,1,-1)}function Hp(t){var e=Mt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:t},e.queue=t,t=t.dispatch=hS.bind(null,he,t),[e.memoizedState,t]}function os(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=he.updateQueue,e===null?(e={lastEffect:null,stores:null},he.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Zy(){return bt().memoizedState}function ma(t,e,n,r){var o=Mt();he.flags|=t,o.memoizedState=os(1|e,n,void 0,r===void 0?null:r)}function Ol(t,e,n,r){var o=bt();r=r===void 0?null:r;var i=void 0;if(Ee!==null){var s=Ee.memoizedState;if(i=s.destroy,r!==null&&Oh(r,s.deps)){o.memoizedState=os(e,n,i,r);return}}he.flags|=t,o.memoizedState=os(1|e,n,i,r)}function Wp(t,e){return ma(8390656,8,t,e)}function jh(t,e){return Ol(2048,8,t,e)}function e0(t,e){return Ol(4,2,t,e)}function t0(t,e){return Ol(4,4,t,e)}function n0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function r0(t,e,n){return n=n!=null?n.concat([t]):null,Ol(4,4,n0.bind(null,e,t),n)}function Fh(){}function o0(t,e){var n=bt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Oh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function i0(t,e){var n=bt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Oh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function s0(t,e,n){return Or&21?(Lt(n,e)||(n=dy(),he.lanes|=n,Mr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ye=!0),t.memoizedState=n)}function uS(t,e){var n=te;te=n!==0&&4>n?n:4,t(!0);var r=Dc.transition;Dc.transition={};try{t(!1),e()}finally{te=n,Dc.transition=r}}function a0(){return bt().memoizedState}function dS(t,e,n){var r=Yn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},l0(t))c0(e,n);else if(n=zy(t,e,n,r),n!==null){var o=He();At(n,t,r,o),u0(n,e,r)}}function hS(t,e,n){var r=Yn(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(l0(t))c0(e,o);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,Lt(a,s)){var l=e.interleaved;l===null?(o.next=o,Ah(e)):(o.next=l.next,l.next=o),e.interleaved=o;return}}catch{}finally{}n=zy(t,e,o,r),n!==null&&(o=He(),At(n,t,r,o),u0(n,e,r))}}function l0(t){var e=t.alternate;return t===he||e!==null&&e===he}function c0(t,e){Bi=Ja=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function u0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gh(t,n)}}var Qa={readContext:yt,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useInsertionEffect:Oe,useLayoutEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useMutableSource:Oe,useSyncExternalStore:Oe,useId:Oe,unstable_isNewReconciler:!1},fS={readContext:yt,useCallback:function(t,e){return Mt().memoizedState=[t,e===void 0?null:e],t},useContext:yt,useEffect:Wp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ma(4194308,4,n0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ma(4194308,4,t,e)},useInsertionEffect:function(t,e){return ma(4,2,t,e)},useMemo:function(t,e){var n=Mt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Mt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=dS.bind(null,he,t),[r.memoizedState,t]},useRef:function(t){var e=Mt();return t={current:t},e.memoizedState=t},useState:Hp,useDebugValue:Fh,useDeferredValue:function(t){return Mt().memoizedState=t},useTransition:function(){var t=Hp(!1),e=t[0];return t=uS.bind(null,t[1]),Mt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=he,o=Mt();if(ce){if(n===void 0)throw Error(N(407));n=n()}else{if(n=e(),Ie===null)throw Error(N(349));Or&30||qy(r,e,n)}o.memoizedState=n;var i={value:n,getSnapshot:e};return o.queue=i,Wp(Xy.bind(null,r,i,t),[t]),r.flags|=2048,os(9,Yy.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Mt(),e=Ie.identifierPrefix;if(ce){var n=en,r=Zt;n=(r&~(1<<32-Pt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ns++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=cS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},pS={readContext:yt,useCallback:o0,useContext:yt,useEffect:jh,useImperativeHandle:r0,useInsertionEffect:e0,useLayoutEffect:t0,useMemo:i0,useReducer:jc,useRef:Zy,useState:function(){return jc(rs)},useDebugValue:Fh,useDeferredValue:function(t){var e=bt();return s0(e,Ee.memoizedState,t)},useTransition:function(){var t=jc(rs)[0],e=bt().memoizedState;return[t,e]},useMutableSource:Ky,useSyncExternalStore:Gy,useId:a0,unstable_isNewReconciler:!1},mS={readContext:yt,useCallback:o0,useContext:yt,useEffect:jh,useImperativeHandle:r0,useInsertionEffect:e0,useLayoutEffect:t0,useMemo:i0,useReducer:Fc,useRef:Zy,useState:function(){return Fc(rs)},useDebugValue:Fh,useDeferredValue:function(t){var e=bt();return Ee===null?e.memoizedState=t:s0(e,Ee.memoizedState,t)},useTransition:function(){var t=Fc(rs)[0],e=bt().memoizedState;return[t,e]},useMutableSource:Ky,useSyncExternalStore:Gy,useId:a0,unstable_isNewReconciler:!1};function Ct(t,e){if(t&&t.defaultProps){e=pe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Xu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:pe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ml={isMounted:function(t){return(t=t._reactInternals)?Vr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=He(),o=Yn(t),i=un(r,o);i.payload=e,n!=null&&(i.callback=n),e=Gn(t,i,o),e!==null&&(At(e,t,o,r),fa(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=He(),o=Yn(t),i=un(r,o);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Gn(t,i,o),e!==null&&(At(e,t,o,r),fa(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=He(),r=Yn(t),o=un(n,r);o.tag=2,e!=null&&(o.callback=e),e=Gn(t,o,r),e!==null&&(At(e,t,r,n),fa(e,t,r))}};function Kp(t,e,n,r,o,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,s):e.prototype&&e.prototype.isPureReactComponent?!Xi(n,r)||!Xi(o,i):!0}function d0(t,e,n){var r=!1,o=rr,i=e.contextType;return typeof i=="object"&&i!==null?i=yt(i):(o=Qe(e)?Lr:Fe.current,r=e.contextTypes,i=(r=r!=null)?No(t,o):rr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ml,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=i),e}function Gp(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ml.enqueueReplaceState(e,e.state,null)}function Ju(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs={},Nh(t);var i=e.contextType;typeof i=="object"&&i!==null?o.context=yt(i):(i=Qe(e)?Lr:Fe.current,o.context=No(t,i)),o.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Xu(t,e,i,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&Ml.enqueueReplaceState(o,o.state,null),Ya(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function Oo(t,e){try{var n="",r=e;do n+=zw(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:o,digest:null}}function Uc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Qu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var gS=typeof WeakMap=="function"?WeakMap:Map;function h0(t,e,n){n=un(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){el||(el=!0,ld=r),Qu(t,e)},n}function f0(t,e,n){n=un(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){Qu(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Qu(t,e),typeof r!="function"&&(qn===null?qn=new Set([this]):qn.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function qp(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new gS;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=AS.bind(null,t,e,n),e.then(t,t))}function Yp(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Xp(t,e,n,r,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=un(-1,1),e.tag=2,Gn(n,e,1))),n.lanes|=1),t)}var vS=kn.ReactCurrentOwner,Ye=!1;function ze(t,e,n,r){e.child=t===null?Vy(e,null,n,r):Lo(e,t.child,n,r)}function Jp(t,e,n,r,o){n=n.render;var i=e.ref;return Co(e,o),r=Mh(t,e,n,r,i,o),n=Dh(),t!==null&&!Ye?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,vn(t,e,o)):(ce&&n&&Ch(e),e.flags|=1,ze(t,e,r,o),e.child)}function Qp(t,e,n,r,o){if(t===null){var i=n.type;return typeof i=="function"&&!Gh(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,p0(t,e,i,r,o)):(t=ba(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Xi,n(s,r)&&t.ref===e.ref)return vn(t,e,o)}return e.flags|=1,t=Xn(i,r),t.ref=e.ref,t.return=e,e.child=t}function p0(t,e,n,r,o){if(t!==null){var i=t.memoizedProps;if(Xi(i,r)&&t.ref===e.ref)if(Ye=!1,e.pendingProps=r=i,(t.lanes&o)!==0)t.flags&131072&&(Ye=!0);else return e.lanes=t.lanes,vn(t,e,o)}return Zu(t,e,n,r,o)}function m0(t,e,n){var r=e.pendingProps,o=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},oe(fo,rt),rt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,oe(fo,rt),rt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,oe(fo,rt),rt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,oe(fo,rt),rt|=r;return ze(t,e,o,n),e.child}function g0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Zu(t,e,n,r,o){var i=Qe(n)?Lr:Fe.current;return i=No(e,i),Co(e,o),n=Mh(t,e,n,r,i,o),r=Dh(),t!==null&&!Ye?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,vn(t,e,o)):(ce&&r&&Ch(e),e.flags|=1,ze(t,e,n,o),e.child)}function Zp(t,e,n,r,o){if(Qe(n)){var i=!0;Ha(e)}else i=!1;if(Co(e,o),e.stateNode===null)ga(t,e),d0(e,n,r),Ju(e,n,r,o),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=yt(c):(c=Qe(n)?Lr:Fe.current,c=No(e,c));var d=n.getDerivedStateFromProps,u=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";u||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Gp(e,s,r,c),Nn=!1;var h=e.memoizedState;s.state=h,Ya(e,r,s,o),l=e.memoizedState,a!==r||h!==l||Je.current||Nn?(typeof d=="function"&&(Xu(e,n,d,r),l=e.memoizedState),(a=Nn||Kp(e,n,a,r,h,l,c))?(u||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Hy(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ct(e.type,a),s.props=c,u=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=yt(l):(l=Qe(n)?Lr:Fe.current,l=No(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==u||h!==l)&&Gp(e,s,r,l),Nn=!1,h=e.memoizedState,s.state=h,Ya(e,r,s,o);var v=e.memoizedState;a!==u||h!==v||Je.current||Nn?(typeof g=="function"&&(Xu(e,n,g,r),v=e.memoizedState),(c=Nn||Kp(e,n,c,r,h,v,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),s.props=r,s.state=v,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return ed(t,e,n,r,i,o)}function ed(t,e,n,r,o,i){g0(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return o&&jp(e,n,!1),vn(t,e,i);r=e.stateNode,vS.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Lo(e,t.child,null,i),e.child=Lo(e,null,a,i)):ze(t,e,a,i),e.memoizedState=r.state,o&&jp(e,n,!0),e.child}function v0(t){var e=t.stateNode;e.pendingContext?Dp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Dp(t,e.context,!1),Bh(t,e.containerInfo)}function em(t,e,n,r,o){return Bo(),Th(o),e.flags|=256,ze(t,e,n,r),e.child}var td={dehydrated:null,treeContext:null,retryLane:0};function nd(t){return{baseLanes:t,cachePool:null,transitions:null}}function y0(t,e,n){var r=e.pendingProps,o=ue.current,i=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(o&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),oe(ue,o&1),t===null)return qu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,i?(r=e.mode,i=e.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Fl(s,r,0,null),t=Ar(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=nd(n),e.memoizedState=td,t):Uh(e,s));if(o=t.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return yS(t,e,s,r,a,o,n);if(i){i=r.fallback,s=e.mode,o=t.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Xn(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=Xn(a,i):(i=Ar(i,s,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,s=t.child.memoizedState,s=s===null?nd(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=t.childLanes&~n,e.memoizedState=td,r}return i=t.child,t=i.sibling,r=Xn(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Uh(t,e){return e=Fl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Js(t,e,n,r){return r!==null&&Th(r),Lo(e,t.child,null,n),t=Uh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yS(t,e,n,r,o,i,s){if(n)return e.flags&256?(e.flags&=-257,r=Uc(Error(N(422))),Js(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,o=e.mode,r=Fl({mode:"visible",children:r.children},o,0,null),i=Ar(i,o,s,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Lo(e,t.child,null,s),e.child.memoizedState=nd(s),e.memoizedState=td,i);if(!(e.mode&1))return Js(t,e,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(N(419)),r=Uc(i,r,void 0),Js(t,e,s,r)}if(a=(s&t.childLanes)!==0,Ye||a){if(r=Ie,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,gn(t,o),At(r,t,o,-1))}return Kh(),r=Uc(Error(N(421))),Js(t,e,s,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=NS.bind(null,t),o._reactRetry=e,null):(t=i.treeContext,ot=Kn(o.nextSibling),it=e,ce=!0,Tt=null,t!==null&&(ft[pt++]=Zt,ft[pt++]=en,ft[pt++]=Rr,Zt=t.id,en=t.overflow,Rr=e),e=Uh(e,r.children),e.flags|=4096,e)}function tm(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Yu(t.return,e,n)}function $c(t,e,n,r,o){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function b0(t,e,n){var r=e.pendingProps,o=r.revealOrder,i=r.tail;if(ze(t,e,r.children,n),r=ue.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tm(t,n,e);else if(t.tag===19)tm(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(oe(ue,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&Xa(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),$c(e,!1,o,n,i);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&Xa(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}$c(e,!0,n,null,i);break;case"together":$c(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ga(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Mr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,n=Xn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Xn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function bS(t,e,n){switch(e.tag){case 3:v0(e),Bo();break;case 5:Wy(e);break;case 1:Qe(e.type)&&Ha(e);break;case 4:Bh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;oe(Ga,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(oe(ue,ue.current&1),e.flags|=128,null):n&e.child.childLanes?y0(t,e,n):(oe(ue,ue.current&1),t=vn(t,e,n),t!==null?t.sibling:null);oe(ue,ue.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return b0(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),oe(ue,ue.current),r)break;return null;case 22:case 23:return e.lanes=0,m0(t,e,n)}return vn(t,e,n)}var x0,rd,w0,k0;x0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};rd=function(){};w0=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,Tr($t.current);var i=null;switch(n){case"input":o=Eu(t,o),r=Eu(t,r),i=[];break;case"select":o=pe({},o,{value:void 0}),r=pe({},r,{value:void 0}),i=[];break;case"textarea":o=Iu(t,o),r=Iu(t,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Va)}Au(n,r);var s;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var a=o[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(zi.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(zi.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&se("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};k0=function(t,e,n,r){n!==r&&(e.flags|=4)};function di(t,e){if(!ce)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Me(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function xS(t,e,n){var r=e.pendingProps;switch(Eh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(e),null;case 1:return Qe(e.type)&&za(),Me(e),null;case 3:return r=e.stateNode,Ro(),le(Je),le(Fe),Rh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ys(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Tt!==null&&(dd(Tt),Tt=null))),rd(t,e),Me(e),null;case 5:Lh(e);var o=Tr(ts.current);if(n=e.type,t!==null&&e.stateNode!=null)w0(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(N(166));return Me(e),null}if(t=Tr($t.current),Ys(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[jt]=e,r[Zi]=i,t=(e.mode&1)!==0,n){case"dialog":se("cancel",r),se("close",r);break;case"iframe":case"object":case"embed":se("load",r);break;case"video":case"audio":for(o=0;o<wi.length;o++)se(wi[o],r);break;case"source":se("error",r);break;case"img":case"image":case"link":se("error",r),se("load",r);break;case"details":se("toggle",r);break;case"input":up(r,i),se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},se("invalid",r);break;case"textarea":hp(r,i),se("invalid",r)}Au(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&qs(r.textContent,a,t),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&qs(r.textContent,a,t),o=["children",""+a]):zi.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&se("scroll",r)}switch(n){case"input":Us(r),dp(r,i,!0);break;case"textarea":Us(r),fp(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Va)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Xv(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[jt]=e,t[Zi]=r,x0(t,e,!1,!1),e.stateNode=t;e:{switch(s=Nu(n,r),n){case"dialog":se("cancel",t),se("close",t),o=r;break;case"iframe":case"object":case"embed":se("load",t),o=r;break;case"video":case"audio":for(o=0;o<wi.length;o++)se(wi[o],t);o=r;break;case"source":se("error",t),o=r;break;case"img":case"image":case"link":se("error",t),se("load",t),o=r;break;case"details":se("toggle",t),o=r;break;case"input":up(t,r),o=Eu(t,r),se("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=pe({},r,{value:void 0}),se("invalid",t);break;case"textarea":hp(t,r),o=Iu(t,r),se("invalid",t);break;default:o=r}Au(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Zv(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Jv(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Hi(t,l):typeof l=="number"&&Hi(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(zi.hasOwnProperty(i)?l!=null&&i==="onScroll"&&se("scroll",t):l!=null&&uh(t,i,l,s))}switch(n){case"input":Us(t),dp(t,r,!1);break;case"textarea":Us(t),fp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+nr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?xo(t,!!r.multiple,i,!1):r.defaultValue!=null&&xo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=Va)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Me(e),null;case 6:if(t&&e.stateNode!=null)k0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(N(166));if(n=Tr(ts.current),Tr($t.current),Ys(e)){if(r=e.stateNode,n=e.memoizedProps,r[jt]=e,(i=r.nodeValue!==n)&&(t=it,t!==null))switch(t.tag){case 3:qs(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&qs(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[jt]=e,e.stateNode=r}return Me(e),null;case 13:if(le(ue),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ce&&ot!==null&&e.mode&1&&!(e.flags&128))Uy(),Bo(),e.flags|=98560,i=!1;else if(i=Ys(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(N(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[jt]=e}else Bo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Me(e),i=!1}else Tt!==null&&(dd(Tt),Tt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ue.current&1?Te===0&&(Te=3):Kh())),e.updateQueue!==null&&(e.flags|=4),Me(e),null);case 4:return Ro(),rd(t,e),t===null&&Ji(e.stateNode.containerInfo),Me(e),null;case 10:return Ph(e.type._context),Me(e),null;case 17:return Qe(e.type)&&za(),Me(e),null;case 19:if(le(ue),i=e.memoizedState,i===null)return Me(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)di(i,!1);else{if(Te!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Xa(t),s!==null){for(e.flags|=128,di(i,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,t=s.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return oe(ue,ue.current&1|2),e.child}t=t.sibling}i.tail!==null&&ve()>Mo&&(e.flags|=128,r=!0,di(i,!1),e.lanes=4194304)}else{if(!r)if(t=Xa(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),di(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!ce)return Me(e),null}else 2*ve()-i.renderingStartTime>Mo&&n!==1073741824&&(e.flags|=128,r=!0,di(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(n=i.last,n!==null?n.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ve(),e.sibling=null,n=ue.current,oe(ue,r?n&1|2:n&1),e):(Me(e),null);case 22:case 23:return Wh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?rt&1073741824&&(Me(e),e.subtreeFlags&6&&(e.flags|=8192)):Me(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function wS(t,e){switch(Eh(e),e.tag){case 1:return Qe(e.type)&&za(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ro(),le(Je),le(Fe),Rh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Lh(e),null;case 13:if(le(ue),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));Bo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return le(ue),null;case 4:return Ro(),null;case 10:return Ph(e.type._context),null;case 22:case 23:return Wh(),null;case 24:return null;default:return null}}var Qs=!1,je=!1,kS=typeof WeakSet=="function"?WeakSet:Set,R=null;function ho(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){me(t,e,r)}else n.current=null}function od(t,e,n){try{n()}catch(r){me(t,e,r)}}var nm=!1;function SS(t,e){if($u=Fa,t=_y(),Sh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,d=0,u=t,h=null;t:for(;;){for(var g;u!==n||o!==0&&u.nodeType!==3||(a=s+o),u!==i||r!==0&&u.nodeType!==3||(l=s+r),u.nodeType===3&&(s+=u.nodeValue.length),(g=u.firstChild)!==null;)h=u,u=g;for(;;){if(u===t)break t;if(h===n&&++c===o&&(a=s),h===i&&++d===r&&(l=s),(g=u.nextSibling)!==null)break;u=h,h=u.parentNode}u=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vu={focusedElem:t,selectionRange:n},Fa=!1,R=e;R!==null;)if(e=R,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,R=t;else for(;R!==null;){e=R;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var p=v.memoizedProps,x=v.memoizedState,y=e.stateNode,m=y.getSnapshotBeforeUpdate(e.elementType===e.type?p:Ct(e.type,p),x);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(k){me(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,R=t;break}R=e.return}return v=nm,nm=!1,v}function Li(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var i=o.destroy;o.destroy=void 0,i!==void 0&&od(e,n,i)}o=o.next}while(o!==r)}}function Dl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function id(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function S0(t){var e=t.alternate;e!==null&&(t.alternate=null,S0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[jt],delete e[Zi],delete e[Wu],delete e[iS],delete e[sS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function C0(t){return t.tag===5||t.tag===3||t.tag===4}function rm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||C0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Va));else if(r!==4&&(t=t.child,t!==null))for(sd(t,e,n),t=t.sibling;t!==null;)sd(t,e,n),t=t.sibling}function ad(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ad(t,e,n),t=t.sibling;t!==null;)ad(t,e,n),t=t.sibling}var Ne=null,Et=!1;function En(t,e,n){for(n=n.child;n!==null;)E0(t,e,n),n=n.sibling}function E0(t,e,n){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Pl,n)}catch{}switch(n.tag){case 5:je||ho(n,e);case 6:var r=Ne,o=Et;Ne=null,En(t,e,n),Ne=r,Et=o,Ne!==null&&(Et?(t=Ne,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ne.removeChild(n.stateNode));break;case 18:Ne!==null&&(Et?(t=Ne,n=n.stateNode,t.nodeType===8?Rc(t.parentNode,n):t.nodeType===1&&Rc(t,n),qi(t)):Rc(Ne,n.stateNode));break;case 4:r=Ne,o=Et,Ne=n.stateNode.containerInfo,Et=!0,En(t,e,n),Ne=r,Et=o;break;case 0:case 11:case 14:case 15:if(!je&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&od(n,e,s),o=o.next}while(o!==r)}En(t,e,n);break;case 1:if(!je&&(ho(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){me(n,e,a)}En(t,e,n);break;case 21:En(t,e,n);break;case 22:n.mode&1?(je=(r=je)||n.memoizedState!==null,En(t,e,n),je=r):En(t,e,n);break;default:En(t,e,n)}}function om(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new kS),e.forEach(function(r){var o=BS.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function kt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ne=a.stateNode,Et=!1;break e;case 3:Ne=a.stateNode.containerInfo,Et=!0;break e;case 4:Ne=a.stateNode.containerInfo,Et=!0;break e}a=a.return}if(Ne===null)throw Error(N(160));E0(i,s,o),Ne=null,Et=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){me(o,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)T0(e,t),e=e.sibling}function T0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(kt(e,t),Ot(t),r&4){try{Li(3,t,t.return),Dl(3,t)}catch(p){me(t,t.return,p)}try{Li(5,t,t.return)}catch(p){me(t,t.return,p)}}break;case 1:kt(e,t),Ot(t),r&512&&n!==null&&ho(n,n.return);break;case 5:if(kt(e,t),Ot(t),r&512&&n!==null&&ho(n,n.return),t.flags&32){var o=t.stateNode;try{Hi(o,"")}catch(p){me(t,t.return,p)}}if(r&4&&(o=t.stateNode,o!=null)){var i=t.memoizedProps,s=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&qv(o,i),Nu(a,s);var c=Nu(a,i);for(s=0;s<l.length;s+=2){var d=l[s],u=l[s+1];d==="style"?Zv(o,u):d==="dangerouslySetInnerHTML"?Jv(o,u):d==="children"?Hi(o,u):uh(o,d,u,c)}switch(a){case"input":Tu(o,i);break;case"textarea":Yv(o,i);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?xo(o,!!i.multiple,g,!1):h!==!!i.multiple&&(i.defaultValue!=null?xo(o,!!i.multiple,i.defaultValue,!0):xo(o,!!i.multiple,i.multiple?[]:"",!1))}o[Zi]=i}catch(p){me(t,t.return,p)}}break;case 6:if(kt(e,t),Ot(t),r&4){if(t.stateNode===null)throw Error(N(162));o=t.stateNode,i=t.memoizedProps;try{o.nodeValue=i}catch(p){me(t,t.return,p)}}break;case 3:if(kt(e,t),Ot(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qi(e.containerInfo)}catch(p){me(t,t.return,p)}break;case 4:kt(e,t),Ot(t);break;case 13:kt(e,t),Ot(t),o=t.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(zh=ve())),r&4&&om(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(je=(c=je)||d,kt(e,t),je=c):kt(e,t),Ot(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(R=t,d=t.child;d!==null;){for(u=R=d;R!==null;){switch(h=R,g=h.child,h.tag){case 0:case 11:case 14:case 15:Li(4,h,h.return);break;case 1:ho(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(p){me(r,n,p)}}break;case 5:ho(h,h.return);break;case 22:if(h.memoizedState!==null){sm(u);continue}}g!==null?(g.return=h,R=g):sm(u)}d=d.sibling}e:for(d=null,u=t;;){if(u.tag===5){if(d===null){d=u;try{o=u.stateNode,c?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=u.stateNode,l=u.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Qv("display",s))}catch(p){me(t,t.return,p)}}}else if(u.tag===6){if(d===null)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(p){me(t,t.return,p)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===t)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:kt(e,t),Ot(t),r&4&&om(t);break;case 21:break;default:kt(e,t),Ot(t)}}function Ot(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(C0(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Hi(o,""),r.flags&=-33);var i=rm(t);ad(t,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,a=rm(t);sd(t,a,s);break;default:throw Error(N(161))}}catch(l){me(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function CS(t,e,n){R=t,_0(t)}function _0(t,e,n){for(var r=(t.mode&1)!==0;R!==null;){var o=R,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||Qs;if(!s){var a=o.alternate,l=a!==null&&a.memoizedState!==null||je;a=Qs;var c=je;if(Qs=s,(je=l)&&!c)for(R=o;R!==null;)s=R,l=s.child,s.tag===22&&s.memoizedState!==null?am(o):l!==null?(l.return=s,R=l):am(o);for(;i!==null;)R=i,_0(i),i=i.sibling;R=o,Qs=a,je=c}im(t)}else o.subtreeFlags&8772&&i!==null?(i.return=o,R=i):im(t)}}function im(t){for(;R!==null;){var e=R;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:je||Dl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!je)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:Ct(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&zp(e,i,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}zp(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var u=d.dehydrated;u!==null&&qi(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}je||e.flags&512&&id(e)}catch(h){me(e,e.return,h)}}if(e===t){R=null;break}if(n=e.sibling,n!==null){n.return=e.return,R=n;break}R=e.return}}function sm(t){for(;R!==null;){var e=R;if(e===t){R=null;break}var n=e.sibling;if(n!==null){n.return=e.return,R=n;break}R=e.return}}function am(t){for(;R!==null;){var e=R;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Dl(4,e)}catch(l){me(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(l){me(e,o,l)}}var i=e.return;try{id(e)}catch(l){me(e,i,l)}break;case 5:var s=e.return;try{id(e)}catch(l){me(e,s,l)}}}catch(l){me(e,e.return,l)}if(e===t){R=null;break}var a=e.sibling;if(a!==null){a.return=e.return,R=a;break}R=e.return}}var ES=Math.ceil,Za=kn.ReactCurrentDispatcher,$h=kn.ReactCurrentOwner,gt=kn.ReactCurrentBatchConfig,J=0,Ie=null,xe=null,Be=0,rt=0,fo=lr(0),Te=0,is=null,Mr=0,jl=0,Vh=0,Ri=null,qe=null,zh=0,Mo=1/0,Yt=null,el=!1,ld=null,qn=null,Zs=!1,$n=null,tl=0,Oi=0,cd=null,va=-1,ya=0;function He(){return J&6?ve():va!==-1?va:va=ve()}function Yn(t){return t.mode&1?J&2&&Be!==0?Be&-Be:lS.transition!==null?(ya===0&&(ya=dy()),ya):(t=te,t!==0||(t=window.event,t=t===void 0?16:yy(t.type)),t):1}function At(t,e,n,r){if(50<Oi)throw Oi=0,cd=null,Error(N(185));ys(t,n,r),(!(J&2)||t!==Ie)&&(t===Ie&&(!(J&2)&&(jl|=n),Te===4&&On(t,Be)),Ze(t,r),n===1&&J===0&&!(e.mode&1)&&(Mo=ve()+500,Rl&&cr()))}function Ze(t,e){var n=t.callbackNode;lk(t,e);var r=ja(t,t===Ie?Be:0);if(r===0)n!==null&&gp(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&gp(n),e===1)t.tag===0?aS(lm.bind(null,t)):Dy(lm.bind(null,t)),rS(function(){!(J&6)&&cr()}),n=null;else{switch(hy(r)){case 1:n=mh;break;case 4:n=cy;break;case 16:n=Da;break;case 536870912:n=uy;break;default:n=Da}n=O0(n,I0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function I0(t,e){if(va=-1,ya=0,J&6)throw Error(N(327));var n=t.callbackNode;if(Eo()&&t.callbackNode!==n)return null;var r=ja(t,t===Ie?Be:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=nl(t,r);else{e=r;var o=J;J|=2;var i=A0();(Ie!==t||Be!==e)&&(Yt=null,Mo=ve()+500,Pr(t,e));do try{IS();break}catch(a){P0(t,a)}while(1);Ih(),Za.current=i,J=o,xe!==null?e=0:(Ie=null,Be=0,e=Te)}if(e!==0){if(e===2&&(o=Mu(t),o!==0&&(r=o,e=ud(t,o))),e===1)throw n=is,Pr(t,0),On(t,r),Ze(t,ve()),n;if(e===6)On(t,r);else{if(o=t.current.alternate,!(r&30)&&!TS(o)&&(e=nl(t,r),e===2&&(i=Mu(t),i!==0&&(r=i,e=ud(t,i))),e===1))throw n=is,Pr(t,0),On(t,r),Ze(t,ve()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(N(345));case 2:yr(t,qe,Yt);break;case 3:if(On(t,r),(r&130023424)===r&&(e=zh+500-ve(),10<e)){if(ja(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){He(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=Hu(yr.bind(null,t,qe,Yt),e);break}yr(t,qe,Yt);break;case 4:if(On(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var s=31-Pt(r);i=1<<s,s=e[s],s>o&&(o=s),r&=~i}if(r=o,r=ve()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ES(r/1960))-r,10<r){t.timeoutHandle=Hu(yr.bind(null,t,qe,Yt),r);break}yr(t,qe,Yt);break;case 5:yr(t,qe,Yt);break;default:throw Error(N(329))}}}return Ze(t,ve()),t.callbackNode===n?I0.bind(null,t):null}function ud(t,e){var n=Ri;return t.current.memoizedState.isDehydrated&&(Pr(t,e).flags|=256),t=nl(t,e),t!==2&&(e=qe,qe=n,e!==null&&dd(e)),t}function dd(t){qe===null?qe=t:qe.push.apply(qe,t)}function TS(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Lt(i(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function On(t,e){for(e&=~Vh,e&=~jl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pt(e),r=1<<n;t[n]=-1,e&=~r}}function lm(t){if(J&6)throw Error(N(327));Eo();var e=ja(t,0);if(!(e&1))return Ze(t,ve()),null;var n=nl(t,e);if(t.tag!==0&&n===2){var r=Mu(t);r!==0&&(e=r,n=ud(t,r))}if(n===1)throw n=is,Pr(t,0),On(t,e),Ze(t,ve()),n;if(n===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,yr(t,qe,Yt),Ze(t,ve()),null}function Hh(t,e){var n=J;J|=1;try{return t(e)}finally{J=n,J===0&&(Mo=ve()+500,Rl&&cr())}}function Dr(t){$n!==null&&$n.tag===0&&!(J&6)&&Eo();var e=J;J|=1;var n=gt.transition,r=te;try{if(gt.transition=null,te=1,t)return t()}finally{te=r,gt.transition=n,J=e,!(J&6)&&cr()}}function Wh(){rt=fo.current,le(fo)}function Pr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,nS(n)),xe!==null)for(n=xe.return;n!==null;){var r=n;switch(Eh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&za();break;case 3:Ro(),le(Je),le(Fe),Rh();break;case 5:Lh(r);break;case 4:Ro();break;case 13:le(ue);break;case 19:le(ue);break;case 10:Ph(r.type._context);break;case 22:case 23:Wh()}n=n.return}if(Ie=t,xe=t=Xn(t.current,null),Be=rt=e,Te=0,is=null,Vh=jl=Mr=0,qe=Ri=null,Er!==null){for(e=0;e<Er.length;e++)if(n=Er[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}Er=null}return t}function P0(t,e){do{var n=xe;try{if(Ih(),pa.current=Qa,Ja){for(var r=he.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Ja=!1}if(Or=0,_e=Ee=he=null,Bi=!1,ns=0,$h.current=null,n===null||n.return===null){Te=1,is=e,xe=null;break}e:{var i=t,s=n.return,a=n,l=e;if(e=Be,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,u=d.tag;if(!(d.mode&1)&&(u===0||u===11||u===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Yp(s);if(g!==null){g.flags&=-257,Xp(g,s,a,i,e),g.mode&1&&qp(i,c,e),e=g,l=c;var v=e.updateQueue;if(v===null){var p=new Set;p.add(l),e.updateQueue=p}else v.add(l);break e}else{if(!(e&1)){qp(i,c,e),Kh();break e}l=Error(N(426))}}else if(ce&&a.mode&1){var x=Yp(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Xp(x,s,a,i,e),Th(Oo(l,a));break e}}i=l=Oo(l,a),Te!==4&&(Te=2),Ri===null?Ri=[i]:Ri.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=h0(i,l,e);Vp(i,y);break e;case 1:a=l;var m=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(qn===null||!qn.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=f0(i,a,e);Vp(i,k);break e}}i=i.return}while(i!==null)}B0(n)}catch(S){e=S,xe===n&&n!==null&&(xe=n=n.return);continue}break}while(1)}function A0(){var t=Za.current;return Za.current=Qa,t===null?Qa:t}function Kh(){(Te===0||Te===3||Te===2)&&(Te=4),Ie===null||!(Mr&268435455)&&!(jl&268435455)||On(Ie,Be)}function nl(t,e){var n=J;J|=2;var r=A0();(Ie!==t||Be!==e)&&(Yt=null,Pr(t,e));do try{_S();break}catch(o){P0(t,o)}while(1);if(Ih(),J=n,Za.current=r,xe!==null)throw Error(N(261));return Ie=null,Be=0,Te}function _S(){for(;xe!==null;)N0(xe)}function IS(){for(;xe!==null&&!Zw();)N0(xe)}function N0(t){var e=R0(t.alternate,t,rt);t.memoizedProps=t.pendingProps,e===null?B0(t):xe=e,$h.current=null}function B0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=wS(n,e),n!==null){n.flags&=32767,xe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Te=6,xe=null;return}}else if(n=xS(n,e,rt),n!==null){xe=n;return}if(e=e.sibling,e!==null){xe=e;return}xe=e=t}while(e!==null);Te===0&&(Te=5)}function yr(t,e,n){var r=te,o=gt.transition;try{gt.transition=null,te=1,PS(t,e,n,r)}finally{gt.transition=o,te=r}return null}function PS(t,e,n,r){do Eo();while($n!==null);if(J&6)throw Error(N(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(ck(t,i),t===Ie&&(xe=Ie=null,Be=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zs||(Zs=!0,O0(Da,function(){return Eo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=gt.transition,gt.transition=null;var s=te;te=1;var a=J;J|=4,$h.current=null,SS(t,n),T0(n,t),Yk(Vu),Fa=!!$u,Vu=$u=null,t.current=n,CS(n),ek(),J=a,te=s,gt.transition=i}else t.current=n;if(Zs&&(Zs=!1,$n=t,tl=o),i=t.pendingLanes,i===0&&(qn=null),rk(n.stateNode),Ze(t,ve()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(el)throw el=!1,t=ld,ld=null,t;return tl&1&&t.tag!==0&&Eo(),i=t.pendingLanes,i&1?t===cd?Oi++:(Oi=0,cd=t):Oi=0,cr(),null}function Eo(){if($n!==null){var t=hy(tl),e=gt.transition,n=te;try{if(gt.transition=null,te=16>t?16:t,$n===null)var r=!1;else{if(t=$n,$n=null,tl=0,J&6)throw Error(N(331));var o=J;for(J|=4,R=t.current;R!==null;){var i=R,s=i.child;if(R.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(R=c;R!==null;){var d=R;switch(d.tag){case 0:case 11:case 15:Li(8,d,i)}var u=d.child;if(u!==null)u.return=d,R=u;else for(;R!==null;){d=R;var h=d.sibling,g=d.return;if(S0(d),d===c){R=null;break}if(h!==null){h.return=g,R=h;break}R=g}}}var v=i.alternate;if(v!==null){var p=v.child;if(p!==null){v.child=null;do{var x=p.sibling;p.sibling=null,p=x}while(p!==null)}}R=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,R=s;else e:for(;R!==null;){if(i=R,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Li(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,R=y;break e}R=i.return}}var m=t.current;for(R=m;R!==null;){s=R;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,R=b;else e:for(s=m;R!==null;){if(a=R,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Dl(9,a)}}catch(S){me(a,a.return,S)}if(a===s){R=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,R=k;break e}R=a.return}}if(J=o,cr(),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Pl,t)}catch{}r=!0}return r}finally{te=n,gt.transition=e}}return!1}function cm(t,e,n){e=Oo(n,e),e=h0(t,e,1),t=Gn(t,e,1),e=He(),t!==null&&(ys(t,1,e),Ze(t,e))}function me(t,e,n){if(t.tag===3)cm(t,t,n);else for(;e!==null;){if(e.tag===3){cm(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qn===null||!qn.has(r))){t=Oo(n,t),t=f0(e,t,1),e=Gn(e,t,1),t=He(),e!==null&&(ys(e,1,t),Ze(e,t));break}}e=e.return}}function AS(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=He(),t.pingedLanes|=t.suspendedLanes&n,Ie===t&&(Be&n)===n&&(Te===4||Te===3&&(Be&130023424)===Be&&500>ve()-zh?Pr(t,0):Vh|=n),Ze(t,e)}function L0(t,e){e===0&&(t.mode&1?(e=zs,zs<<=1,!(zs&130023424)&&(zs=4194304)):e=1);var n=He();t=gn(t,e),t!==null&&(ys(t,e,n),Ze(t,n))}function NS(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),L0(t,n)}function BS(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(e),L0(t,n)}var R0;R0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Je.current)Ye=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ye=!1,bS(t,e,n);Ye=!!(t.flags&131072)}else Ye=!1,ce&&e.flags&1048576&&jy(e,Ka,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ga(t,e),t=e.pendingProps;var o=No(e,Fe.current);Co(e,n),o=Mh(null,e,r,t,o,n);var i=Dh();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qe(r)?(i=!0,Ha(e)):i=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Nh(e),o.updater=Ml,e.stateNode=o,o._reactInternals=e,Ju(e,r,t,n),e=ed(null,e,r,!0,i,n)):(e.tag=0,ce&&i&&Ch(e),ze(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ga(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=RS(r),t=Ct(r,t),o){case 0:e=Zu(null,e,r,t,n);break e;case 1:e=Zp(null,e,r,t,n);break e;case 11:e=Jp(null,e,r,t,n);break e;case 14:e=Qp(null,e,r,Ct(r.type,t),n);break e}throw Error(N(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Ct(r,o),Zu(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Ct(r,o),Zp(t,e,r,o,n);case 3:e:{if(v0(e),t===null)throw Error(N(387));r=e.pendingProps,i=e.memoizedState,o=i.element,Hy(t,e),Ya(e,r,null,n);var s=e.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){o=Oo(Error(N(423)),e),e=em(t,e,r,n,o);break e}else if(r!==o){o=Oo(Error(N(424)),e),e=em(t,e,r,n,o);break e}else for(ot=Kn(e.stateNode.containerInfo.firstChild),it=e,ce=!0,Tt=null,n=Vy(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Bo(),r===o){e=vn(t,e,n);break e}ze(t,e,r,n)}e=e.child}return e;case 5:return Wy(e),t===null&&qu(e),r=e.type,o=e.pendingProps,i=t!==null?t.memoizedProps:null,s=o.children,zu(r,o)?s=null:i!==null&&zu(r,i)&&(e.flags|=32),g0(t,e),ze(t,e,s,n),e.child;case 6:return t===null&&qu(e),null;case 13:return y0(t,e,n);case 4:return Bh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Lo(e,null,r,n):ze(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Ct(r,o),Jp(t,e,r,o,n);case 7:return ze(t,e,e.pendingProps,n),e.child;case 8:return ze(t,e,e.pendingProps.children,n),e.child;case 12:return ze(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,i=e.memoizedProps,s=o.value,oe(Ga,r._currentValue),r._currentValue=s,i!==null)if(Lt(i.value,s)){if(i.children===o.children&&!Je.current){e=vn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=un(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Yu(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)s=i.type===e.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(N(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Yu(s,n,e),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}ze(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,Co(e,n),o=yt(o),r=r(o),e.flags|=1,ze(t,e,r,n),e.child;case 14:return r=e.type,o=Ct(r,e.pendingProps),o=Ct(r.type,o),Qp(t,e,r,o,n);case 15:return p0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Ct(r,o),ga(t,e),e.tag=1,Qe(r)?(t=!0,Ha(e)):t=!1,Co(e,n),d0(e,r,o),Ju(e,r,o,n),ed(null,e,r,!0,t,n);case 19:return b0(t,e,n);case 22:return m0(t,e,n)}throw Error(N(156,e.tag))};function O0(t,e){return ly(t,e)}function LS(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mt(t,e,n,r){return new LS(t,e,n,r)}function Gh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function RS(t){if(typeof t=="function")return Gh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===hh)return 11;if(t===fh)return 14}return 2}function Xn(t,e){var n=t.alternate;return n===null?(n=mt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ba(t,e,n,r,o,i){var s=2;if(r=t,typeof t=="function")Gh(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case no:return Ar(n.children,o,i,e);case dh:s=8,o|=8;break;case wu:return t=mt(12,n,e,o|2),t.elementType=wu,t.lanes=i,t;case ku:return t=mt(13,n,e,o),t.elementType=ku,t.lanes=i,t;case Su:return t=mt(19,n,e,o),t.elementType=Su,t.lanes=i,t;case Wv:return Fl(n,o,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case zv:s=10;break e;case Hv:s=9;break e;case hh:s=11;break e;case fh:s=14;break e;case An:s=16,r=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=mt(s,n,e,o),e.elementType=t,e.type=r,e.lanes=i,e}function Ar(t,e,n,r){return t=mt(7,t,r,e),t.lanes=n,t}function Fl(t,e,n,r){return t=mt(22,t,r,e),t.elementType=Wv,t.lanes=n,t.stateNode={isHidden:!1},t}function Vc(t,e,n){return t=mt(6,t,null,e),t.lanes=n,t}function zc(t,e,n){return e=mt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function OS(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sc(0),this.expirationTimes=Sc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sc(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function qh(t,e,n,r,o,i,s,a,l){return t=new OS(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=mt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nh(i),t}function MS(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:to,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function M0(t){if(!t)return rr;t=t._reactInternals;e:{if(Vr(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var n=t.type;if(Qe(n))return My(t,n,e)}return e}function D0(t,e,n,r,o,i,s,a,l){return t=qh(n,r,!0,t,o,i,s,a,l),t.context=M0(null),n=t.current,r=He(),o=Yn(n),i=un(r,o),i.callback=e??null,Gn(n,i,o),t.current.lanes=o,ys(t,o,r),Ze(t,r),t}function Ul(t,e,n,r){var o=e.current,i=He(),s=Yn(o);return n=M0(n),e.context===null?e.context=n:e.pendingContext=n,e=un(i,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Gn(o,e,s),t!==null&&(At(t,o,s,i),fa(t,o,s)),s}function rl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function um(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Yh(t,e){um(t,e),(t=t.alternate)&&um(t,e)}function DS(){return null}var j0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Xh(t){this._internalRoot=t}$l.prototype.render=Xh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));Ul(t,e,null,null)};$l.prototype.unmount=Xh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Dr(function(){Ul(null,t,null,null)}),e[mn]=null}};function $l(t){this._internalRoot=t}$l.prototype.unstable_scheduleHydration=function(t){if(t){var e=my();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Rn.length&&e!==0&&e<Rn[n].priority;n++);Rn.splice(n,0,t),n===0&&vy(t)}};function Jh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Vl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function dm(){}function jS(t,e,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var c=rl(s);i.call(c)}}var s=D0(e,r,t,0,null,!1,!1,"",dm);return t._reactRootContainer=s,t[mn]=s.current,Ji(t.nodeType===8?t.parentNode:t),Dr(),s}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var c=rl(l);a.call(c)}}var l=qh(t,0,!1,null,null,!1,!1,"",dm);return t._reactRootContainer=l,t[mn]=l.current,Ji(t.nodeType===8?t.parentNode:t),Dr(function(){Ul(e,l,n,r)}),l}function zl(t,e,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var l=rl(s);a.call(l)}}Ul(e,s,t,o)}else s=jS(n,e,t,o,r);return rl(s)}fy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=xi(e.pendingLanes);n!==0&&(gh(e,n|1),Ze(e,ve()),!(J&6)&&(Mo=ve()+500,cr()))}break;case 13:Dr(function(){var r=gn(t,1);if(r!==null){var o=He();At(r,t,1,o)}}),Yh(t,1)}};vh=function(t){if(t.tag===13){var e=gn(t,134217728);if(e!==null){var n=He();At(e,t,134217728,n)}Yh(t,134217728)}};py=function(t){if(t.tag===13){var e=Yn(t),n=gn(t,e);if(n!==null){var r=He();At(n,t,e,r)}Yh(t,e)}};my=function(){return te};gy=function(t,e){var n=te;try{return te=t,e()}finally{te=n}};Lu=function(t,e,n){switch(e){case"input":if(Tu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=Ll(r);if(!o)throw Error(N(90));Gv(r),Tu(r,o)}}}break;case"textarea":Yv(t,n);break;case"select":e=n.value,e!=null&&xo(t,!!n.multiple,e,!1)}};ny=Hh;ry=Dr;var FS={usingClientEntryPoint:!1,Events:[xs,so,Ll,ey,ty,Hh]},hi={findFiberByHostInstance:Cr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},US={bundleType:hi.bundleType,version:hi.version,rendererPackageName:hi.rendererPackageName,rendererConfig:hi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=sy(t),t===null?null:t.stateNode},findFiberByHostInstance:hi.findFiberByHostInstance||DS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ea=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ea.isDisabled&&ea.supportsFiber)try{Pl=ea.inject(US),Ut=ea}catch{}}ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FS;ct.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jh(e))throw Error(N(200));return MS(t,e,null,n)};ct.createRoot=function(t,e){if(!Jh(t))throw Error(N(299));var n=!1,r="",o=j0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=qh(t,1,!1,null,null,n,!1,r,o),t[mn]=e.current,Ji(t.nodeType===8?t.parentNode:t),new Xh(e)};ct.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=sy(e),t=t===null?null:t.stateNode,t};ct.flushSync=function(t){return Dr(t)};ct.hydrate=function(t,e,n){if(!Vl(e))throw Error(N(200));return zl(null,t,e,!0,n)};ct.hydrateRoot=function(t,e,n){if(!Jh(t))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=j0;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=D0(e,null,t,1,n??null,o,!1,i,s),t[mn]=e.current,Ji(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new $l(e)};ct.render=function(t,e,n){if(!Vl(e))throw Error(N(200));return zl(null,t,e,!1,n)};ct.unmountComponentAtNode=function(t){if(!Vl(t))throw Error(N(40));return t._reactRootContainer?(Dr(function(){zl(null,null,t,!1,function(){t._reactRootContainer=null,t[mn]=null})}),!0):!1};ct.unstable_batchedUpdates=Hh;ct.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Vl(n))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return zl(t,e,n,!1,r)};ct.version="18.3.1-next-f1338f8080-20240426";function F0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(F0)}catch(t){console.error(t)}}F0(),Fv.exports=ct;var $S=Fv.exports,hm=$S;bu.createRoot=hm.createRoot,bu.hydrateRoot=hm.hydrateRoot;/**
 * @remix-run/router v1.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ss(){return ss=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ss.apply(this,arguments)}var Vn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Vn||(Vn={}));const fm="popstate";function VS(t){t===void 0&&(t={});function e(r,o){let{pathname:i,search:s,hash:a}=r.location;return hd("",{pathname:i,search:s,hash:a},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:ol(o)}return HS(e,n,null,t)}function fe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function U0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zS(){return Math.random().toString(36).substr(2,8)}function pm(t,e){return{usr:t.state,key:t.key,idx:e}}function hd(t,e,n,r){return n===void 0&&(n=null),ss({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xo(e):e,{state:n,key:e&&e.key||r||zS()})}function ol(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Xo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function HS(t,e,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,s=o.history,a=Vn.Pop,l=null,c=d();c==null&&(c=0,s.replaceState(ss({},s.state,{idx:c}),""));function d(){return(s.state||{idx:null}).idx}function u(){a=Vn.Pop;let x=d(),y=x==null?null:x-c;c=x,l&&l({action:a,location:p.location,delta:y})}function h(x,y){a=Vn.Push;let m=hd(p.location,x,y);n&&n(m,x),c=d()+1;let b=pm(m,c),k=p.createHref(m);try{s.pushState(b,"",k)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;o.location.assign(k)}i&&l&&l({action:a,location:p.location,delta:1})}function g(x,y){a=Vn.Replace;let m=hd(p.location,x,y);n&&n(m,x),c=d();let b=pm(m,c),k=p.createHref(m);s.replaceState(b,"",k),i&&l&&l({action:a,location:p.location,delta:0})}function v(x){let y=o.location.origin!=="null"?o.location.origin:o.location.href,m=typeof x=="string"?x:ol(x);return m=m.replace(/ $/,"%20"),fe(y,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,y)}let p={get action(){return a},get location(){return t(o,s)},listen(x){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(fm,u),l=x,()=>{o.removeEventListener(fm,u),l=null}},createHref(x){return e(o,x)},createURL:v,encodeLocation(x){let y=v(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:g,go(x){return s.go(x)}};return p}var mm;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(mm||(mm={}));function WS(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Xo(e):e,o=Do(r.pathname||"/",n);if(o==null)return null;let i=$0(t);KS(i);let s=null;for(let a=0;s==null&&a<i.length;++a){let l=rC(o);s=tC(i[a],l)}return s}function $0(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(i,s,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(fe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Jn([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(fe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),$0(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:ZS(c,i.index),routesMeta:d})};return t.forEach((i,s)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))o(i,s);else for(let l of V0(i.path))o(i,s,l)}),e}function V0(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let s=V0(r.join("/")),a=[];return a.push(...s.map(l=>l===""?i:[i,l].join("/"))),o&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function KS(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:eC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const GS=/^:[\w-]+$/,qS=3,YS=2,XS=1,JS=10,QS=-2,gm=t=>t==="*";function ZS(t,e){let n=t.split("/"),r=n.length;return n.some(gm)&&(r+=QS),e&&(r+=YS),n.filter(o=>!gm(o)).reduce((o,i)=>o+(GS.test(i)?qS:i===""?XS:JS),r)}function eC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function tC(t,e){let{routesMeta:n}=t,r={},o="/",i=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,c=o==="/"?e:e.slice(o.length)||"/",d=fd({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!d)return null;Object.assign(r,d.params);let u=a.route;i.push({params:r,pathname:Jn([o,d.pathname]),pathnameBase:aC(Jn([o,d.pathnameBase])),route:u}),d.pathnameBase!=="/"&&(o=Jn([o,d.pathnameBase]))}return i}function fd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=nC(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:r.reduce((c,d,u)=>{let{paramName:h,isOptional:g}=d;if(h==="*"){let p=a[u]||"";s=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const v=a[u];return g&&!v?c[h]=void 0:c[h]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:s,pattern:t}}function nC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),U0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function rC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return U0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Do(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function oC(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?Xo(t):t;return{pathname:n?n.startsWith("/")?n:iC(n,e):e,search:lC(r),hash:cC(o)}}function iC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Hc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Qh(t,e){let n=sC(t);return e?n.map((r,o)=>o===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Zh(t,e,n,r){r===void 0&&(r=!1);let o;typeof t=="string"?o=Xo(t):(o=ss({},t),fe(!o.pathname||!o.pathname.includes("?"),Hc("?","pathname","search",o)),fe(!o.pathname||!o.pathname.includes("#"),Hc("#","pathname","hash",o)),fe(!o.search||!o.search.includes("#"),Hc("#","search","hash",o)));let i=t===""||o.pathname==="",s=i?"/":o.pathname,a;if(s==null)a=n;else{let u=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),u-=1;o.pathname=h.join("/")}a=u>=0?e[u]:"/"}let l=oC(o,a),c=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Jn=t=>t.join("/").replace(/\/\/+/g,"/"),aC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),lC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,cC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function uC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const z0=["post","put","patch","delete"];new Set(z0);const dC=["get",...z0];new Set(dC);/**
 * React Router v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function as(){return as=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},as.apply(this,arguments)}const Hl=w.createContext(null),H0=w.createContext(null),Sn=w.createContext(null),Wl=w.createContext(null),Kt=w.createContext({outlet:null,matches:[],isDataRoute:!1}),W0=w.createContext(null);function hC(t,e){let{relative:n}=e===void 0?{}:e;Jo()||fe(!1);let{basename:r,navigator:o}=w.useContext(Sn),{hash:i,pathname:s,search:a}=Kl(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Jn([r,s])),o.createHref({pathname:l,search:a,hash:i})}function Jo(){return w.useContext(Wl)!=null}function zr(){return Jo()||fe(!1),w.useContext(Wl).location}function K0(t){w.useContext(Sn).static||w.useLayoutEffect(t)}function Qo(){let{isDataRoute:t}=w.useContext(Kt);return t?_C():fC()}function fC(){Jo()||fe(!1);let t=w.useContext(Hl),{basename:e,future:n,navigator:r}=w.useContext(Sn),{matches:o}=w.useContext(Kt),{pathname:i}=zr(),s=JSON.stringify(Qh(o,n.v7_relativeSplatPath)),a=w.useRef(!1);return K0(()=>{a.current=!0}),w.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let u=Zh(c,JSON.parse(s),i,d.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Jn([e,u.pathname])),(d.replace?r.replace:r.push)(u,d.state,d)},[e,r,s,i,t])}const pC=w.createContext(null);function mC(t){let e=w.useContext(Kt).outlet;return e&&w.createElement(pC.Provider,{value:t},e)}function Zo(){let{matches:t}=w.useContext(Kt),e=t[t.length-1];return e?e.params:{}}function Kl(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=w.useContext(Sn),{matches:o}=w.useContext(Kt),{pathname:i}=zr(),s=JSON.stringify(Qh(o,r.v7_relativeSplatPath));return w.useMemo(()=>Zh(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function gC(t,e){return vC(t,e)}function vC(t,e,n,r){Jo()||fe(!1);let{navigator:o}=w.useContext(Sn),{matches:i}=w.useContext(Kt),s=i[i.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=zr(),d;if(e){var u;let x=typeof e=="string"?Xo(e):e;l==="/"||(u=x.pathname)!=null&&u.startsWith(l)||fe(!1),d=x}else d=c;let h=d.pathname||"/",g=h;if(l!=="/"){let x=l.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=WS(t,{pathname:g}),p=kC(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Jn([l,o.encodeLocation?o.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Jn([l,o.encodeLocation?o.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return e&&p?w.createElement(Wl.Provider,{value:{location:as({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Vn.Pop}},p):p}function yC(){let t=TC(),e=uC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:o},n):null,i)}const bC=w.createElement(yC,null);class xC extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?w.createElement(Kt.Provider,{value:this.props.routeContext},w.createElement(W0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wC(t){let{routeContext:e,match:n,children:r}=t,o=w.useContext(Hl);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Kt.Provider,{value:e},r)}function kC(t,e,n,r){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,a=(o=n)==null?void 0:o.errors;if(a!=null){let d=s.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);d>=0||fe(!1),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<s.length;d++){let u=s[d];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=d),u.route.id){let{loaderData:h,errors:g}=n,v=u.route.loader&&h[u.route.id]===void 0&&(!g||g[u.route.id]===void 0);if(u.route.lazy||v){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,u,h)=>{let g,v=!1,p=null,x=null;n&&(g=a&&u.route.id?a[u.route.id]:void 0,p=u.route.errorElement||bC,l&&(c<0&&h===0?(IC("route-fallback",!1),v=!0,x=null):c===h&&(v=!0,x=u.route.hydrateFallbackElement||null)));let y=e.concat(s.slice(0,h+1)),m=()=>{let b;return g?b=p:v?b=x:u.route.Component?b=w.createElement(u.route.Component,null):u.route.element?b=u.route.element:b=d,w.createElement(wC,{match:u,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:b})};return n&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?w.createElement(xC,{location:n.location,revalidation:n.revalidation,component:p,error:g,children:m(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):m()},null)}var G0=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(G0||{}),il=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(il||{});function SC(t){let e=w.useContext(Hl);return e||fe(!1),e}function CC(t){let e=w.useContext(H0);return e||fe(!1),e}function EC(t){let e=w.useContext(Kt);return e||fe(!1),e}function q0(t){let e=EC(),n=e.matches[e.matches.length-1];return n.route.id||fe(!1),n.route.id}function TC(){var t;let e=w.useContext(W0),n=CC(il.UseRouteError),r=q0(il.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function _C(){let{router:t}=SC(G0.UseNavigateStable),e=q0(il.UseNavigateStable),n=w.useRef(!1);return K0(()=>{n.current=!0}),w.useCallback(function(o,i){i===void 0&&(i={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,as({fromRouteId:e},i)))},[t,e])}const vm={};function IC(t,e,n){!e&&!vm[t]&&(vm[t]=!0)}function ef(t){let{to:e,replace:n,state:r,relative:o}=t;Jo()||fe(!1);let{future:i,static:s}=w.useContext(Sn),{matches:a}=w.useContext(Kt),{pathname:l}=zr(),c=Qo(),d=Zh(e,Qh(a,i.v7_relativeSplatPath),l,o==="path"),u=JSON.stringify(d);return w.useEffect(()=>c(JSON.parse(u),{replace:n,state:r,relative:o}),[c,u,o,n,r]),null}function Y0(t){return mC(t.context)}function Pe(t){fe(!1)}function PC(t){let{basename:e="/",children:n=null,location:r,navigationType:o=Vn.Pop,navigator:i,static:s=!1,future:a}=t;Jo()&&fe(!1);let l=e.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:l,navigator:i,static:s,future:as({v7_relativeSplatPath:!1},a)}),[l,a,i,s]);typeof r=="string"&&(r=Xo(r));let{pathname:d="/",search:u="",hash:h="",state:g=null,key:v="default"}=r,p=w.useMemo(()=>{let x=Do(d,l);return x==null?null:{location:{pathname:x,search:u,hash:h,state:g,key:v},navigationType:o}},[l,d,u,h,g,v,o]);return p==null?null:w.createElement(Sn.Provider,{value:c},w.createElement(Wl.Provider,{children:n,value:p}))}function AC(t){let{children:e,location:n}=t;return gC(pd(e),n)}new Promise(()=>{});function pd(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(r,o)=>{if(!w.isValidElement(r))return;let i=[...e,o];if(r.type===w.Fragment){n.push.apply(n,pd(r.props.children,i));return}r.type!==Pe&&fe(!1),!r.props.index||!r.props.children||fe(!1);let s={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=pd(r.props.children,i)),n.push(s)}),n}/**
 * React Router DOM v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sl(){return sl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sl.apply(this,arguments)}function X0(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function NC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function BC(t,e){return t.button===0&&(!e||e==="_self")&&!NC(t)}function md(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(o=>[n,o]):[[n,r]])},[]))}function LC(t,e){let n=md(t);return e&&e.forEach((r,o)=>{n.has(o)||e.getAll(o).forEach(i=>{n.append(o,i)})}),n}const RC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],OC=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],MC="6";try{window.__reactRouterVersion=MC}catch{}const DC=w.createContext({isTransitioning:!1}),jC="startTransition",ym=Aw[jC];function FC(t){let{basename:e,children:n,future:r,window:o}=t,i=w.useRef();i.current==null&&(i.current=VS({window:o,v5Compat:!0}));let s=i.current,[a,l]=w.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},d=w.useCallback(u=>{c&&ym?ym(()=>l(u)):l(u)},[l,c]);return w.useLayoutEffect(()=>s.listen(d),[s,d]),w.createElement(PC,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const UC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$C=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ee=w.forwardRef(function(e,n){let{onClick:r,relative:o,reloadDocument:i,replace:s,state:a,target:l,to:c,preventScrollReset:d,unstable_viewTransition:u}=e,h=X0(e,RC),{basename:g}=w.useContext(Sn),v,p=!1;if(typeof c=="string"&&$C.test(c)&&(v=c,UC))try{let b=new URL(window.location.href),k=c.startsWith("//")?new URL(b.protocol+c):new URL(c),S=Do(k.pathname,g);k.origin===b.origin&&S!=null?c=S+k.search+k.hash:p=!0}catch{}let x=hC(c,{relative:o}),y=zC(c,{replace:s,state:a,target:l,preventScrollReset:d,relative:o,unstable_viewTransition:u});function m(b){r&&r(b),b.defaultPrevented||y(b)}return w.createElement("a",sl({},h,{href:v||x,onClick:p||i?r:m,ref:n,target:l}))}),fi=w.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:o=!1,className:i="",end:s=!1,style:a,to:l,unstable_viewTransition:c,children:d}=e,u=X0(e,OC),h=Kl(l,{relative:u.relative}),g=zr(),v=w.useContext(H0),{navigator:p,basename:x}=w.useContext(Sn),y=v!=null&&WC(h)&&c===!0,m=p.encodeLocation?p.encodeLocation(h).pathname:h.pathname,b=g.pathname,k=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;o||(b=b.toLowerCase(),k=k?k.toLowerCase():null,m=m.toLowerCase()),k&&x&&(k=Do(k,x)||k);const S=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let E=b===m||!s&&b.startsWith(m)&&b.charAt(S)==="/",_=k!=null&&(k===m||!s&&k.startsWith(m)&&k.charAt(m.length)==="/"),C={isActive:E,isPending:_,isTransitioning:y},T=E?r:void 0,P;typeof i=="function"?P=i(C):P=[i,E?"active":null,_?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(C):a;return w.createElement(ee,sl({},u,{"aria-current":T,className:P,ref:n,style:O,to:l,unstable_viewTransition:c}),typeof d=="function"?d(C):d)});var gd;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(gd||(gd={}));var bm;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(bm||(bm={}));function VC(t){let e=w.useContext(Hl);return e||fe(!1),e}function zC(t,e){let{target:n,replace:r,state:o,preventScrollReset:i,relative:s,unstable_viewTransition:a}=e===void 0?{}:e,l=Qo(),c=zr(),d=Kl(t,{relative:s});return w.useCallback(u=>{if(BC(u,n)){u.preventDefault();let h=r!==void 0?r:ol(c)===ol(d);l(t,{replace:h,state:o,preventScrollReset:i,relative:s,unstable_viewTransition:a})}},[c,l,d,r,o,n,t,i,s,a])}function HC(t){let e=w.useRef(md(t)),n=w.useRef(!1),r=zr(),o=w.useMemo(()=>LC(r.search,n.current?null:e.current),[r.search]),i=Qo(),s=w.useCallback((a,l)=>{const c=md(typeof a=="function"?a(o):a);n.current=!0,i("?"+c,l)},[i,o]);return[o,s]}function WC(t,e){e===void 0&&(e={});let n=w.useContext(DC);n==null&&fe(!1);let{basename:r}=VC(gd.useViewTransitionState),o=Kl(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=Do(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Do(n.nextLocation.pathname,r)||n.nextLocation.pathname;return fd(o.pathname,s)!=null||fd(o.pathname,i)!=null}const tf="/assets/full-logo-fce5701e.png",J0=w.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Gl=w.createContext({}),ql=w.createContext(null),Yl=typeof document<"u",nf=Yl?w.useLayoutEffect:w.useEffect,Q0=w.createContext({strict:!1}),rf=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),KC="framerAppearId",Z0="data-"+rf(KC);function GC(t,e,n,r){const{visualElement:o}=w.useContext(Gl),i=w.useContext(Q0),s=w.useContext(ql),a=w.useContext(J0).reducedMotion,l=w.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:o,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;w.useInsertionEffect(()=>{c&&c.update(n,s)});const d=w.useRef(!!(n[Z0]&&!window.HandoffComplete));return nf(()=>{c&&(c.render(),d.current&&c.animationState&&c.animationState.animateChanges())}),w.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function po(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function qC(t,e,n){return w.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):po(n)&&(n.current=r))},[e])}function ls(t){return typeof t=="string"||Array.isArray(t)}function Xl(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const of=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],sf=["initial",...of];function Jl(t){return Xl(t.animate)||sf.some(e=>ls(t[e]))}function e1(t){return!!(Jl(t)||t.variants)}function YC(t,e){if(Jl(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ls(n)?n:void 0,animate:ls(r)?r:void 0}}return t.inherit!==!1?e:{}}function XC(t){const{initial:e,animate:n}=YC(t,w.useContext(Gl));return w.useMemo(()=>({initial:e,animate:n}),[xm(e),xm(n)])}function xm(t){return Array.isArray(t)?t.join(" "):t}const wm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},cs={};for(const t in wm)cs[t]={isEnabled:e=>wm[t].some(n=>!!e[n])};function JC(t){for(const e in t)cs[e]={...cs[e],...t[e]}}const af=w.createContext({}),t1=w.createContext({}),QC=Symbol.for("motionComponentSymbol");function ZC({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:o}){t&&JC(t);function i(a,l){let c;const d={...w.useContext(J0),...a,layoutId:eE(a)},{isStatic:u}=d,h=XC(a),g=r(a,u);if(!u&&Yl){h.visualElement=GC(o,g,d,e);const v=w.useContext(t1),p=w.useContext(Q0).strict;h.visualElement&&(c=h.visualElement.loadFeatures(d,p,t,v))}return w.createElement(Gl.Provider,{value:h},c&&h.visualElement?w.createElement(c,{visualElement:h.visualElement,...d}):null,n(o,a,qC(g,h.visualElement,l),g,u,h.visualElement))}const s=w.forwardRef(i);return s[QC]=o,s}function eE({layoutId:t}){const e=w.useContext(af).id;return e&&t!==void 0?e+"-"+t:t}function tE(t){function e(r,o={}){return ZC(t(r,o))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,o)=>(n.has(o)||n.set(o,e(o)),n.get(o))})}const nE=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function lf(t){return typeof t!="string"||t.includes("-")?!1:!!(nE.indexOf(t)>-1||/[A-Z]/.test(t))}const al={};function rE(t){Object.assign(al,t)}const ks=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Hr=new Set(ks);function n1(t,{layout:e,layoutId:n}){return Hr.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!al[t]||t==="opacity")}const et=t=>!!(t&&t.getVelocity),oE={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iE=ks.length;function sE(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,o){let i="";for(let s=0;s<iE;s++){const a=ks[s];if(t[a]!==void 0){const l=oE[a]||a;i+=`${l}(${t[a]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),o?i=o(t,r?"":i):n&&r&&(i="none"),i}const r1=t=>e=>typeof e=="string"&&e.startsWith(t),o1=r1("--"),vd=r1("var(--"),aE=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,lE=(t,e)=>e&&typeof t=="number"?e.transform(t):t,or=(t,e,n)=>Math.min(Math.max(n,t),e),Wr={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Mi={...Wr,transform:t=>or(0,1,t)},ta={...Wr,default:1},Di=t=>Math.round(t*1e5)/1e5,Ql=/(-)?([\d]*\.?[\d])+/g,i1=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,cE=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Ss(t){return typeof t=="string"}const Cs=t=>({test:e=>Ss(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),In=Cs("deg"),Vt=Cs("%"),H=Cs("px"),uE=Cs("vh"),dE=Cs("vw"),km={...Vt,parse:t=>Vt.parse(t)/100,transform:t=>Vt.transform(t*100)},Sm={...Wr,transform:Math.round},s1={borderWidth:H,borderTopWidth:H,borderRightWidth:H,borderBottomWidth:H,borderLeftWidth:H,borderRadius:H,radius:H,borderTopLeftRadius:H,borderTopRightRadius:H,borderBottomRightRadius:H,borderBottomLeftRadius:H,width:H,maxWidth:H,height:H,maxHeight:H,size:H,top:H,right:H,bottom:H,left:H,padding:H,paddingTop:H,paddingRight:H,paddingBottom:H,paddingLeft:H,margin:H,marginTop:H,marginRight:H,marginBottom:H,marginLeft:H,rotate:In,rotateX:In,rotateY:In,rotateZ:In,scale:ta,scaleX:ta,scaleY:ta,scaleZ:ta,skew:In,skewX:In,skewY:In,distance:H,translateX:H,translateY:H,translateZ:H,x:H,y:H,z:H,perspective:H,transformPerspective:H,opacity:Mi,originX:km,originY:km,originZ:H,zIndex:Sm,fillOpacity:Mi,strokeOpacity:Mi,numOctaves:Sm};function cf(t,e,n,r){const{style:o,vars:i,transform:s,transformOrigin:a}=t;let l=!1,c=!1,d=!0;for(const u in e){const h=e[u];if(o1(u)){i[u]=h;continue}const g=s1[u],v=lE(h,g);if(Hr.has(u)){if(l=!0,s[u]=v,!d)continue;h!==(g.default||0)&&(d=!1)}else u.startsWith("origin")?(c=!0,a[u]=v):o[u]=v}if(e.transform||(l||r?o.transform=sE(t.transform,n,d,r):o.transform&&(o.transform="none")),c){const{originX:u="50%",originY:h="50%",originZ:g=0}=a;o.transformOrigin=`${u} ${h} ${g}`}}const uf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function a1(t,e,n){for(const r in e)!et(e[r])&&!n1(r,n)&&(t[r]=e[r])}function hE({transformTemplate:t},e,n){return w.useMemo(()=>{const r=uf();return cf(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function fE(t,e,n){const r=t.style||{},o={};return a1(o,r,t),Object.assign(o,hE(t,e,n)),t.transformValues?t.transformValues(o):o}function pE(t,e,n){const r={},o=fE(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=o,r}const mE=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ll(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||mE.has(t)}let l1=t=>!ll(t);function gE(t){t&&(l1=e=>e.startsWith("on")?!ll(e):t(e))}try{gE(require("@emotion/is-prop-valid").default)}catch{}function vE(t,e,n){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(l1(o)||n===!0&&ll(o)||!e&&!ll(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}function Cm(t,e,n){return typeof t=="string"?t:H.transform(e+n*t)}function yE(t,e,n){const r=Cm(e,t.x,t.width),o=Cm(n,t.y,t.height);return`${r} ${o}`}const bE={offset:"stroke-dashoffset",array:"stroke-dasharray"},xE={offset:"strokeDashoffset",array:"strokeDasharray"};function wE(t,e,n=1,r=0,o=!0){t.pathLength=1;const i=o?bE:xE;t[i.offset]=H.transform(-r);const s=H.transform(e),a=H.transform(n);t[i.array]=`${s} ${a}`}function df(t,{attrX:e,attrY:n,attrScale:r,originX:o,originY:i,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...c},d,u,h){if(cf(t,c,d,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:v,dimensions:p}=t;g.transform&&(p&&(v.transform=g.transform),delete g.transform),p&&(o!==void 0||i!==void 0||v.transform)&&(v.transformOrigin=yE(p,o!==void 0?o:.5,i!==void 0?i:.5)),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),s!==void 0&&wE(g,s,a,l,!1)}const c1=()=>({...uf(),attrs:{}}),hf=t=>typeof t=="string"&&t.toLowerCase()==="svg";function kE(t,e,n,r){const o=w.useMemo(()=>{const i=c1();return df(i,e,{enableHardwareAcceleration:!1},hf(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};a1(i,t.style,t),o.style={...i,...o.style}}return o}function SE(t=!1){return(n,r,o,{latestValues:i},s)=>{const l=(lf(n)?kE:pE)(r,i,s,n),d={...vE(r,typeof n=="string",t),...l,ref:o},{children:u}=r,h=w.useMemo(()=>et(u)?u.get():u,[u]);return w.createElement(n,{...d,children:h})}}function u1(t,{style:e,vars:n},r,o){Object.assign(t.style,e,o&&o.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const d1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function h1(t,e,n,r){u1(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(d1.has(o)?o:rf(o),e.attrs[o])}function ff(t,e){const{style:n}=t,r={};for(const o in n)(et(n[o])||e.style&&et(e.style[o])||n1(o,t))&&(r[o]=n[o]);return r}function f1(t,e){const n=ff(t,e);for(const r in t)if(et(t[r])||et(e[r])){const o=ks.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[o]=t[r]}return n}function pf(t,e,n,r={},o={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,o)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,o)),e}function p1(t){const e=w.useRef(null);return e.current===null&&(e.current=t()),e.current}const cl=t=>Array.isArray(t),CE=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),EE=t=>cl(t)?t[t.length-1]||0:t;function xa(t){const e=et(t)?t.get():t;return CE(e)?e.toValue():e}function TE({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,o,i){const s={latestValues:_E(r,o,i,t),renderState:e()};return n&&(s.mount=a=>n(r,a,s)),s}const m1=t=>(e,n)=>{const r=w.useContext(Gl),o=w.useContext(ql),i=()=>TE(t,e,r,o);return n?i():p1(i)};function _E(t,e,n,r){const o={},i=r(t,{});for(const h in i)o[h]=xa(i[h]);let{initial:s,animate:a}=t;const l=Jl(t),c=e1(t);e&&c&&!l&&t.inherit!==!1&&(s===void 0&&(s=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const u=d?a:s;return u&&typeof u!="boolean"&&!Xl(u)&&(Array.isArray(u)?u:[u]).forEach(g=>{const v=pf(t,g);if(!v)return;const{transitionEnd:p,transition:x,...y}=v;for(const m in y){let b=y[m];if(Array.isArray(b)){const k=d?b.length-1:0;b=b[k]}b!==null&&(o[m]=b)}for(const m in p)o[m]=p[m]}),o}const ge=t=>t;class Em{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function IE(t){let e=new Em,n=new Em,r=0,o=!1,i=!1;const s=new WeakSet,a={schedule:(l,c=!1,d=!1)=>{const u=d&&o,h=u?e:n;return c&&s.add(l),h.add(l)&&u&&o&&(r=e.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(o){i=!0;return}if(o=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const d=e.order[c];d(l),s.has(d)&&(a.schedule(d),t())}o=!1,i&&(i=!1,a.process(l))}};return a}const na=["prepare","read","update","preRender","render","postRender"],PE=40;function AE(t,e){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=na.reduce((u,h)=>(u[h]=IE(()=>n=!0),u),{}),s=u=>i[u].process(o),a=()=>{const u=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(u-o.timestamp,PE),1),o.timestamp=u,o.isProcessing=!0,na.forEach(s),o.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,o.isProcessing||t(a)};return{schedule:na.reduce((u,h)=>{const g=i[h];return u[h]=(v,p=!1,x=!1)=>(n||l(),g.schedule(v,p,x)),u},{}),cancel:u=>na.forEach(h=>i[h].cancel(u)),state:o,steps:i}}const{schedule:ie,cancel:yn,state:De,steps:Wc}=AE(typeof requestAnimationFrame<"u"?requestAnimationFrame:ge,!0),NE={useVisualState:m1({scrapeMotionValuesFromProps:f1,createRenderState:c1,onMount:(t,e,{renderState:n,latestValues:r})=>{ie.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ie.render(()=>{df(n,r,{enableHardwareAcceleration:!1},hf(e.tagName),t.transformTemplate),h1(e,n)})}})},BE={useVisualState:m1({scrapeMotionValuesFromProps:ff,createRenderState:uf})};function LE(t,{forwardMotionProps:e=!1},n,r){return{...lf(t)?NE:BE,preloadedFeatures:n,useRender:SE(e),createVisualElement:r,Component:t}}function tn(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const g1=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Zl(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const RE=t=>e=>g1(e)&&t(e,Zl(e));function dn(t,e,n,r){return tn(t,e,RE(n),r)}const OE=(t,e)=>n=>e(t(n)),Qn=(...t)=>t.reduce(OE);function v1(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const Tm=v1("dragHorizontal"),_m=v1("dragVertical");function y1(t){let e=!1;if(t==="y")e=_m();else if(t==="x")e=Tm();else{const n=Tm(),r=_m();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function b1(){const t=y1(!0);return t?(t(),!1):!0}class ur{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Im(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),o=(i,s)=>{if(i.pointerType==="touch"||b1())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&ie.update(()=>a[r](i,s))};return dn(t.current,n,o,{passive:!t.getProps()[r]})}class ME extends ur{mount(){this.unmount=Qn(Im(this.node,!0),Im(this.node,!1))}unmount(){}}class DE extends ur{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Qn(tn(this.node.current,"focus",()=>this.onFocus()),tn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const x1=(t,e)=>e?t===e?!0:x1(t,e.parentElement):!1;function Kc(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Zl(n))}class jE extends ur{constructor(){super(...arguments),this.removeStartListeners=ge,this.removeEndListeners=ge,this.removeAccessibleListeners=ge,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=dn(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:u}=this.node.getProps();ie.update(()=>{!u&&!x1(this.node.current,a.target)?d&&d(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=dn(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Qn(i,s),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||Kc("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&ie.update(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=tn(this.node.current,"keyup",s),Kc("down",(a,l)=>{this.startPress(a,l)})},n=tn(this.node.current,"keydown",e),r=()=>{this.isPressing&&Kc("cancel",(i,s)=>this.cancelPress(i,s))},o=tn(this.node.current,"blur",r);this.removeAccessibleListeners=Qn(n,o)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ie.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!b1()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ie.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=dn(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=tn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Qn(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const yd=new WeakMap,Gc=new WeakMap,FE=t=>{const e=yd.get(t.target);e&&e(t)},UE=t=>{t.forEach(FE)};function $E({root:t,...e}){const n=t||document;Gc.has(n)||Gc.set(n,{});const r=Gc.get(n),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(UE,{root:t,...e})),r[o]}function VE(t,e,n){const r=$E(e);return yd.set(t,n),r.observe(t),()=>{yd.delete(t),r.unobserve(t)}}const zE={some:0,all:1};class HE extends ur{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:i}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:zE[o]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:u}=this.node.getProps(),h=c?d:u;h&&h(l)};return VE(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(WE(e,n))&&this.startObserver()}unmount(){}}function WE({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const KE={inView:{Feature:HE},tap:{Feature:jE},focus:{Feature:DE},hover:{Feature:ME}};function w1(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function GE(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function qE(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function ec(t,e,n){const r=t.getProps();return pf(r,e,n!==void 0?n:r.custom,GE(t),qE(t))}let YE=ge,mf=ge;const Zn=t=>t*1e3,hn=t=>t/1e3,XE={current:!1},k1=t=>Array.isArray(t)&&typeof t[0]=="number";function S1(t){return!!(!t||typeof t=="string"&&C1[t]||k1(t)||Array.isArray(t)&&t.every(S1))}const ki=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,C1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ki([0,.65,.55,1]),circOut:ki([.55,0,1,.45]),backIn:ki([.31,.01,.66,-.59]),backOut:ki([.33,1.53,.69,.99])};function E1(t){if(t)return k1(t)?ki(t):Array.isArray(t)?t.map(E1):C1[t]}function JE(t,e,n,{delay:r=0,duration:o,repeat:i=0,repeatType:s="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=E1(a);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:r,duration:o,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"})}function QE(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const T1=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,ZE=1e-7,eT=12;function tT(t,e,n,r,o){let i,s,a=0;do s=e+(n-e)/2,i=T1(s,r,o)-t,i>0?n=s:e=s;while(Math.abs(i)>ZE&&++a<eT);return s}function Es(t,e,n,r){if(t===e&&n===r)return ge;const o=i=>tT(i,0,1,t,n);return i=>i===0||i===1?i:T1(o(i),e,r)}const nT=Es(.42,0,1,1),rT=Es(0,0,.58,1),_1=Es(.42,0,.58,1),oT=t=>Array.isArray(t)&&typeof t[0]!="number",I1=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,P1=t=>e=>1-t(1-e),gf=t=>1-Math.sin(Math.acos(t)),A1=P1(gf),iT=I1(gf),N1=Es(.33,1.53,.69,.99),vf=P1(N1),sT=I1(vf),aT=t=>(t*=2)<1?.5*vf(t):.5*(2-Math.pow(2,-10*(t-1))),lT={linear:ge,easeIn:nT,easeInOut:_1,easeOut:rT,circIn:gf,circInOut:iT,circOut:A1,backIn:vf,backInOut:sT,backOut:N1,anticipate:aT},Pm=t=>{if(Array.isArray(t)){mf(t.length===4);const[e,n,r,o]=t;return Es(e,n,r,o)}else if(typeof t=="string")return lT[t];return t},yf=(t,e)=>n=>!!(Ss(n)&&cE.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),B1=(t,e,n)=>r=>{if(!Ss(r))return r;const[o,i,s,a]=r.match(Ql);return{[t]:parseFloat(o),[e]:parseFloat(i),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},cT=t=>or(0,255,t),qc={...Wr,transform:t=>Math.round(cT(t))},_r={test:yf("rgb","red"),parse:B1("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+qc.transform(t)+", "+qc.transform(e)+", "+qc.transform(n)+", "+Di(Mi.transform(r))+")"};function uT(t){let e="",n="",r="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const bd={test:yf("#"),parse:uT,transform:_r.transform},mo={test:yf("hsl","hue"),parse:B1("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Vt.transform(Di(e))+", "+Vt.transform(Di(n))+", "+Di(Mi.transform(r))+")"},Ve={test:t=>_r.test(t)||bd.test(t)||mo.test(t),parse:t=>_r.test(t)?_r.parse(t):mo.test(t)?mo.parse(t):bd.parse(t),transform:t=>Ss(t)?t:t.hasOwnProperty("red")?_r.transform(t):mo.transform(t)},de=(t,e,n)=>-n*t+n*e+t;function Yc(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function dT({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let o=0,i=0,s=0;if(!e)o=i=s=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;o=Yc(l,a,t+1/3),i=Yc(l,a,t),s=Yc(l,a,t-1/3)}return{red:Math.round(o*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:r}}const Xc=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},hT=[bd,_r,mo],fT=t=>hT.find(e=>e.test(t));function Am(t){const e=fT(t);let n=e.parse(t);return e===mo&&(n=dT(n)),n}const L1=(t,e)=>{const n=Am(t),r=Am(e),o={...n};return i=>(o.red=Xc(n.red,r.red,i),o.green=Xc(n.green,r.green,i),o.blue=Xc(n.blue,r.blue,i),o.alpha=de(n.alpha,r.alpha,i),_r.transform(o))};function pT(t){var e,n;return isNaN(t)&&Ss(t)&&(((e=t.match(Ql))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(i1))===null||n===void 0?void 0:n.length)||0)>0}const R1={regex:aE,countKey:"Vars",token:"${v}",parse:ge},O1={regex:i1,countKey:"Colors",token:"${c}",parse:Ve.parse},M1={regex:Ql,countKey:"Numbers",token:"${n}",parse:Wr.parse};function Jc(t,{regex:e,countKey:n,token:r,parse:o}){const i=t.tokenised.match(e);i&&(t["num"+n]=i.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...i.map(o)))}function ul(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Jc(n,R1),Jc(n,O1),Jc(n,M1),n}function D1(t){return ul(t).values}function j1(t){const{values:e,numColors:n,numVars:r,tokenised:o}=ul(t),i=e.length;return s=>{let a=o;for(let l=0;l<i;l++)l<r?a=a.replace(R1.token,s[l]):l<r+n?a=a.replace(O1.token,Ve.transform(s[l])):a=a.replace(M1.token,Di(s[l]));return a}}const mT=t=>typeof t=="number"?0:t;function gT(t){const e=D1(t);return j1(t)(e.map(mT))}const ir={test:pT,parse:D1,createTransformer:j1,getAnimatableNone:gT},F1=(t,e)=>n=>`${n>0?e:t}`;function U1(t,e){return typeof t=="number"?n=>de(t,e,n):Ve.test(t)?L1(t,e):t.startsWith("var(")?F1(t,e):V1(t,e)}const $1=(t,e)=>{const n=[...t],r=n.length,o=t.map((i,s)=>U1(i,e[s]));return i=>{for(let s=0;s<r;s++)n[s]=o[s](i);return n}},vT=(t,e)=>{const n={...t,...e},r={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(r[o]=U1(t[o],e[o]));return o=>{for(const i in r)n[i]=r[i](o);return n}},V1=(t,e)=>{const n=ir.createTransformer(e),r=ul(t),o=ul(e);return r.numVars===o.numVars&&r.numColors===o.numColors&&r.numNumbers>=o.numNumbers?Qn($1(r.values,o.values),n):F1(t,e)},us=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Nm=(t,e)=>n=>de(t,e,n);function yT(t){return typeof t=="number"?Nm:typeof t=="string"?Ve.test(t)?L1:V1:Array.isArray(t)?$1:typeof t=="object"?vT:Nm}function bT(t,e,n){const r=[],o=n||yT(t[0]),i=t.length-1;for(let s=0;s<i;s++){let a=o(t[s],t[s+1]);if(e){const l=Array.isArray(e)?e[s]||ge:e;a=Qn(l,a)}r.push(a)}return r}function z1(t,e,{clamp:n=!0,ease:r,mixer:o}={}){const i=t.length;if(mf(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=bT(e,r,o),a=s.length,l=c=>{let d=0;if(a>1)for(;d<t.length-2&&!(c<t[d+1]);d++);const u=us(t[d],t[d+1],c);return s[d](u)};return n?c=>l(or(t[0],t[i-1],c)):l}function xT(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const o=us(0,e,r);t.push(de(n,1,o))}}function wT(t){const e=[0];return xT(e,t.length-1),e}function kT(t,e){return t.map(n=>n*e)}function ST(t,e){return t.map(()=>e||_1).splice(0,t.length-1)}function dl({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const o=oT(r)?r.map(Pm):Pm(r),i={done:!1,value:e[0]},s=kT(n&&n.length===e.length?n:wT(e),t),a=z1(s,e,{ease:Array.isArray(o)?o:ST(e,o)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}function H1(t,e){return e?t*(1e3/e):0}const CT=5;function W1(t,e,n){const r=Math.max(e-CT,0);return H1(n-t(r),e-r)}const Qc=.001,ET=.01,Bm=10,TT=.05,_T=1;function IT({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let o,i;YE(t<=Zn(Bm));let s=1-e;s=or(TT,_T,s),t=or(ET,Bm,hn(t)),s<1?(o=c=>{const d=c*s,u=d*t,h=d-n,g=xd(c,s),v=Math.exp(-u);return Qc-h/g*v},i=c=>{const u=c*s*t,h=u*n+n,g=Math.pow(s,2)*Math.pow(c,2)*t,v=Math.exp(-u),p=xd(Math.pow(c,2),s);return(-o(c)+Qc>0?-1:1)*((h-g)*v)/p}):(o=c=>{const d=Math.exp(-c*t),u=(c-n)*t+1;return-Qc+d*u},i=c=>{const d=Math.exp(-c*t),u=(n-c)*(t*t);return d*u});const a=5/t,l=AT(o,i,a);if(t=Zn(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:t}}}const PT=12;function AT(t,e,n){let r=n;for(let o=1;o<PT;o++)r=r-t(r)/e(r);return r}function xd(t,e){return t*Math.sqrt(1-e*e)}const NT=["duration","bounce"],BT=["stiffness","damping","mass"];function Lm(t,e){return e.some(n=>t[n]!==void 0)}function LT(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Lm(t,BT)&&Lm(t,NT)){const n=IT(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function K1({keyframes:t,restDelta:e,restSpeed:n,...r}){const o=t[0],i=t[t.length-1],s={done:!1,value:o},{stiffness:a,damping:l,mass:c,duration:d,velocity:u,isResolvedFromDuration:h}=LT({...r,velocity:-hn(r.velocity||0)}),g=u||0,v=l/(2*Math.sqrt(a*c)),p=i-o,x=hn(Math.sqrt(a/c)),y=Math.abs(p)<5;n||(n=y?.01:2),e||(e=y?.005:.5);let m;if(v<1){const b=xd(x,v);m=k=>{const S=Math.exp(-v*x*k);return i-S*((g+v*x*p)/b*Math.sin(b*k)+p*Math.cos(b*k))}}else if(v===1)m=b=>i-Math.exp(-x*b)*(p+(g+x*p)*b);else{const b=x*Math.sqrt(v*v-1);m=k=>{const S=Math.exp(-v*x*k),E=Math.min(b*k,300);return i-S*((g+v*x*p)*Math.sinh(E)+b*p*Math.cosh(E))/b}}return{calculatedDuration:h&&d||null,next:b=>{const k=m(b);if(h)s.done=b>=d;else{let S=g;b!==0&&(v<1?S=W1(m,b,k):S=0);const E=Math.abs(S)<=n,_=Math.abs(i-k)<=e;s.done=E&&_}return s.value=s.done?i:k,s}}}function Rm({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:i=500,modifyTarget:s,min:a,max:l,restDelta:c=.5,restSpeed:d}){const u=t[0],h={done:!1,value:u},g=C=>a!==void 0&&C<a||l!==void 0&&C>l,v=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let p=n*e;const x=u+p,y=s===void 0?x:s(x);y!==x&&(p=y-u);const m=C=>-p*Math.exp(-C/r),b=C=>y+m(C),k=C=>{const T=m(C),P=b(C);h.done=Math.abs(T)<=c,h.value=h.done?y:P};let S,E;const _=C=>{g(h.value)&&(S=C,E=K1({keyframes:[h.value,v(h.value)],velocity:W1(b,C,h.value),damping:o,stiffness:i,restDelta:c,restSpeed:d}))};return _(0),{calculatedDuration:null,next:C=>{let T=!1;return!E&&S===void 0&&(T=!0,k(C),_(C)),S!==void 0&&C>S?E.next(C-S):(!T&&k(C),h)}}}const RT=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ie.update(e,!0),stop:()=>yn(e),now:()=>De.isProcessing?De.timestamp:performance.now()}},Om=2e4;function Mm(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Om;)e+=n,r=t.next(e);return e>=Om?1/0:e}const OT={decay:Rm,inertia:Rm,tween:dl,keyframes:dl,spring:K1};function hl({autoplay:t=!0,delay:e=0,driver:n=RT,keyframes:r,type:o="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:d,onUpdate:u,...h}){let g=1,v=!1,p,x;const y=()=>{x=new Promise(V=>{p=V})};y();let m;const b=OT[o]||dl;let k;b!==dl&&typeof r[0]!="number"&&(k=z1([0,100],r,{clamp:!1}),r=[0,100]);const S=b({...h,keyframes:r});let E;a==="mirror"&&(E=b({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let _="idle",C=null,T=null,P=null;S.calculatedDuration===null&&i&&(S.calculatedDuration=Mm(S));const{calculatedDuration:O}=S;let U=1/0,B=1/0;O!==null&&(U=O+s,B=U*(i+1)-s);let j=0;const M=V=>{if(T===null)return;g>0&&(T=Math.min(T,V)),g<0&&(T=Math.min(V-B/g,T)),C!==null?j=C:j=Math.round(V-T)*g;const ne=j-e*(g>=0?1:-1),fr=g>=0?ne<0:ne>B;j=Math.max(ne,0),_==="finished"&&C===null&&(j=B);let Rt=j,Gr=S;if(i){const vc=Math.min(j,B)/U;let Ds=Math.floor(vc),mr=vc%1;!mr&&vc>=1&&(mr=1),mr===1&&Ds--,Ds=Math.min(Ds,i+1),!!(Ds%2)&&(a==="reverse"?(mr=1-mr,s&&(mr-=s/U)):a==="mirror"&&(Gr=E)),Rt=or(0,1,mr)*U}const tt=fr?{done:!1,value:r[0]}:Gr.next(Rt);k&&(tt.value=k(tt.value));let{done:pr}=tt;!fr&&O!==null&&(pr=g>=0?j>=B:j<=0);const hw=C===null&&(_==="finished"||_==="running"&&pr);return u&&u(tt.value),hw&&L(),tt},W=()=>{m&&m.stop(),m=void 0},ye=()=>{_="idle",W(),p(),y(),T=P=null},L=()=>{_="finished",d&&d(),W(),p()},F=()=>{if(v)return;m||(m=n(M));const V=m.now();l&&l(),C!==null?T=V-C:(!T||_==="finished")&&(T=V),_==="finished"&&y(),P=T,C=null,_="running",m.start()};t&&F();const z={then(V,ne){return x.then(V,ne)},get time(){return hn(j)},set time(V){V=Zn(V),j=V,C!==null||!m||g===0?C=V:T=m.now()-V/g},get duration(){const V=S.calculatedDuration===null?Mm(S):S.calculatedDuration;return hn(V)},get speed(){return g},set speed(V){V===g||!m||(g=V,z.time=hn(j))},get state(){return _},play:F,pause:()=>{_="paused",C=j},stop:()=>{v=!0,_!=="idle"&&(_="idle",c&&c(),ye())},cancel:()=>{P!==null&&M(P),ye()},complete:()=>{_="finished"},sample:V=>(T=0,M(V))};return z}function MT(t){let e;return()=>(e===void 0&&(e=t()),e)}const DT=MT(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),jT=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),ra=10,FT=2e4,UT=(t,e)=>e.type==="spring"||t==="backgroundColor"||!S1(e.ease);function $T(t,e,{onUpdate:n,onComplete:r,...o}){if(!(DT()&&jT.has(e)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let s=!1,a,l,c=!1;const d=()=>{l=new Promise(b=>{a=b})};d();let{keyframes:u,duration:h=300,ease:g,times:v}=o;if(UT(e,o)){const b=hl({...o,repeat:0,delay:0});let k={done:!1,value:u[0]};const S=[];let E=0;for(;!k.done&&E<FT;)k=b.sample(E),S.push(k.value),E+=ra;v=void 0,u=S,h=E-ra,g="linear"}const p=JE(t.owner.current,e,u,{...o,duration:h,ease:g,times:v}),x=()=>{c=!1,p.cancel()},y=()=>{c=!0,ie.update(x),a(),d()};return p.onfinish=()=>{c||(t.set(QE(u,o)),r&&r(),y())},{then(b,k){return l.then(b,k)},attachTimeline(b){return p.timeline=b,p.onfinish=null,ge},get time(){return hn(p.currentTime||0)},set time(b){p.currentTime=Zn(b)},get speed(){return p.playbackRate},set speed(b){p.playbackRate=b},get duration(){return hn(h)},play:()=>{s||(p.play(),yn(x))},pause:()=>p.pause(),stop:()=>{if(s=!0,p.playState==="idle")return;const{currentTime:b}=p;if(b){const k=hl({...o,autoplay:!1});t.setWithVelocity(k.sample(b-ra).value,k.sample(b).value,ra)}y()},complete:()=>{c||p.finish()},cancel:y}}function VT({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const o=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:ge,pause:ge,stop:ge,then:i=>(i(),Promise.resolve()),cancel:ge,complete:ge});return e?hl({keyframes:[0,1],duration:0,delay:e,onComplete:o}):o()}const zT={type:"spring",stiffness:500,damping:25,restSpeed:10},HT=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),WT={type:"keyframes",duration:.8},KT={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},GT=(t,{keyframes:e})=>e.length>2?WT:Hr.has(t)?t.startsWith("scale")?HT(e[1]):zT:KT,wd=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ir.test(e)||e==="0")&&!e.startsWith("url(")),qT=new Set(["brightness","contrast","saturate","opacity"]);function YT(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Ql)||[];if(!r)return t;const o=n.replace(r,"");let i=qT.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+o+")"}const XT=/([a-z-]*)\(.*?\)/g,kd={...ir,getAnimatableNone:t=>{const e=t.match(XT);return e?e.map(YT).join(" "):t}},JT={...s1,color:Ve,backgroundColor:Ve,outlineColor:Ve,fill:Ve,stroke:Ve,borderColor:Ve,borderTopColor:Ve,borderRightColor:Ve,borderBottomColor:Ve,borderLeftColor:Ve,filter:kd,WebkitFilter:kd},bf=t=>JT[t];function G1(t,e){let n=bf(t);return n!==kd&&(n=ir),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const q1=t=>/^0[^.\s]+$/.test(t);function QT(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||q1(t)}function ZT(t,e,n,r){const o=wd(e,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const s=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<i.length;c++)i[c]===null&&(i[c]=c===0?s:i[c-1]),QT(i[c])&&l.push(c),typeof i[c]=="string"&&i[c]!=="none"&&i[c]!=="0"&&(a=i[c]);if(o&&l.length&&a)for(let c=0;c<l.length;c++){const d=l[c];i[d]=G1(e,a)}return i}function e_({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:i,repeatType:s,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function xf(t,e){return t[e]||t.default||t}const t_={skipAnimations:!1},wf=(t,e,n,r={})=>o=>{const i=xf(r,t)||{},s=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Zn(s);const l=ZT(e,t,n,i),c=l[0],d=l[l.length-1],u=wd(t,c),h=wd(t,d);let g={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:v=>{e.set(v),i.onUpdate&&i.onUpdate(v)},onComplete:()=>{o(),i.onComplete&&i.onComplete()}};if(e_(i)||(g={...g,...GT(t,g)}),g.duration&&(g.duration=Zn(g.duration)),g.repeatDelay&&(g.repeatDelay=Zn(g.repeatDelay)),!u||!h||XE.current||i.type===!1||t_.skipAnimations)return VT(g);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const v=$T(e,t,g);if(v)return v}return hl(g)};function fl(t){return!!(et(t)&&t.add)}const Y1=t=>/^\-?\d*\.?\d+$/.test(t);function kf(t,e){t.indexOf(e)===-1&&t.push(e)}function Sf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Cf{constructor(){this.subscriptions=[]}add(e){return kf(this.subscriptions,e),()=>Sf(this.subscriptions,e)}notify(e,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,r);else for(let i=0;i<o;i++){const s=this.subscriptions[i];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const n_=t=>!isNaN(parseFloat(t));class r_{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,o=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:s}=De;this.lastUpdated!==s&&(this.timeDelta=i,this.lastUpdated=s,ie.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ie.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=n_(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Cf);const r=this.events[e].add(n);return e==="change"?()=>{r(),ie.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?H1(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function jo(t,e){return new r_(t,e)}const X1=t=>e=>e.test(t),o_={test:t=>t==="auto",parse:t=>t},J1=[Wr,H,Vt,In,dE,uE,o_],pi=t=>J1.find(X1(t)),i_=[...J1,Ve,ir],s_=t=>i_.find(X1(t));function a_(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,jo(n))}function l_(t,e){const n=ec(t,e);let{transitionEnd:r={},transition:o={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const s in i){const a=EE(i[s]);a_(t,s,a)}}function c_(t,e,n){var r,o;const i=Object.keys(e).filter(a=>!t.hasValue(a)),s=i.length;if(s)for(let a=0;a<s;a++){const l=i[a],c=e[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(o=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&o!==void 0?o:e[l]),d!=null&&(typeof d=="string"&&(Y1(d)||q1(d))?d=parseFloat(d):!s_(d)&&ir.test(c)&&(d=G1(l,c)),t.addValue(l,jo(d,{owner:t})),n[l]===void 0&&(n[l]=d),d!==null&&t.setBaseTarget(l,d))}}function u_(t,e){return e?(e[t]||e.default||e).from:void 0}function d_(t,e,n){const r={};for(const o in t){const i=u_(o,e);if(i!==void 0)r[o]=i;else{const s=n.getValue(o);s&&(r[o]=s.get())}}return r}function h_({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function f_(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function Q1(t,e,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:s,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(i=r);const c=[],d=o&&t.animationState&&t.animationState.getState()[o];for(const u in a){const h=t.getValue(u),g=a[u];if(!h||g===void 0||d&&h_(d,u))continue;const v={delay:n,elapsed:0,...xf(i||{},u)};if(window.HandoffAppearAnimations){const y=t.getProps()[Z0];if(y){const m=window.HandoffAppearAnimations(y,u,h,ie);m!==null&&(v.elapsed=m,v.isHandoff=!0)}}let p=!v.isHandoff&&!f_(h,g);if(v.type==="spring"&&(h.getVelocity()||v.velocity)&&(p=!1),h.animation&&(p=!1),p)continue;h.start(wf(u,h,g,t.shouldReduceMotion&&Hr.has(u)?{type:!1}:v));const x=h.animation;fl(l)&&(l.add(u),x.then(()=>l.remove(u))),c.push(x)}return s&&Promise.all(c).then(()=>{s&&l_(t,s)}),c}function Sd(t,e,n={}){const r=ec(t,e,n.custom);let{transition:o=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const i=r?()=>Promise.all(Q1(t,r,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:u}=o;return p_(t,e,c+l,d,u,n)}:()=>Promise.resolve(),{when:a}=o;if(a){const[l,c]=a==="beforeChildren"?[i,s]:[s,i];return l().then(()=>c())}else return Promise.all([i(),s(n.delay)])}function p_(t,e,n=0,r=0,o=1,i){const s=[],a=(t.variantChildren.size-1)*r,l=o===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(m_).forEach((c,d)=>{c.notify("AnimationStart",e),s.push(Sd(c,e,{...i,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(s)}function m_(t,e){return t.sortNodePosition(e)}function g_(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(i=>Sd(t,i,n));r=Promise.all(o)}else if(typeof e=="string")r=Sd(t,e,n);else{const o=typeof e=="function"?ec(t,e,n.custom):e;r=Promise.all(Q1(t,o,n))}return r.then(()=>t.notify("AnimationComplete",e))}const v_=[...of].reverse(),y_=of.length;function b_(t){return e=>Promise.all(e.map(({animation:n,options:r})=>g_(t,n,r)))}function x_(t){let e=b_(t);const n=k_();let r=!0;const o=(l,c)=>{const d=ec(t,c);if(d){const{transition:u,transitionEnd:h,...g}=d;l={...l,...g,...h}}return l};function i(l){e=l(t)}function s(l,c){const d=t.getProps(),u=t.getVariantContext(!0)||{},h=[],g=new Set;let v={},p=1/0;for(let y=0;y<y_;y++){const m=v_[y],b=n[m],k=d[m]!==void 0?d[m]:u[m],S=ls(k),E=m===c?b.isActive:null;E===!1&&(p=y);let _=k===u[m]&&k!==d[m]&&S;if(_&&r&&t.manuallyAnimateOnMount&&(_=!1),b.protectedKeys={...v},!b.isActive&&E===null||!k&&!b.prevProp||Xl(k)||typeof k=="boolean")continue;let T=w_(b.prevProp,k)||m===c&&b.isActive&&!_&&S||y>p&&S,P=!1;const O=Array.isArray(k)?k:[k];let U=O.reduce(o,{});E===!1&&(U={});const{prevResolvedValues:B={}}=b,j={...B,...U},M=W=>{T=!0,g.has(W)&&(P=!0,g.delete(W)),b.needsAnimating[W]=!0};for(const W in j){const ye=U[W],L=B[W];if(v.hasOwnProperty(W))continue;let F=!1;cl(ye)&&cl(L)?F=!w1(ye,L):F=ye!==L,F?ye!==void 0?M(W):g.add(W):ye!==void 0&&g.has(W)?M(W):b.protectedKeys[W]=!0}b.prevProp=k,b.prevResolvedValues=U,b.isActive&&(v={...v,...U}),r&&t.blockInitialAnimation&&(T=!1),T&&(!_||P)&&h.push(...O.map(W=>({animation:W,options:{type:m,...l}})))}if(g.size){const y={};g.forEach(m=>{const b=t.getBaseTarget(m);b!==void 0&&(y[m]=b)}),h.push({animation:y})}let x=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(h):Promise.resolve()}function a(l,c,d){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(g=>{var v;return(v=g.animationState)===null||v===void 0?void 0:v.setActive(l,c)}),n[l].isActive=c;const h=s(d,l);for(const g in n)n[g].protectedKeys={};return h}return{animateChanges:s,setActive:a,setAnimateFunction:i,getState:()=>n}}function w_(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!w1(e,t):!1}function gr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function k_(){return{animate:gr(!0),whileInView:gr(),whileHover:gr(),whileTap:gr(),whileDrag:gr(),whileFocus:gr(),exit:gr()}}class S_ extends ur{constructor(e){super(e),e.animationState||(e.animationState=x_(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Xl(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let C_=0;class E_ extends ur{constructor(){super(...arguments),this.id=C_++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===o)return;const i=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const T_={animation:{Feature:S_},exit:{Feature:E_}},Dm=(t,e)=>Math.abs(t-e);function __(t,e){const n=Dm(t.x,e.x),r=Dm(t.y,e.y);return Math.sqrt(n**2+r**2)}class Z1{constructor(e,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=eu(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,g=__(u.offset,{x:0,y:0})>=3;if(!h&&!g)return;const{point:v}=u,{timestamp:p}=De;this.history.push({...v,timestamp:p});const{onStart:x,onMove:y}=this.handlers;h||(x&&x(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,u)},this.handlePointerMove=(u,h)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=Zc(h,this.transformPagePoint),ie.update(this.updatePoint,!0)},this.handlePointerUp=(u,h)=>{this.end();const{onEnd:g,onSessionEnd:v,resumeAnimation:p}=this.handlers;if(this.dragSnapToOrigin&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=eu(u.type==="pointercancel"?this.lastMoveEventInfo:Zc(h,this.transformPagePoint),this.history);this.startEvent&&g&&g(u,x),v&&v(u,x)},!g1(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const s=Zl(e),a=Zc(s,this.transformPagePoint),{point:l}=a,{timestamp:c}=De;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,eu(a,this.history)),this.removeListeners=Qn(dn(this.contextWindow,"pointermove",this.handlePointerMove),dn(this.contextWindow,"pointerup",this.handlePointerUp),dn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),yn(this.updatePoint)}}function Zc(t,e){return e?{point:e(t.point)}:t}function jm(t,e){return{x:t.x-e.x,y:t.y-e.y}}function eu({point:t},e){return{point:t,delta:jm(t,eb(e)),offset:jm(t,I_(e)),velocity:P_(e,.1)}}function I_(t){return t[0]}function eb(t){return t[t.length-1]}function P_(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const o=eb(t);for(;n>=0&&(r=t[n],!(o.timestamp-r.timestamp>Zn(e)));)n--;if(!r)return{x:0,y:0};const i=hn(o.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const s={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function lt(t){return t.max-t.min}function Cd(t,e=0,n=.01){return Math.abs(t-e)<=n}function Fm(t,e,n,r=.5){t.origin=r,t.originPoint=de(e.min,e.max,t.origin),t.scale=lt(n)/lt(e),(Cd(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=de(n.min,n.max,t.origin)-t.originPoint,(Cd(t.translate)||isNaN(t.translate))&&(t.translate=0)}function ji(t,e,n,r){Fm(t.x,e.x,n.x,r?r.originX:void 0),Fm(t.y,e.y,n.y,r?r.originY:void 0)}function Um(t,e,n){t.min=n.min+e.min,t.max=t.min+lt(e)}function A_(t,e,n){Um(t.x,e.x,n.x),Um(t.y,e.y,n.y)}function $m(t,e,n){t.min=e.min-n.min,t.max=t.min+lt(e)}function Fi(t,e,n){$m(t.x,e.x,n.x),$m(t.y,e.y,n.y)}function N_(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?de(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?de(n,t,r.max):Math.min(t,n)),t}function Vm(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function B_(t,{top:e,left:n,bottom:r,right:o}){return{x:Vm(t.x,n,o),y:Vm(t.y,e,r)}}function zm(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function L_(t,e){return{x:zm(t.x,e.x),y:zm(t.y,e.y)}}function R_(t,e){let n=.5;const r=lt(t),o=lt(e);return o>r?n=us(e.min,e.max-r,t.min):r>o&&(n=us(t.min,t.max-o,e.min)),or(0,1,n)}function O_(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ed=.35;function M_(t=Ed){return t===!1?t=0:t===!0&&(t=Ed),{x:Hm(t,"left","right"),y:Hm(t,"top","bottom")}}function Hm(t,e,n){return{min:Wm(t,e),max:Wm(t,n)}}function Wm(t,e){return typeof t=="number"?t:t[e]||0}const Km=()=>({translate:0,scale:1,origin:0,originPoint:0}),go=()=>({x:Km(),y:Km()}),Gm=()=>({min:0,max:0}),be=()=>({x:Gm(),y:Gm()});function ht(t){return[t("x"),t("y")]}function tb({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function D_({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function j_(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function tu(t){return t===void 0||t===1}function Td({scale:t,scaleX:e,scaleY:n}){return!tu(t)||!tu(e)||!tu(n)}function br(t){return Td(t)||nb(t)||t.z||t.rotate||t.rotateX||t.rotateY}function nb(t){return qm(t.x)||qm(t.y)}function qm(t){return t&&t!=="0%"}function pl(t,e,n){const r=t-n,o=e*r;return n+o}function Ym(t,e,n,r,o){return o!==void 0&&(t=pl(t,o,r)),pl(t,n,r)+e}function _d(t,e=0,n=1,r,o){t.min=Ym(t.min,e,n,r,o),t.max=Ym(t.max,e,n,r,o)}function rb(t,{x:e,y:n}){_d(t.x,e.translate,e.scale,e.originPoint),_d(t.y,n.translate,n.scale,n.originPoint)}function F_(t,e,n,r=!1){const o=n.length;if(!o)return;e.x=e.y=1;let i,s;for(let a=0;a<o;a++){i=n[a],s=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&vo(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,rb(t,s)),r&&br(i.latestValues)&&vo(t,i.latestValues))}e.x=Xm(e.x),e.y=Xm(e.y)}function Xm(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Bn(t,e){t.min=t.min+e,t.max=t.max+e}function Jm(t,e,[n,r,o]){const i=e[o]!==void 0?e[o]:.5,s=de(t.min,t.max,i);_d(t,e[n],e[r],s,e.scale)}const U_=["x","scaleX","originX"],$_=["y","scaleY","originY"];function vo(t,e){Jm(t.x,e,U_),Jm(t.y,e,$_)}function ob(t,e){return tb(j_(t.getBoundingClientRect(),e))}function V_(t,e,n){const r=ob(t,n),{scroll:o}=e;return o&&(Bn(r.x,o.offset.x),Bn(r.y,o.offset.y)),r}const ib=({current:t})=>t?t.ownerDocument.defaultView:null,z_=new WeakMap;class H_{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=be(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=d=>{const{dragSnapToOrigin:u}=this.getProps();u?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Zl(d,"page").point)},i=(d,u)=>{const{drag:h,dragPropagation:g,onDragStart:v}=this.getProps();if(h&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=y1(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ht(x=>{let y=this.getAxisMotionValue(x).get()||0;if(Vt.test(y)){const{projection:m}=this.visualElement;if(m&&m.layout){const b=m.layout.layoutBox[x];b&&(y=lt(b)*(parseFloat(y)/100))}}this.originPoint[x]=y}),v&&ie.update(()=>v(d,u),!1,!0);const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},s=(d,u)=>{const{dragPropagation:h,dragDirectionLock:g,onDirectionLock:v,onDrag:p}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:x}=u;if(g&&this.currentDirection===null){this.currentDirection=W_(x),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",u.point,x),this.updateAxis("y",u.point,x),this.visualElement.render(),p&&p(d,u)},a=(d,u)=>this.stop(d,u),l=()=>ht(d=>{var u;return this.getAnimationState(d)==="paused"&&((u=this.getAxisMotionValue(d).animation)===null||u===void 0?void 0:u.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new Z1(e,{onSessionStart:o,onStart:i,onMove:s,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:ib(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:i}=this.getProps();i&&ie.update(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:o}=this.getProps();if(!r||!oa(e,o,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=N_(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&po(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=B_(o.layoutBox,n):this.constraints=!1,this.elastic=M_(r),i!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&ht(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=O_(o.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!po(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const i=V_(r,o.root,this.visualElement.getTransformPagePoint());let s=L_(o.layout.layoutBox,i);if(n){const a=n(D_(s));this.hasMutatedConstraints=!!a,a&&(s=tb(a))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=ht(d=>{if(!oa(d,n,this.currentDirection))return;let u=l&&l[d]||{};s&&(u={min:0,max:0});const h=o?200:1e6,g=o?40:1e7,v={type:"inertia",velocity:r?e[d]:0,bounceStiffness:h,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...u};return this.startAxisValueAnimation(d,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(wf(e,r,0,n))}stopAnimation(){ht(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ht(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ht(n=>{const{drag:r}=this.getProps();if(!oa(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,i=this.getAxisMotionValue(n);if(o&&o.layout){const{min:s,max:a}=o.layout.layoutBox[n];i.set(e[n]-de(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!po(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};ht(s=>{const a=this.getAxisMotionValue(s);if(a){const l=a.get();o[s]=R_({min:l,max:l},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ht(s=>{if(!oa(s,e,null))return;const a=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];a.set(de(l,c,o[s]))})}addListeners(){if(!this.visualElement.current)return;z_.set(this.visualElement,this);const e=this.visualElement.current,n=dn(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();po(l)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,i=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),r();const s=tn(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(ht(d=>{const u=this.getAxisMotionValue(d);u&&(this.originPoint[d]+=l[d].translate,u.set(u.get()+l[d].translate))}),this.visualElement.render())});return()=>{s(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:i=!1,dragElastic:s=Ed,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:i,dragElastic:s,dragMomentum:a}}}function oa(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function W_(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class K_ extends ur{constructor(e){super(e),this.removeGroupControls=ge,this.removeListeners=ge,this.controls=new H_(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ge}unmount(){this.removeGroupControls(),this.removeListeners()}}const Qm=t=>(e,n)=>{t&&ie.update(()=>t(e,n))};class G_ extends ur{constructor(){super(...arguments),this.removePointerDownListener=ge}onPointerDown(e){this.session=new Z1(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ib(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:Qm(e),onStart:Qm(n),onMove:r,onEnd:(i,s)=>{delete this.session,o&&ie.update(()=>o(i,s))}}}mount(){this.removePointerDownListener=dn(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function q_(){const t=w.useContext(ql);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,o=w.useId();return w.useEffect(()=>r(o),[]),!e&&n?[!1,()=>n&&n(o)]:[!0]}const wa={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Zm(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const mi={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(H.test(t))t=parseFloat(t);else return t;const n=Zm(t,e.target.x),r=Zm(t,e.target.y);return`${n}% ${r}%`}},Y_={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,o=ir.parse(t);if(o.length>5)return r;const i=ir.createTransformer(t),s=typeof o[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;o[0+s]/=a,o[1+s]/=l;const c=de(a,l,.5);return typeof o[2+s]=="number"&&(o[2+s]/=c),typeof o[3+s]=="number"&&(o[3+s]/=c),i(o)}};class X_ extends ah.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:i}=e;rE(J_),i&&(n.group&&n.group.add(i),r&&r.register&&o&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),wa.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:o,isPresent:i}=this.props,s=r.projection;return s&&(s.isPresent=i,o||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||ie.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function sb(t){const[e,n]=q_(),r=w.useContext(af);return ah.createElement(X_,{...t,layoutGroup:r,switchLayoutGroup:w.useContext(t1),isPresent:e,safeToRemove:n})}const J_={borderRadius:{...mi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:mi,borderTopRightRadius:mi,borderBottomLeftRadius:mi,borderBottomRightRadius:mi,boxShadow:Y_},ab=["TopLeft","TopRight","BottomLeft","BottomRight"],Q_=ab.length,eg=t=>typeof t=="string"?parseFloat(t):t,tg=t=>typeof t=="number"||H.test(t);function Z_(t,e,n,r,o,i){o?(t.opacity=de(0,n.opacity!==void 0?n.opacity:1,e2(r)),t.opacityExit=de(e.opacity!==void 0?e.opacity:1,0,t2(r))):i&&(t.opacity=de(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<Q_;s++){const a=`border${ab[s]}Radius`;let l=ng(e,a),c=ng(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||tg(l)===tg(c)?(t[a]=Math.max(de(eg(l),eg(c),r),0),(Vt.test(c)||Vt.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=de(e.rotate||0,n.rotate||0,r))}function ng(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const e2=lb(0,.5,A1),t2=lb(.5,.95,ge);function lb(t,e,n){return r=>r<t?0:r>e?1:n(us(t,e,r))}function rg(t,e){t.min=e.min,t.max=e.max}function dt(t,e){rg(t.x,e.x),rg(t.y,e.y)}function og(t,e,n,r,o){return t-=e,t=pl(t,1/n,r),o!==void 0&&(t=pl(t,1/o,r)),t}function n2(t,e=0,n=1,r=.5,o,i=t,s=t){if(Vt.test(e)&&(e=parseFloat(e),e=de(s.min,s.max,e/100)-s.min),typeof e!="number")return;let a=de(i.min,i.max,r);t===i&&(a-=e),t.min=og(t.min,e,n,a,o),t.max=og(t.max,e,n,a,o)}function ig(t,e,[n,r,o],i,s){n2(t,e[n],e[r],e[o],e.scale,i,s)}const r2=["x","scaleX","originX"],o2=["y","scaleY","originY"];function sg(t,e,n,r){ig(t.x,e,r2,n?n.x:void 0,r?r.x:void 0),ig(t.y,e,o2,n?n.y:void 0,r?r.y:void 0)}function ag(t){return t.translate===0&&t.scale===1}function cb(t){return ag(t.x)&&ag(t.y)}function i2(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function ub(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function lg(t){return lt(t.x)/lt(t.y)}class s2{constructor(){this.members=[]}add(e){kf(this.members,e),e.scheduleRender()}remove(e){if(Sf(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const i=this.members[o];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function cg(t,e,n){let r="";const o=t.x.translate/e.x,i=t.y.translate/e.y;if((o||i)&&(r=`translate3d(${o}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),d&&(r+=`rotateY(${d}deg) `)}const s=t.x.scale*e.x,a=t.y.scale*e.y;return(s!==1||a!==1)&&(r+=`scale(${s}, ${a})`),r||"none"}const a2=(t,e)=>t.depth-e.depth;class l2{constructor(){this.children=[],this.isDirty=!1}add(e){kf(this.children,e),this.isDirty=!0}remove(e){Sf(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(a2),this.isDirty=!1,this.children.forEach(e)}}function c2(t,e){const n=performance.now(),r=({timestamp:o})=>{const i=o-n;i>=e&&(yn(r),t(i-e))};return ie.read(r,!0),()=>yn(r)}function u2(t){window.MotionDebug&&window.MotionDebug.record(t)}function d2(t){return t instanceof SVGElement&&t.tagName!=="svg"}function h2(t,e,n){const r=et(t)?t:jo(t);return r.start(wf("",r,e,n)),r.animation}const ug=["","X","Y","Z"],f2={visibility:"hidden"},dg=1e3;let p2=0;const xr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function db({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(s={},a=e==null?void 0:e()){this.id=p2++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,xr.totalNodes=xr.resolvedTargetDeltas=xr.recalculatedProjection=0,this.nodes.forEach(v2),this.nodes.forEach(k2),this.nodes.forEach(S2),this.nodes.forEach(y2),u2(xr)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new l2)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new Cf),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=d2(s),this.instance=s;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let u;const h=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=c2(h,250),wa.hasAnimatedSinceResize&&(wa.hasAnimatedSinceResize=!1,this.nodes.forEach(fg))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeTargetChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||d.getDefaultTransition()||I2,{onLayoutAnimationStart:x,onLayoutAnimationComplete:y}=d.getProps(),m=!this.targetLayout||!ub(this.targetLayout,v)||g,b=!h&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||h&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,b);const k={...xf(p,"layout"),onPlay:x,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else h||fg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,yn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(C2),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const u=this.path[d];u.shouldResetTransform=!0,u.updateScroll("snapshot"),u.options.layoutRoot&&u.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(hg);return}this.isUpdating||this.nodes.forEach(x2),this.isUpdating=!1,this.nodes.forEach(w2),this.nodes.forEach(m2),this.nodes.forEach(g2),this.clearAllSnapshots();const a=performance.now();De.delta=or(0,1e3/60,a-De.timestamp),De.timestamp=a,De.isProcessing=!0,Wc.update.process(De),Wc.preRender.process(De),Wc.render.process(De),De.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(b2),this.sharedNodes.forEach(E2)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ie.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ie.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=be(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!o)return;const s=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!cb(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;s&&(a||br(this.latestValues)||d)&&(o(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),P2(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return be();const a=s.measureViewportBox(),{scroll:l}=this.root;return l&&(Bn(a.x,l.offset.x),Bn(a.y,l.offset.y)),a}removeElementScroll(s){const a=be();dt(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:u}=c;if(c!==this.root&&d&&u.layoutScroll){if(d.isRoot){dt(a,s);const{scroll:h}=this.root;h&&(Bn(a.x,-h.offset.x),Bn(a.y,-h.offset.y))}Bn(a.x,d.offset.x),Bn(a.y,d.offset.y)}}return a}applyTransform(s,a=!1){const l=be();dt(l,s);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&vo(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),br(d.latestValues)&&vo(l,d.latestValues)}return br(this.latestValues)&&vo(l,this.latestValues),l}removeTransform(s){const a=be();dt(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!br(c.latestValues))continue;Td(c.latestValues)&&c.updateSnapshot();const d=be(),u=c.measurePageBox();dt(d,u),sg(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return br(this.latestValues)&&sg(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==De.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=De.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=be(),this.relativeTargetOrigin=be(),Fi(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),dt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=be(),this.targetWithTransforms=be()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),A_(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):dt(this.target,this.layout.layoutBox),rb(this.target,this.targetDelta)):dt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=be(),this.relativeTargetOrigin=be(),Fi(this.relativeTargetOrigin,this.target,g.target),dt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}xr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Td(this.parent.latestValues)||nb(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===De.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;dt(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,g=this.treeScale.y;F_(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:v}=a;if(!v){this.projectionTransform&&(this.projectionDelta=go(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=go(),this.projectionDeltaWithTransform=go());const p=this.projectionTransform;ji(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=cg(this.projectionDelta,this.treeScale),(this.projectionTransform!==p||this.treeScale.x!==h||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),xr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},u=go();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=be(),g=l?l.source:void 0,v=this.layout?this.layout.source:void 0,p=g!==v,x=this.getStack(),y=!x||x.members.length<=1,m=!!(p&&!y&&this.options.crossfade===!0&&!this.path.some(_2));this.animationProgress=0;let b;this.mixTargetDelta=k=>{const S=k/1e3;pg(u.x,s.x,S),pg(u.y,s.y,S),this.setTargetDelta(u),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Fi(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),T2(this.relativeTarget,this.relativeTargetOrigin,h,S),b&&i2(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=be()),dt(b,this.relativeTarget)),p&&(this.animationValues=d,Z_(d,c,this.latestValues,S,m,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(yn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ie.update(()=>{wa.hasAnimatedSinceResize=!0,this.currentAnimation=h2(0,dg,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(dg),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=s;if(!(!a||!l||!c)){if(this!==s&&this.layout&&c&&hb(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||be();const u=lt(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+u;const h=lt(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}dt(a,l),vo(a,d),ji(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new s2),this.sharedNodes.get(s).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let d=0;d<ug.length;d++){const u="rotate"+ug[d];l[u]&&(c[u]=l[u],s.setStaticValue(u,0))}s.render();for(const d in c)s.setStaticValue(d,c[d]);s.scheduleRender()}getProjectionStyles(s){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return f2;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=xa(s==null?void 0:s.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=xa(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!br(this.latestValues)&&(p.transform=d?d({},""):"none",this.hasProjected=!1),p}const h=u.animationValues||u.latestValues;this.applyTransformsToTarget(),c.transform=cg(this.projectionDeltaWithTransform,this.treeScale,h),d&&(c.transform=d(h,c.transform));const{x:g,y:v}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,u.animationValues?c.opacity=u===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const p in al){if(h[p]===void 0)continue;const{correct:x,applyTo:y}=al[p],m=c.transform==="none"?h[p]:x(h[p],u);if(y){const b=y.length;for(let k=0;k<b;k++)c[y[k]]=m}else c[p]=m}return this.options.layoutId&&(c.pointerEvents=u===this?xa(s==null?void 0:s.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(hg),this.root.sharedNodes.clear()}}}function m2(t){t.updateLayout()}function g2(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=t.layout,{animationType:i}=t.options,s=n.source!==t.layout.source;i==="size"?ht(u=>{const h=s?n.measuredBox[u]:n.layoutBox[u],g=lt(h);h.min=r[u].min,h.max=h.min+g}):hb(i,n.layoutBox,r)&&ht(u=>{const h=s?n.measuredBox[u]:n.layoutBox[u],g=lt(r[u]);h.max=h.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[u].max=t.relativeTarget[u].min+g)});const a=go();ji(a,r,n.layoutBox);const l=go();s?ji(l,t.applyTransform(o,!0),n.measuredBox):ji(l,r,n.layoutBox);const c=!cb(a);let d=!1;if(!t.resumeFrom){const u=t.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:h,layout:g}=u;if(h&&g){const v=be();Fi(v,n.layoutBox,h.layoutBox);const p=be();Fi(p,r,g.layoutBox),ub(v,p)||(d=!0),u.options.layoutRoot&&(t.relativeTarget=p,t.relativeTargetOrigin=v,t.relativeParent=u)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function v2(t){xr.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function y2(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function b2(t){t.clearSnapshot()}function hg(t){t.clearMeasurements()}function x2(t){t.isLayoutDirty=!1}function w2(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function fg(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function k2(t){t.resolveTargetDelta()}function S2(t){t.calcProjection()}function C2(t){t.resetRotation()}function E2(t){t.removeLeadSnapshot()}function pg(t,e,n){t.translate=de(e.translate,0,n),t.scale=de(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function mg(t,e,n,r){t.min=de(e.min,n.min,r),t.max=de(e.max,n.max,r)}function T2(t,e,n,r){mg(t.x,e.x,n.x,r),mg(t.y,e.y,n.y,r)}function _2(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const I2={duration:.45,ease:[.4,0,.1,1]},gg=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),vg=gg("applewebkit/")&&!gg("chrome/")?Math.round:ge;function yg(t){t.min=vg(t.min),t.max=vg(t.max)}function P2(t){yg(t.x),yg(t.y)}function hb(t,e,n){return t==="position"||t==="preserve-aspect"&&!Cd(lg(e),lg(n),.2)}const A2=db({attachResizeListener:(t,e)=>tn(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),nu={current:void 0},fb=db({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!nu.current){const t=new A2({});t.mount(window),t.setOptions({layoutScroll:!0}),nu.current=t}return nu.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),N2={pan:{Feature:G_},drag:{Feature:K_,ProjectionNode:fb,MeasureLayout:sb}},B2=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function L2(t){const e=B2.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Id(t,e,n=1){const[r,o]=L2(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const s=i.trim();return Y1(s)?parseFloat(s):s}else return vd(o)?Id(o,e,n+1):o}function R2(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(o=>{const i=o.get();if(!vd(i))return;const s=Id(i,r);s&&o.set(s)});for(const o in e){const i=e[o];if(!vd(i))continue;const s=Id(i,r);s&&(e[o]=s,n||(n={}),n[o]===void 0&&(n[o]=i))}return{target:e,transitionEnd:n}}const O2=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),pb=t=>O2.has(t),M2=t=>Object.keys(t).some(pb),bg=t=>t===Wr||t===H,xg=(t,e)=>parseFloat(t.split(", ")[e]),wg=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/);if(o)return xg(o[1],e);{const i=r.match(/^matrix\((.+)\)$/);return i?xg(i[1],t):0}},D2=new Set(["x","y","z"]),j2=ks.filter(t=>!D2.has(t));function F2(t){const e=[];return j2.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Fo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:wg(4,13),y:wg(5,14)};Fo.translateX=Fo.x;Fo.translateY=Fo.y;const U2=(t,e,n)=>{const r=e.measureViewportBox(),o=e.current,i=getComputedStyle(o),{display:s}=i,a={};s==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=Fo[c](r,i)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const d=e.getValue(c);d&&d.jump(a[c]),t[c]=Fo[c](l,i)}),t},$2=(t,e,n={},r={})=>{e={...e},r={...r};const o=Object.keys(e).filter(pb);let i=[],s=!1;const a=[];if(o.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let d=n[l],u=pi(d);const h=e[l];let g;if(cl(h)){const v=h.length,p=h[0]===null?1:0;d=h[p],u=pi(d);for(let x=p;x<v&&h[x]!==null;x++)g?mf(pi(h[x])===g):g=pi(h[x])}else g=pi(h);if(u!==g)if(bg(u)&&bg(g)){const v=c.get();typeof v=="string"&&c.set(parseFloat(v)),typeof h=="string"?e[l]=parseFloat(h):Array.isArray(h)&&g===H&&(e[l]=h.map(parseFloat))}else u!=null&&u.transform&&(g!=null&&g.transform)&&(d===0||h===0)?d===0?c.set(g.transform(d)):e[l]=u.transform(h):(s||(i=F2(t),s=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(h))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=U2(e,t,a);return i.length&&i.forEach(([d,u])=>{t.getValue(d).set(u)}),t.render(),Yl&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function V2(t,e,n,r){return M2(e)?$2(t,e,n,r):{target:e,transitionEnd:r}}const z2=(t,e,n,r)=>{const o=R2(t,e,r);return e=o.target,r=o.transitionEnd,V2(t,e,n,r)},Pd={current:null},mb={current:!1};function H2(){if(mb.current=!0,!!Yl)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Pd.current=t.matches;t.addListener(e),e()}else Pd.current=!1}function W2(t,e,n){const{willChange:r}=e;for(const o in e){const i=e[o],s=n[o];if(et(i))t.addValue(o,i),fl(r)&&r.add(o);else if(et(s))t.addValue(o,jo(i,{owner:t})),fl(r)&&r.remove(o);else if(s!==i)if(t.hasValue(o)){const a=t.getValue(o);!a.hasAnimated&&a.set(i)}else{const a=t.getStaticValue(o);t.addValue(o,jo(a!==void 0?a:i,{owner:t}))}}for(const o in n)e[o]===void 0&&t.removeValue(o);return e}const kg=new WeakMap,gb=Object.keys(cs),K2=gb.length,Sg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],G2=sf.length;class q2{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:o,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ie.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=s,this.isControllingVariants=Jl(n),this.isVariantNode=e1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{});for(const u in d){const h=d[u];a[u]!==void 0&&et(h)&&(h.set(a[u],!1),fl(c)&&c.add(u))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,kg.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),mb.current||H2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Pd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){kg.delete(this.current),this.projection&&this.projection.unmount(),yn(this.notifyUpdate),yn(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Hr.has(e),o=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&ie.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{o(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,o,i){let s,a;for(let l=0;l<K2;l++){const c=gb[l],{isEnabled:d,Feature:u,ProjectionNode:h,MeasureLayout:g}=cs[c];h&&(s=h),d(n)&&(!this.features[c]&&u&&(this.features[c]=new u(this)),g&&(a=g))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:u,layoutScroll:h,layoutRoot:g}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||u&&po(u),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:g})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):be()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Sg.length;r++){const o=Sg[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const i=e["on"+o];i&&(this.propEventSubscriptions[o]=this.on(o,i))}this.prevMotionValues=W2(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<G2;r++){const o=sf[r],i=this.props[o];(ls(i)||i===!1)&&(n[o]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=jo(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,o=typeof r=="string"||typeof r=="object"?(n=pf(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&o!==void 0)return o;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!et(i)?i:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Cf),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class vb extends q2{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:o},i){let s=d_(r,e||{},this);if(o&&(n&&(n=o(n)),r&&(r=o(r)),s&&(s=o(s))),i){c_(this,r,s);const a=z2(this,r,s,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function Y2(t){return window.getComputedStyle(t)}class X2 extends vb{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Hr.has(n)){const r=bf(n);return r&&r.default||0}else{const r=Y2(e),o=(o1(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return ob(e,n)}build(e,n,r,o){cf(e,n,r,o.transformTemplate)}scrapeMotionValuesFromProps(e,n){return ff(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;et(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,o){u1(e,n,r,o)}}class J2 extends vb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Hr.has(n)){const r=bf(n);return r&&r.default||0}return n=d1.has(n)?n:rf(n),e.getAttribute(n)}measureInstanceViewportBox(){return be()}scrapeMotionValuesFromProps(e,n){return f1(e,n)}build(e,n,r,o){df(e,n,r,this.isSVGTag,o.transformTemplate)}renderInstance(e,n,r,o){h1(e,n,r,o)}mount(e){this.isSVGTag=hf(e.tagName),super.mount(e)}}const Q2=(t,e)=>lf(t)?new J2(e,{enableHardwareAcceleration:!1}):new X2(e,{enableHardwareAcceleration:!0}),Z2={layout:{ProjectionNode:fb,MeasureLayout:sb}},eI={...T_,...KE,...N2,...Z2},tI=tE((t,e)=>LE(t,e,eI,Q2));function yb(){const t=w.useRef(!1);return nf(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function nI(){const t=yb(),[e,n]=w.useState(0),r=w.useCallback(()=>{t.current&&n(e+1)},[e]);return[w.useCallback(()=>ie.postRender(r),[r]),e]}class rI extends w.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function oI({children:t,isPresent:e}){const n=w.useId(),r=w.useRef(null),o=w.useRef({width:0,height:0,top:0,left:0});return w.useInsertionEffect(()=>{const{width:i,height:s,top:a,left:l}=o.current;if(e||!r.current||!i||!s)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),w.createElement(rI,{isPresent:e,childRef:r,sizeRef:o},w.cloneElement(t,{ref:r}))}const ru=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:i,mode:s})=>{const a=p1(iI),l=w.useId(),c=w.useMemo(()=>({id:l,initial:e,isPresent:n,custom:o,onExitComplete:d=>{a.set(d,!0);for(const u of a.values())if(!u)return;r&&r()},register:d=>(a.set(d,!1),()=>a.delete(d))}),i?void 0:[n]);return w.useMemo(()=>{a.forEach((d,u)=>a.set(u,!1))},[n]),w.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(t=w.createElement(oI,{isPresent:n},t)),w.createElement(ql.Provider,{value:c},t)};function iI(){return new Map}function sI(t){return w.useEffect(()=>()=>t(),[])}const wr=t=>t.key||"";function aI(t,e){t.forEach(n=>{const r=wr(n);e.set(r,n)})}function lI(t){const e=[];return w.Children.forEach(t,n=>{w.isValidElement(n)&&e.push(n)}),e}const cI=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:o,presenceAffectsLayout:i=!0,mode:s="sync"})=>{const a=w.useContext(af).forceRender||nI()[0],l=yb(),c=lI(t);let d=c;const u=w.useRef(new Map).current,h=w.useRef(d),g=w.useRef(new Map).current,v=w.useRef(!0);if(nf(()=>{v.current=!1,aI(c,g),h.current=d}),sI(()=>{v.current=!0,g.clear(),u.clear()}),v.current)return w.createElement(w.Fragment,null,d.map(m=>w.createElement(ru,{key:wr(m),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:s},m)));d=[...d];const p=h.current.map(wr),x=c.map(wr),y=p.length;for(let m=0;m<y;m++){const b=p[m];x.indexOf(b)===-1&&!u.has(b)&&u.set(b,void 0)}return s==="wait"&&u.size&&(d=[]),u.forEach((m,b)=>{if(x.indexOf(b)!==-1)return;const k=g.get(b);if(!k)return;const S=p.indexOf(b);let E=m;if(!E){const _=()=>{u.delete(b);const C=Array.from(g.keys()).filter(T=>!x.includes(T));if(C.forEach(T=>g.delete(T)),h.current=c.filter(T=>{const P=wr(T);return P===b||C.includes(P)}),!u.size){if(l.current===!1)return;a(),r&&r()}};E=w.createElement(ru,{key:wr(k),isPresent:!1,onExitComplete:_,custom:e,presenceAffectsLayout:i,mode:s},k),u.set(b,E)}d.splice(S,0,E)}),d=d.map(m=>{const b=m.key;return u.has(b)?m:w.createElement(ru,{key:wr(m),isPresent:!0,presenceAffectsLayout:i,mode:s},m)}),w.createElement(w.Fragment,null,u.size?d:d.map(m=>w.cloneElement(m)))},we=({children:t,keyValue:e,initial:n={opacity:0},animate:r={opacity:1},transition:o={duration:1},className:i})=>f.jsx(cI,{children:f.jsx(tI.div,{initial:n,animate:r,transition:o,className:i,children:t},e)}),ml=(t,e)=>sessionStorage.setItem(t,e),Cg=t=>sessionStorage.getItem(t),uI=t=>sessionStorage.removeItem(t),dI=()=>{const{userAuth:{username:t},setUserAuth:e}=w.useContext(Se),n=()=>{uI("user"),e({access_token:null})};return f.jsx(we,{transition:{duration:.2},className:"absolute right-0 z-50",children:f.jsxs("div",{className:"bg-white absolute right-0 border-grey w-60 duration-200 ",children:[f.jsxs(ee,{to:"/editor",className:"flex gap-2 link md:hidden pl-8 py-4 ",children:[f.jsx("i",{className:"fi fi-rr-file-edit"}),f.jsx("p",{children:"Write"})]}),f.jsx(ee,{to:`/user/${t}`,className:"link pl-8 py-4 ",children:"Profile"}),f.jsx(ee,{to:"/dashboard/blogs",className:"link pl-8 py-4 ",children:"Dashboard"}),f.jsx(ee,{to:"/settings/edit-profile",className:"link pl-8 py-4 ",children:"Setting"}),f.jsx("span",{className:"absolute border-t border-grey  w-[100%]"}),f.jsxs("button",{className:"text-left p-4 hover:bg-grey w-full pl-8 py-4",onClick:n,children:[f.jsx("h1",{className:"font-bol text-xl mg-1",children:"Sign Out"}),f.jsxs("p",{className:"text-dark-grey",children:["@",t]})]})]})})};function bb(t,e){return function(){return t.apply(e,arguments)}}const{toString:hI}=Object.prototype,{getPrototypeOf:Ef}=Object,tc=(t=>e=>{const n=hI.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Gt=t=>(t=t.toLowerCase(),e=>tc(e)===t),nc=t=>e=>typeof e===t,{isArray:ei}=Array,ds=nc("undefined");function fI(t){return t!==null&&!ds(t)&&t.constructor!==null&&!ds(t.constructor)&&vt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const xb=Gt("ArrayBuffer");function pI(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&xb(t.buffer),e}const mI=nc("string"),vt=nc("function"),wb=nc("number"),rc=t=>t!==null&&typeof t=="object",gI=t=>t===!0||t===!1,ka=t=>{if(tc(t)!=="object")return!1;const e=Ef(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},vI=Gt("Date"),yI=Gt("File"),bI=Gt("Blob"),xI=Gt("FileList"),wI=t=>rc(t)&&vt(t.pipe),kI=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||vt(t.append)&&((e=tc(t))==="formdata"||e==="object"&&vt(t.toString)&&t.toString()==="[object FormData]"))},SI=Gt("URLSearchParams"),CI=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ts(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,o;if(typeof t!="object"&&(t=[t]),ei(t))for(r=0,o=t.length;r<o;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),s=i.length;let a;for(r=0;r<s;r++)a=i[r],e.call(null,t[a],a,t)}}function kb(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,o;for(;r-- >0;)if(o=n[r],e===o.toLowerCase())return o;return null}const Sb=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Cb=t=>!ds(t)&&t!==Sb;function Ad(){const{caseless:t}=Cb(this)&&this||{},e={},n=(r,o)=>{const i=t&&kb(e,o)||o;ka(e[i])&&ka(r)?e[i]=Ad(e[i],r):ka(r)?e[i]=Ad({},r):ei(r)?e[i]=r.slice():e[i]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&Ts(arguments[r],n);return e}const EI=(t,e,n,{allOwnKeys:r}={})=>(Ts(e,(o,i)=>{n&&vt(o)?t[i]=bb(o,n):t[i]=o},{allOwnKeys:r}),t),TI=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),_I=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},II=(t,e,n,r)=>{let o,i,s;const a={};if(e=e||{},t==null)return e;do{for(o=Object.getOwnPropertyNames(t),i=o.length;i-- >0;)s=o[i],(!r||r(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=n!==!1&&Ef(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},PI=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},AI=t=>{if(!t)return null;if(ei(t))return t;let e=t.length;if(!wb(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},NI=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Ef(Uint8Array)),BI=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let o;for(;(o=r.next())&&!o.done;){const i=o.value;e.call(t,i[0],i[1])}},LI=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},RI=Gt("HTMLFormElement"),OI=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),Eg=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),MI=Gt("RegExp"),Eb=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Ts(n,(o,i)=>{let s;(s=e(o,i,t))!==!1&&(r[i]=s||o)}),Object.defineProperties(t,r)},DI=t=>{Eb(t,(e,n)=>{if(vt(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(vt(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},jI=(t,e)=>{const n={},r=o=>{o.forEach(i=>{n[i]=!0})};return ei(t)?r(t):r(String(t).split(e)),n},FI=()=>{},UI=(t,e)=>(t=+t,Number.isFinite(t)?t:e),ou="abcdefghijklmnopqrstuvwxyz",Tg="0123456789",Tb={DIGIT:Tg,ALPHA:ou,ALPHA_DIGIT:ou+ou.toUpperCase()+Tg},$I=(t=16,e=Tb.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function VI(t){return!!(t&&vt(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const zI=t=>{const e=new Array(10),n=(r,o)=>{if(rc(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[o]=r;const i=ei(r)?[]:{};return Ts(r,(s,a)=>{const l=n(s,o+1);!ds(l)&&(i[a]=l)}),e[o]=void 0,i}}return r};return n(t,0)},HI=Gt("AsyncFunction"),WI=t=>t&&(rc(t)||vt(t))&&vt(t.then)&&vt(t.catch),A={isArray:ei,isArrayBuffer:xb,isBuffer:fI,isFormData:kI,isArrayBufferView:pI,isString:mI,isNumber:wb,isBoolean:gI,isObject:rc,isPlainObject:ka,isUndefined:ds,isDate:vI,isFile:yI,isBlob:bI,isRegExp:MI,isFunction:vt,isStream:wI,isURLSearchParams:SI,isTypedArray:NI,isFileList:xI,forEach:Ts,merge:Ad,extend:EI,trim:CI,stripBOM:TI,inherits:_I,toFlatObject:II,kindOf:tc,kindOfTest:Gt,endsWith:PI,toArray:AI,forEachEntry:BI,matchAll:LI,isHTMLForm:RI,hasOwnProperty:Eg,hasOwnProp:Eg,reduceDescriptors:Eb,freezeMethods:DI,toObjectSet:jI,toCamelCase:OI,noop:FI,toFiniteNumber:UI,findKey:kb,global:Sb,isContextDefined:Cb,ALPHABET:Tb,generateString:$I,isSpecCompliantForm:VI,toJSONObject:zI,isAsyncFn:HI,isThenable:WI};function X(t,e,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}A.inherits(X,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:A.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const _b=X.prototype,Ib={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Ib[t]={value:t}});Object.defineProperties(X,Ib);Object.defineProperty(_b,"isAxiosError",{value:!0});X.from=(t,e,n,r,o,i)=>{const s=Object.create(_b);return A.toFlatObject(t,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),X.call(s,t.message,e,n,r,o),s.cause=t,s.name=t.name,i&&Object.assign(s,i),s};const KI=null;function Nd(t){return A.isPlainObject(t)||A.isArray(t)}function Pb(t){return A.endsWith(t,"[]")?t.slice(0,-2):t}function _g(t,e,n){return t?t.concat(e).map(function(o,i){return o=Pb(o),!n&&i?"["+o+"]":o}).join(n?".":""):e}function GI(t){return A.isArray(t)&&!t.some(Nd)}const qI=A.toFlatObject(A,{},null,function(e){return/^is[A-Z]/.test(e)});function oc(t,e,n){if(!A.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=A.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,x){return!A.isUndefined(x[p])});const r=n.metaTokens,o=n.visitor||d,i=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&A.isSpecCompliantForm(e);if(!A.isFunction(o))throw new TypeError("visitor must be a function");function c(v){if(v===null)return"";if(A.isDate(v))return v.toISOString();if(!l&&A.isBlob(v))throw new X("Blob is not supported. Use a Buffer instead.");return A.isArrayBuffer(v)||A.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function d(v,p,x){let y=v;if(v&&!x&&typeof v=="object"){if(A.endsWith(p,"{}"))p=r?p:p.slice(0,-2),v=JSON.stringify(v);else if(A.isArray(v)&&GI(v)||(A.isFileList(v)||A.endsWith(p,"[]"))&&(y=A.toArray(v)))return p=Pb(p),y.forEach(function(b,k){!(A.isUndefined(b)||b===null)&&e.append(s===!0?_g([p],k,i):s===null?p:p+"[]",c(b))}),!1}return Nd(v)?!0:(e.append(_g(x,p,i),c(v)),!1)}const u=[],h=Object.assign(qI,{defaultVisitor:d,convertValue:c,isVisitable:Nd});function g(v,p){if(!A.isUndefined(v)){if(u.indexOf(v)!==-1)throw Error("Circular reference detected in "+p.join("."));u.push(v),A.forEach(v,function(y,m){(!(A.isUndefined(y)||y===null)&&o.call(e,y,A.isString(m)?m.trim():m,p,h))===!0&&g(y,p?p.concat(m):[m])}),u.pop()}}if(!A.isObject(t))throw new TypeError("data must be an object");return g(t),e}function Ig(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Tf(t,e){this._pairs=[],t&&oc(t,this,e)}const Ab=Tf.prototype;Ab.append=function(e,n){this._pairs.push([e,n])};Ab.toString=function(e){const n=e?function(r){return e.call(this,r,Ig)}:Ig;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function YI(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Nb(t,e,n){if(!e)return t;const r=n&&n.encode||YI,o=n&&n.serialize;let i;if(o?i=o(e,n):i=A.isURLSearchParams(e)?e.toString():new Tf(e,n).toString(r),i){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class XI{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){A.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Pg=XI,Bb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},JI=typeof URLSearchParams<"u"?URLSearchParams:Tf,QI=typeof FormData<"u"?FormData:null,ZI=typeof Blob<"u"?Blob:null,eP={isBrowser:!0,classes:{URLSearchParams:JI,FormData:QI,Blob:ZI},protocols:["http","https","file","blob","url","data"]},Lb=typeof window<"u"&&typeof document<"u",tP=(t=>Lb&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),nP=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),rP=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Lb,hasStandardBrowserEnv:tP,hasStandardBrowserWebWorkerEnv:nP},Symbol.toStringTag,{value:"Module"})),Ft={...rP,...eP};function oP(t,e){return oc(t,new Ft.classes.URLSearchParams,Object.assign({visitor:function(n,r,o,i){return Ft.isNode&&A.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function iP(t){return A.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function sP(t){const e={},n=Object.keys(t);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],e[i]=t[i];return e}function Rb(t){function e(n,r,o,i){let s=n[i++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=i>=n.length;return s=!s&&A.isArray(o)?o.length:s,l?(A.hasOwnProp(o,s)?o[s]=[o[s],r]:o[s]=r,!a):((!o[s]||!A.isObject(o[s]))&&(o[s]=[]),e(n,r,o[s],i)&&A.isArray(o[s])&&(o[s]=sP(o[s])),!a)}if(A.isFormData(t)&&A.isFunction(t.entries)){const n={};return A.forEachEntry(t,(r,o)=>{e(iP(r),o,n,0)}),n}return null}function aP(t,e,n){if(A.isString(t))try{return(e||JSON.parse)(t),A.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const _f={transitional:Bb,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,i=A.isObject(e);if(i&&A.isHTMLForm(e)&&(e=new FormData(e)),A.isFormData(e))return o?JSON.stringify(Rb(e)):e;if(A.isArrayBuffer(e)||A.isBuffer(e)||A.isStream(e)||A.isFile(e)||A.isBlob(e))return e;if(A.isArrayBufferView(e))return e.buffer;if(A.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return oP(e,this.formSerializer).toString();if((a=A.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return oc(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||o?(n.setContentType("application/json",!1),aP(e)):e}],transformResponse:[function(e){const n=this.transitional||_f.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(e&&A.isString(e)&&(r&&!this.responseType||o)){const s=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?X.from(a,X.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ft.classes.FormData,Blob:Ft.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};A.forEach(["delete","get","head","post","put","patch"],t=>{_f.headers[t]={}});const If=_f,lP=A.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),cP=t=>{const e={};let n,r,o;return t&&t.split(`
`).forEach(function(s){o=s.indexOf(":"),n=s.substring(0,o).trim().toLowerCase(),r=s.substring(o+1).trim(),!(!n||e[n]&&lP[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Ag=Symbol("internals");function gi(t){return t&&String(t).trim().toLowerCase()}function Sa(t){return t===!1||t==null?t:A.isArray(t)?t.map(Sa):String(t)}function uP(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const dP=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function iu(t,e,n,r,o){if(A.isFunction(r))return r.call(this,e,n);if(o&&(e=n),!!A.isString(e)){if(A.isString(r))return e.indexOf(r)!==-1;if(A.isRegExp(r))return r.test(e)}}function hP(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function fP(t,e){const n=A.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(o,i,s){return this[r].call(this,e,o,i,s)},configurable:!0})})}class ic{constructor(e){e&&this.set(e)}set(e,n,r){const o=this;function i(a,l,c){const d=gi(l);if(!d)throw new Error("header name must be a non-empty string");const u=A.findKey(o,d);(!u||o[u]===void 0||c===!0||c===void 0&&o[u]!==!1)&&(o[u||l]=Sa(a))}const s=(a,l)=>A.forEach(a,(c,d)=>i(c,d,l));return A.isPlainObject(e)||e instanceof this.constructor?s(e,n):A.isString(e)&&(e=e.trim())&&!dP(e)?s(cP(e),n):e!=null&&i(n,e,r),this}get(e,n){if(e=gi(e),e){const r=A.findKey(this,e);if(r){const o=this[r];if(!n)return o;if(n===!0)return uP(o);if(A.isFunction(n))return n.call(this,o,r);if(A.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=gi(e),e){const r=A.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||iu(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let o=!1;function i(s){if(s=gi(s),s){const a=A.findKey(r,s);a&&(!n||iu(r,r[a],a,n))&&(delete r[a],o=!0)}}return A.isArray(e)?e.forEach(i):i(e),o}clear(e){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const i=n[r];(!e||iu(this,this[i],i,e,!0))&&(delete this[i],o=!0)}return o}normalize(e){const n=this,r={};return A.forEach(this,(o,i)=>{const s=A.findKey(r,i);if(s){n[s]=Sa(o),delete n[i];return}const a=e?hP(i):String(i).trim();a!==i&&delete n[i],n[a]=Sa(o),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return A.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=e&&A.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(o=>r.set(o)),r}static accessor(e){const r=(this[Ag]=this[Ag]={accessors:{}}).accessors,o=this.prototype;function i(s){const a=gi(s);r[a]||(fP(o,s),r[a]=!0)}return A.isArray(e)?e.forEach(i):i(e),this}}ic.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);A.reduceDescriptors(ic.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});A.freezeMethods(ic);const fn=ic;function su(t,e){const n=this||If,r=e||n,o=fn.from(r.headers);let i=r.data;return A.forEach(t,function(a){i=a.call(n,i,o.normalize(),e?e.status:void 0)}),o.normalize(),i}function Ob(t){return!!(t&&t.__CANCEL__)}function _s(t,e,n){X.call(this,t??"canceled",X.ERR_CANCELED,e,n),this.name="CanceledError"}A.inherits(_s,X,{__CANCEL__:!0});function pP(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new X("Request failed with status code "+n.status,[X.ERR_BAD_REQUEST,X.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const mP=Ft.hasStandardBrowserEnv?{write(t,e,n,r,o,i){const s=[t+"="+encodeURIComponent(e)];A.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),A.isString(r)&&s.push("path="+r),A.isString(o)&&s.push("domain="+o),i===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function gP(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function vP(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Mb(t,e){return t&&!gP(e)?vP(t,e):e}const yP=Ft.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function o(i){let s=i;return e&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=o(window.location.href),function(s){const a=A.isString(s)?o(s):s;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function bP(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function xP(t,e){t=t||10;const n=new Array(t),r=new Array(t);let o=0,i=0,s;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),d=r[i];s||(s=c),n[o]=l,r[o]=c;let u=i,h=0;for(;u!==o;)h+=n[u++],u=u%t;if(o=(o+1)%t,o===i&&(i=(i+1)%t),c-s<e)return;const g=d&&c-d;return g?Math.round(h*1e3/g):void 0}}function Ng(t,e){let n=0;const r=xP(50,250);return o=>{const i=o.loaded,s=o.lengthComputable?o.total:void 0,a=i-n,l=r(a),c=i<=s;n=i;const d={loaded:i,total:s,progress:s?i/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&c?(s-i)/l:void 0,event:o};d[e?"download":"upload"]=!0,t(d)}}const wP=typeof XMLHttpRequest<"u",kP=wP&&function(t){return new Promise(function(n,r){let o=t.data;const i=fn.from(t.headers).normalize();let{responseType:s,withXSRFToken:a}=t,l;function c(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}let d;if(A.isFormData(o)){if(Ft.hasStandardBrowserEnv||Ft.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if((d=i.getContentType())!==!1){const[p,...x]=d?d.split(";").map(y=>y.trim()).filter(Boolean):[];i.setContentType([p||"multipart/form-data",...x].join("; "))}}let u=new XMLHttpRequest;if(t.auth){const p=t.auth.username||"",x=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(p+":"+x))}const h=Mb(t.baseURL,t.url);u.open(t.method.toUpperCase(),Nb(h,t.params,t.paramsSerializer),!0),u.timeout=t.timeout;function g(){if(!u)return;const p=fn.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),y={data:!s||s==="text"||s==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:p,config:t,request:u};pP(function(b){n(b),c()},function(b){r(b),c()},y),u=null}if("onloadend"in u?u.onloadend=g:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(g)},u.onabort=function(){u&&(r(new X("Request aborted",X.ECONNABORTED,t,u)),u=null)},u.onerror=function(){r(new X("Network Error",X.ERR_NETWORK,t,u)),u=null},u.ontimeout=function(){let x=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const y=t.transitional||Bb;t.timeoutErrorMessage&&(x=t.timeoutErrorMessage),r(new X(x,y.clarifyTimeoutError?X.ETIMEDOUT:X.ECONNABORTED,t,u)),u=null},Ft.hasStandardBrowserEnv&&(a&&A.isFunction(a)&&(a=a(t)),a||a!==!1&&yP(h))){const p=t.xsrfHeaderName&&t.xsrfCookieName&&mP.read(t.xsrfCookieName);p&&i.set(t.xsrfHeaderName,p)}o===void 0&&i.setContentType(null),"setRequestHeader"in u&&A.forEach(i.toJSON(),function(x,y){u.setRequestHeader(y,x)}),A.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),s&&s!=="json"&&(u.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&u.addEventListener("progress",Ng(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",Ng(t.onUploadProgress)),(t.cancelToken||t.signal)&&(l=p=>{u&&(r(!p||p.type?new _s(null,t,u):p),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l)));const v=bP(h);if(v&&Ft.protocols.indexOf(v)===-1){r(new X("Unsupported protocol "+v+":",X.ERR_BAD_REQUEST,t));return}u.send(o||null)})},Bd={http:KI,xhr:kP};A.forEach(Bd,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Bg=t=>`- ${t}`,SP=t=>A.isFunction(t)||t===null||t===!1,Db={getAdapter:t=>{t=A.isArray(t)?t:[t];const{length:e}=t;let n,r;const o={};for(let i=0;i<e;i++){n=t[i];let s;if(r=n,!SP(n)&&(r=Bd[(s=String(n)).toLowerCase()],r===void 0))throw new X(`Unknown adapter '${s}'`);if(r)break;o[s||"#"+i]=r}if(!r){const i=Object.entries(o).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=e?i.length>1?`since :
`+i.map(Bg).join(`
`):" "+Bg(i[0]):"as no adapter specified";throw new X("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:Bd};function au(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new _s(null,t)}function Lg(t){return au(t),t.headers=fn.from(t.headers),t.data=su.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Db.getAdapter(t.adapter||If.adapter)(t).then(function(r){return au(t),r.data=su.call(t,t.transformResponse,r),r.headers=fn.from(r.headers),r},function(r){return Ob(r)||(au(t),r&&r.response&&(r.response.data=su.call(t,t.transformResponse,r.response),r.response.headers=fn.from(r.response.headers))),Promise.reject(r)})}const Rg=t=>t instanceof fn?{...t}:t;function Uo(t,e){e=e||{};const n={};function r(c,d,u){return A.isPlainObject(c)&&A.isPlainObject(d)?A.merge.call({caseless:u},c,d):A.isPlainObject(d)?A.merge({},d):A.isArray(d)?d.slice():d}function o(c,d,u){if(A.isUndefined(d)){if(!A.isUndefined(c))return r(void 0,c,u)}else return r(c,d,u)}function i(c,d){if(!A.isUndefined(d))return r(void 0,d)}function s(c,d){if(A.isUndefined(d)){if(!A.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function a(c,d,u){if(u in e)return r(c,d);if(u in t)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(c,d)=>o(Rg(c),Rg(d),!0)};return A.forEach(Object.keys(Object.assign({},t,e)),function(d){const u=l[d]||o,h=u(t[d],e[d],d);A.isUndefined(h)&&u!==a||(n[d]=h)}),n}const jb="1.6.8",Pf={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Pf[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Og={};Pf.transitional=function(e,n,r){function o(i,s){return"[Axios v"+jb+"] Transitional option '"+i+"'"+s+(r?". "+r:"")}return(i,s,a)=>{if(e===!1)throw new X(o(s," has been removed"+(n?" in "+n:"")),X.ERR_DEPRECATED);return n&&!Og[s]&&(Og[s]=!0,console.warn(o(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,s,a):!0}};function CP(t,e,n){if(typeof t!="object")throw new X("options must be an object",X.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let o=r.length;for(;o-- >0;){const i=r[o],s=e[i];if(s){const a=t[i],l=a===void 0||s(a,i,t);if(l!==!0)throw new X("option "+i+" must be "+l,X.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new X("Unknown option "+i,X.ERR_BAD_OPTION)}}const Ld={assertOptions:CP,validators:Pf},Tn=Ld.validators;class gl{constructor(e){this.defaults=e,this.interceptors={request:new Pg,response:new Pg}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let o;Error.captureStackTrace?Error.captureStackTrace(o={}):o=new Error;const i=o.stack?o.stack.replace(/^.+\n/,""):"";r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Uo(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:i}=n;r!==void 0&&Ld.assertOptions(r,{silentJSONParsing:Tn.transitional(Tn.boolean),forcedJSONParsing:Tn.transitional(Tn.boolean),clarifyTimeoutError:Tn.transitional(Tn.boolean)},!1),o!=null&&(A.isFunction(o)?n.paramsSerializer={serialize:o}:Ld.assertOptions(o,{encode:Tn.function,serialize:Tn.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=i&&A.merge(i.common,i[n.method]);i&&A.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),n.headers=fn.concat(s,i);const a=[];let l=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(n)===!1||(l=l&&p.synchronous,a.unshift(p.fulfilled,p.rejected))});const c=[];this.interceptors.response.forEach(function(p){c.push(p.fulfilled,p.rejected)});let d,u=0,h;if(!l){const v=[Lg.bind(this),void 0];for(v.unshift.apply(v,a),v.push.apply(v,c),h=v.length,d=Promise.resolve(n);u<h;)d=d.then(v[u++],v[u++]);return d}h=a.length;let g=n;for(u=0;u<h;){const v=a[u++],p=a[u++];try{g=v(g)}catch(x){p.call(this,x);break}}try{d=Lg.call(this,g)}catch(v){return Promise.reject(v)}for(u=0,h=c.length;u<h;)d=d.then(c[u++],c[u++]);return d}getUri(e){e=Uo(this.defaults,e);const n=Mb(e.baseURL,e.url);return Nb(n,e.params,e.paramsSerializer)}}A.forEach(["delete","get","head","options"],function(e){gl.prototype[e]=function(n,r){return this.request(Uo(r||{},{method:e,url:n,data:(r||{}).data}))}});A.forEach(["post","put","patch"],function(e){function n(r){return function(i,s,a){return this.request(Uo(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}gl.prototype[e]=n(),gl.prototype[e+"Form"]=n(!0)});const Ca=gl;class Af{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(o=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](o);r._listeners=null}),this.promise.then=o=>{let i;const s=new Promise(a=>{r.subscribe(a),i=a}).then(o);return s.cancel=function(){r.unsubscribe(i)},s},e(function(i,s,a){r.reason||(r.reason=new _s(i,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new Af(function(o){e=o}),cancel:e}}}const EP=Af;function TP(t){return function(n){return t.apply(null,n)}}function _P(t){return A.isObject(t)&&t.isAxiosError===!0}const Rd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Rd).forEach(([t,e])=>{Rd[e]=t});const IP=Rd;function Fb(t){const e=new Ca(t),n=bb(Ca.prototype.request,e);return A.extend(n,Ca.prototype,e,{allOwnKeys:!0}),A.extend(n,e,null,{allOwnKeys:!0}),n.create=function(o){return Fb(Uo(t,o))},n}const ke=Fb(If);ke.Axios=Ca;ke.CanceledError=_s;ke.CancelToken=EP;ke.isCancel=Ob;ke.VERSION=jb;ke.toFormData=oc;ke.AxiosError=X;ke.Cancel=ke.CanceledError;ke.all=function(e){return Promise.all(e)};ke.spread=TP;ke.isAxiosError=_P;ke.mergeConfig=Uo;ke.AxiosHeaders=fn;ke.formToJSON=t=>Rb(A.isHTMLForm(t)?new FormData(t):t);ke.getAdapter=Db.getAdapter;ke.HttpStatusCode=IP;ke.default=ke;const Z=ke,PP=()=>{const t=Qo(),[e,n]=w.useState(!1),[r,o]=w.useState(!1);let{theme:i,setTheme:s}=w.useContext(wt);const{userAuth:a,userAuth:{access_token:l,profile_img:c,new_notification_available:d},setUserAuth:u}=w.useContext(Se),h=()=>{o(x=>!x)},g=()=>{setTimeout(()=>{o(!1)},300)},v=x=>{let y=x.target.value;x.keyCode===13&&y.length&&t(`/search/${y}`)};w.useEffect(()=>{l&&Z.get("https://mindful-mosaic.vercel.app//new-notification",{headers:{Authorization:`Bearer ${l}`}}).then(({data:x})=>{u({...a,...x})}).catch(x=>{console.log(x)})},[l]);const p=()=>{let x=i==="light"?"dark":"light";s(x),document.body.setAttribute("data-theme",x),ml("theme",x)};return f.jsxs(f.Fragment,{children:[f.jsxs("nav",{className:`navbar z-50 ${i==="dark"?"border-darkGrey":"border-lightGrey"}`,children:[f.jsx(ee,{to:"/",children:f.jsx("img",{src:tf,alt:"logo",className:"flex-none w-36 "})}),f.jsxs("div",{className:`absolute bg-white w-full left-0 top-full mt-0.5  py-4 px-[5vw] md:border-0 md:block md:relative md:inset-0 md:p-0 md:w-auto md:show +
            ${e?"show":"hide"}`,children:[f.jsx("input",{type:"text",placeholder:"Search",className:"w-full md:w-auto bg-grey p-4 pl-6 pr-[12%] md:pr-6 rounded-full placeholder:text-dark-grey md:pl-12",onKeyDown:v}),f.jsx("i",{className:"fi fi-rr-search absolute right-[10%] md:pointer-events-none md:left-5 top-1/2 -translate-y-1/2 text-xl text-dark-grey"})]}),f.jsxs("div",{className:"flex items-center gap-3 md:gap-6 ml-auto ",children:[f.jsx("button",{className:"md:hidden  bg-grey w-12 h-12 rounded-full flex items-center justify-center",onClick:()=>n(x=>!x),children:f.jsx("i",{className:"fi fi-rr-search text-xl"})}),f.jsxs(ee,{to:"/editor",className:"hidden md:flex gap-2 link ",children:[f.jsx("p",{children:"write"}),f.jsx("i",{className:"fi fi-rr-file-edit"})]}),f.jsx("button",{className:"w-12 h-12 rounded-full bg-grey relative hover:bg-black/10 ",children:f.jsx("i",{className:"fi fi-rr-"+(i=="light"?"moon-stars":"sun")+" text-2xl block mt-1",onClick:p})}),l?f.jsxs(f.Fragment,{children:[f.jsx(ee,{to:"/dashboard/notifications",children:f.jsxs("button",{className:"w-12 h-12 rounded-full bg-grey relative hover:bg-black/10 ",children:[f.jsx("i",{className:"fi fi-rr-bell text2xl block mt-1"}),d&&f.jsx("span",{className:"bg-red w-3 h-3 rounded-full  absolute z-10 top-2 right-2"})]})}),f.jsxs("div",{className:"relative",onClick:h,onBlur:g,children:[f.jsx("button",{className:"w-12 h-12 mt1",children:f.jsx("img",{src:c,alt:"Profile",className:"w-full h-full object-cover rounded-full"})}),r&&f.jsx(dI,{})]})]}):f.jsxs(f.Fragment,{children:[f.jsx(ee,{className:"btn-dark py-2 ",to:"/signin",children:"Sign In"}),f.jsx(ee,{className:"btn-light py-2 hidden md:block",to:"/signup",children:"Sign Up"})]})]})]}),f.jsx(Y0,{})]})},nn=({name:t,type:e,id:n,value:r,placeholder:o,icon:i,disable:s=!1})=>{const[a,l]=w.useState(!1);return f.jsxs("div",{className:"relative w-[100%] mb-4 ",children:[f.jsx("input",{name:t,type:e==="password"?a?"text":"password":e,placeholder:o,defaultValue:r,id:n,disabled:s,className:"input-box"}),f.jsx("i",{className:"fi "+i+" input-icon"}),e==="password"?f.jsx("i",{className:"fi fi-rr-eye"+(a?"":"-crossed")+" input-icon left-[auto] right-4 cursor-pointer",onClick:()=>l(c=>!c)}):""]})},AP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAoCAYAAACSN4jeAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAVeSURBVHgBzZhrbBRVFMfPuTO77dKtSCm1BQklppJCjEIfFIkUaHk2IKUEaQwR0FSNaIhA1BZCY2hVPho/CMQH0aatUgU+FLQPln5oKxTKIwEkJWwFoTwKWNjtY2fmeHaBdi3dmV12WfkluzN375mZ/9x79pxzL8ATCkIQUEGB6cb54+P5Lkka0gjUUAIJHQLopirJ7c/sbzwPj0jAwjrmvhwnq8oqDWA+S0vnn6J0zG8DUSOg+EmT5P3xvzdeAz/xW1hH9tQMCdRNRMiCQIIAIQAHAlaYTGLriAPNdiN7Q2FnF0+PjnG6SvnN10II4Af+xV8lo2qP7DCw8831WWmZJGAnnyZBiEGkckWWCxN8jJ7wdWFHdvr7JKj+cYhywy6RLyvqd776hxR2NSv9Q0H0Jb+XT+HBwv7WrvbhGt/9g0XNTpmLKA5AkKHEUJQLZsU3HL7g28aLW/MzEhVFbSCCseAHhHBcEOwD1A6TYv5TEeiSRV8MoJQApOWwwUK2SgxUlBvZu6G46HP+WxuKYptjAml9XG2LbYjudv608qfa3eicnbZaQdyCQOO4eUNFdVF8w9ELRs/oH7HrczIWk6buNb6AtsWq1iK02RTwk8uzJ4+ThWm7BtLG+NqmU/5c0y+st9La2lX53Ev0j9m3taCiuJqWUggDHmGuWnkanzZSj0TddaO13pMjH47sBFvj6o9shjAh7qnDAs8xUsVhORclS+YVQnS7Uj8XRs3I2QJhxDNiSq35EgGN8e5Qrli0u7+OF56pJVjNo/U9hBHRV2OaPFiUGzmhW0S/3gbS2Lsdo7SoCggzMgEm/3fWBpCG98HwlW31mHWmB/wgq8S5jVB7FYKE8/MHskCYoGuFUAf+glocv+PzECRCg0msi2L1jIikNgg/Y1gcDtOzIFXqgjCjAUVxuCD9CC5pZvgfEIjYqWdAqhq0zwSKAF7QcN2lm1BRUCqEHeyUVYRWHDpagJNk+NY5YXnK9vSNR9/e4TK6HWnaXq6Z7WAIzuKvGToGp5EOAle4puvceNq75291GGy4kwF2xequu3KPvla1B0JEVundGq75sn31C61nomDtCj+42rvjUF8Crbmd6RHlhkPKOggR8z/rTtQTxT5/sXZz7BlPElcV+sZ95AUCfO1Mho+70rCLTAPWhJlplbkbIAS4NFW/GCCeQ7hfXUTOUw52aJGn1nZNo13OJB/24ovU8qXLIAiySh1L2J1XGZj92C+MSwzK7Zzz6TFXrN4ChP/FWJFWuXQ9PIqokjsrOF2V6dlw+XW+rshac+/ci5SKZQ3sT6+AAewHZZImb2rOr7Ab2c7clx/rcFhKLFffeFN2pEj694VVdYXWXQ8Jm1qWl6RK2MID+BT4xy+cP3bz9LRGn+tssxXblAXVCyLuOC1jelwwnV9gEfflsJ0n7UXcWkIRN3OHnhUOW/WF1ikDzUHwqL3Fo7YTAscdDd2xTjeFmR0ZauS1NQhahBgQQV2qkF+0fWKxP/jtoaG9svv0sdF5ye5xnQmBgeDHLpBqviRc0c1gckxB1B7UD/jOwcIom7fdkDe6XHXm0Oi8SeyLMBMeAySc6IpuIkmJ0UTvs0X1m6xfDbbR3QZILc97jy22wX0fCTFOToXrjuRXDek2hvsTGeVLEhWUfuPTkFUZ/NATshArm5b/7HPxa7ib05y/x95ytiqZ08i7fEM7BMdt9t2Pos6+kKonyk1AOzrFxcWiesLJFbzozOdLs3l1FWl0DYeMbg4pTbyKrxDRkZV/LCzzqyJ+5K2mlJYCE5y7NVXI2kTOpZyYaST7jJnTbR8SdvKxndunemMsJ07O+8EBAfIvZzP9J7slOesAAAAASUVORK5CYII=";let NP={data:""},BP=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||NP,LP=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,RP=/\/\*[^]*?\*\/|  +/g,Mg=/\n+/g,Mn=(t,e)=>{let n="",r="",o="";for(let i in t){let s=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+s+";":r+=i[1]=="f"?Mn(s,i):i+"{"+Mn(s,i[1]=="k"?"":e)+"}":typeof s=="object"?r+=Mn(s,e?e.replace(/([^,])+/g,a=>i.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):s!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Mn.p?Mn.p(i,s):i+":"+s+";")}return n+(e&&o?e+"{"+o+"}":o)+r},qt={},Ub=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+Ub(t[n]);return e}return t},OP=(t,e,n,r,o)=>{let i=Ub(t),s=qt[i]||(qt[i]=(l=>{let c=0,d=11;for(;c<l.length;)d=101*d+l.charCodeAt(c++)>>>0;return"go"+d})(i));if(!qt[s]){let l=i!==t?t:(c=>{let d,u,h=[{}];for(;d=LP.exec(c.replace(RP,""));)d[4]?h.shift():d[3]?(u=d[3].replace(Mg," ").trim(),h.unshift(h[0][u]=h[0][u]||{})):h[0][d[1]]=d[2].replace(Mg," ").trim();return h[0]})(t);qt[s]=Mn(o?{["@keyframes "+s]:l}:l,n?"":"."+s)}let a=n&&qt.g?qt.g:null;return n&&(qt.g=qt[s]),((l,c,d,u)=>{u?c.data=c.data.replace(u,l):c.data.indexOf(l)===-1&&(c.data=d?l+c.data:c.data+l)})(qt[s],e,r,a),s},MP=(t,e,n)=>t.reduce((r,o,i)=>{let s=e[i];if(s&&s.call){let a=s(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;s=l?"."+l:a&&typeof a=="object"?a.props?"":Mn(a,""):a===!1?"":a}return r+o+(s??"")},"");function sc(t){let e=this||{},n=t.call?t(e.p):t;return OP(n.unshift?n.raw?MP(n,[].slice.call(arguments,1),e.p):n.reduce((r,o)=>Object.assign(r,o&&o.call?o(e.p):o),{}):n,BP(e.target),e.g,e.o,e.k)}let $b,Od,Md;sc.bind({g:1});let bn=sc.bind({k:1});function DP(t,e,n,r){Mn.p=e,$b=t,Od=n,Md=r}function dr(t,e){let n=this||{};return function(){let r=arguments;function o(i,s){let a=Object.assign({},i),l=a.className||o.className;n.p=Object.assign({theme:Od&&Od()},a),n.o=/ *go\d+/.test(l),a.className=sc.apply(n,r)+(l?" "+l:""),e&&(a.ref=s);let c=t;return t[0]&&(c=a.as||t,delete a.as),Md&&c[0]&&Md(a),$b(c,a)}return e?e(o):o}}var jP=t=>typeof t=="function",vl=(t,e)=>jP(t)?t(e):t,FP=(()=>{let t=0;return()=>(++t).toString()})(),Vb=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),UP=20,Ea=new Map,$P=1e3,Dg=t=>{if(Ea.has(t))return;let e=setTimeout(()=>{Ea.delete(t),Kr({type:4,toastId:t})},$P);Ea.set(t,e)},VP=t=>{let e=Ea.get(t);e&&clearTimeout(e)},Dd=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,UP)};case 1:return e.toast.id&&VP(e.toast.id),{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return t.toasts.find(i=>i.id===n.id)?Dd(t,{type:1,toast:n}):Dd(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?Dg(r):t.toasts.forEach(i=>{Dg(i.id)}),{...t,toasts:t.toasts.map(i=>i.id===r||r===void 0?{...i,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let o=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+o}))}}},Ta=[],_a={toasts:[],pausedAt:void 0},Kr=t=>{_a=Dd(_a,t),Ta.forEach(e=>{e(_a)})},zP={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},HP=(t={})=>{let[e,n]=w.useState(_a);w.useEffect(()=>(Ta.push(n),()=>{let o=Ta.indexOf(n);o>-1&&Ta.splice(o,1)}),[e]);let r=e.toasts.map(o=>{var i,s;return{...t,...t[o.type],...o,duration:o.duration||((i=t[o.type])==null?void 0:i.duration)||(t==null?void 0:t.duration)||zP[o.type],style:{...t.style,...(s=t[o.type])==null?void 0:s.style,...o.style}}});return{...e,toasts:r}},WP=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||FP()}),Is=t=>(e,n)=>{let r=WP(e,t,n);return Kr({type:2,toast:r}),r.id},$=(t,e)=>Is("blank")(t,e);$.error=Is("error");$.success=Is("success");$.loading=Is("loading");$.custom=Is("custom");$.dismiss=t=>{Kr({type:3,toastId:t})};$.remove=t=>Kr({type:4,toastId:t});$.promise=(t,e,n)=>{let r=$.loading(e.loading,{...n,...n==null?void 0:n.loading});return t.then(o=>($.success(vl(e.success,o),{id:r,...n,...n==null?void 0:n.success}),o)).catch(o=>{$.error(vl(e.error,o),{id:r,...n,...n==null?void 0:n.error})}),t};var KP=(t,e)=>{Kr({type:1,toast:{id:t,height:e}})},GP=()=>{Kr({type:5,time:Date.now()})},qP=t=>{let{toasts:e,pausedAt:n}=HP(t);w.useEffect(()=>{if(n)return;let i=Date.now(),s=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(l<0){a.visible&&$.dismiss(a.id);return}return setTimeout(()=>$.dismiss(a.id),l)});return()=>{s.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=w.useCallback(()=>{n&&Kr({type:6,time:Date.now()})},[n]),o=w.useCallback((i,s)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=s||{},d=e.filter(g=>(g.position||c)===(i.position||c)&&g.height),u=d.findIndex(g=>g.id===i.id),h=d.filter((g,v)=>v<u&&g.visible).length;return d.filter(g=>g.visible).slice(...a?[h+1]:[0,h]).reduce((g,v)=>g+(v.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:KP,startPause:GP,endPause:r,calculateOffset:o}}},YP=bn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,XP=bn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,JP=bn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,QP=dr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${YP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${XP} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${JP} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ZP=bn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,eA=dr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${ZP} 1s linear infinite;
`,tA=bn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,nA=bn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,rA=dr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${tA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${nA} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,oA=dr("div")`
  position: absolute;
`,iA=dr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,sA=bn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,aA=dr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${sA} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,lA=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?w.createElement(aA,null,e):e:n==="blank"?null:w.createElement(iA,null,w.createElement(eA,{...r}),n!=="loading"&&w.createElement(oA,null,n==="error"?w.createElement(QP,{...r}):w.createElement(rA,{...r})))},cA=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,uA=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,dA="0%{opacity:0;} 100%{opacity:1;}",hA="0%{opacity:1;} 100%{opacity:0;}",fA=dr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,pA=dr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,mA=(t,e)=>{let n=t.includes("top")?1:-1,[r,o]=Vb()?[dA,hA]:[cA(n),uA(n)];return{animation:e?`${bn(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${bn(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},gA=w.memo(({toast:t,position:e,style:n,children:r})=>{let o=t.height?mA(t.position||e||"top-center",t.visible):{opacity:0},i=w.createElement(lA,{toast:t}),s=w.createElement(pA,{...t.ariaProps},vl(t.message,t));return w.createElement(fA,{className:t.className,style:{...o,...n,...t.style}},typeof r=="function"?r({icon:i,message:s}):w.createElement(w.Fragment,null,i,s))});DP(w.createElement);var vA=({id:t,className:e,style:n,onHeightUpdate:r,children:o})=>{let i=w.useCallback(s=>{if(s){let a=()=>{let l=s.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return w.createElement("div",{ref:i,className:e,style:n},o)},yA=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},o=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Vb()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...o}},bA=sc`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ia=16,Cn=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:o,containerStyle:i,containerClassName:s})=>{let{toasts:a,handlers:l}=qP(n);return w.createElement("div",{style:{position:"fixed",zIndex:9999,top:ia,left:ia,right:ia,bottom:ia,pointerEvents:"none",...i},className:s,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let d=c.position||e,u=l.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),h=yA(d,u);return w.createElement(vA,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?bA:"",style:h},c.type==="custom"?vl(c.message,c):o?o(c):w.createElement(gA,{toast:c,position:d}))}))},Ge=$;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},xA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=t[n++];e[r++]=String.fromCharCode((o&31)<<6|i&63)}else if(o>239&&o<365){const i=t[n++],s=t[n++],a=t[n++],l=((o&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],s=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(i&63)<<6|s&63)}}return e.join("")},Hb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const i=t[o],s=o+1<t.length,a=s?t[o+1]:0,l=o+2<t.length,c=l?t[o+2]:0,d=i>>2,u=(i&3)<<4|a>>4;let h=(a&15)<<2|c>>6,g=c&63;l||(g=64,s||(h=64)),r.push(n[d],n[u],n[h],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):xA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const i=n[t.charAt(o++)],a=o<t.length?n[t.charAt(o)]:0;++o;const c=o<t.length?n[t.charAt(o)]:64;++o;const u=o<t.length?n[t.charAt(o)]:64;if(++o,i==null||a==null||c==null||u==null)throw new wA;const h=i<<2|a>>4;if(r.push(h),c!==64){const g=a<<4&240|c>>2;if(r.push(g),u!==64){const v=c<<6&192|u;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class wA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kA=function(t){const e=zb(t);return Hb.encodeByteArray(e,!0)},Wb=function(t){return kA(t).replace(/\./g,"")},Kb=function(t){try{return Hb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=()=>SA().__FIREBASE_DEFAULTS__,EA=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},TA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Kb(t[1]);return e&&JSON.parse(e)},Nf=()=>{try{return CA()||EA()||TA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_A=t=>{var e,n;return(n=(e=Nf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Gb=()=>{var t;return(t=Nf())===null||t===void 0?void 0:t.config},qb=t=>{var e;return(e=Nf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ue())}function AA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function NA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BA(){const t=Ue();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function LA(){try{return typeof indexedDB=="object"}catch{return!1}}function RA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var i;e(((i=o.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="FirebaseError";class hr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=OA,Object.setPrototypeOf(this,hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ps.prototype.create)}}class Ps{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,i=this.errors[e],s=i?MA(i,r):"Error",a=`${this.serviceName}: ${s} (${o}).`;return new hr(o,a,r)}}function MA(t,e){return t.replace(DA,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const DA=/\{\$([^}]+)}/g;function jA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function yl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const i=t[o],s=e[o];if(jg(i)&&jg(s)){if(!yl(i,s))return!1}else if(i!==s)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function jg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function FA(t,e){const n=new UA(t,e);return n.subscribe.bind(n)}class UA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$A(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=lu),o.error===void 0&&(o.error=lu),o.complete===void 0&&(o.complete=lu);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $A(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function lu(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(t){return t&&t._delegate?t._delegate:t}class $o{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new IA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(o)return null;throw i}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HA(e))try{this.getOrInitializeService({instanceIdentifier:kr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:o});r.resolve(i)}catch{}}}}clearInstance(e=kr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=kr){return this.instances.has(e)}getOptions(e=kr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&s.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(o,i);const s=this.instances.get(o);return s&&e(s,o),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:zA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=kr){return this.component?this.component.multipleInstances?e:kr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zA(t){return t===kr?void 0:t}function HA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new VA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(re||(re={}));const KA={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},GA=re.INFO,qA={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},YA=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=qA[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yb{constructor(e){this.name=e,this._logLevel=GA,this._logHandler=YA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...e),this._logHandler(this,re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...e),this._logHandler(this,re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,re.INFO,...e),this._logHandler(this,re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,re.WARN,...e),this._logHandler(this,re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...e),this._logHandler(this,re.ERROR,...e)}}const XA=(t,e)=>e.some(n=>t instanceof n);let Fg,Ug;function JA(){return Fg||(Fg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QA(){return Ug||(Ug=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Xb=new WeakMap,jd=new WeakMap,Jb=new WeakMap,cu=new WeakMap,Bf=new WeakMap;function ZA(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{n(er(t.result)),o()},s=()=>{r(t.error),o()};t.addEventListener("success",i),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Xb.set(n,t)}).catch(()=>{}),Bf.set(e,t),e}function eN(t){if(jd.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{n(),o()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)});jd.set(t,e)}let Fd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Jb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return er(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tN(t){Fd=t(Fd)}function nN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(uu(this),e,...n);return Jb.set(r,e.sort?e.sort():[e]),er(r)}:QA().includes(t)?function(...e){return t.apply(uu(this),e),er(Xb.get(this))}:function(...e){return er(t.apply(uu(this),e))}}function rN(t){return typeof t=="function"?nN(t):(t instanceof IDBTransaction&&eN(t),XA(t,JA())?new Proxy(t,Fd):t)}function er(t){if(t instanceof IDBRequest)return ZA(t);if(cu.has(t))return cu.get(t);const e=rN(t);return e!==t&&(cu.set(t,e),Bf.set(e,t)),e}const uu=t=>Bf.get(t);function oN(t,e,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){const s=indexedDB.open(t,e),a=er(s);return r&&s.addEventListener("upgradeneeded",l=>{r(er(s.result),l.oldVersion,l.newVersion,er(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),o&&l.addEventListener("versionchange",c=>o(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const iN=["get","getKey","getAll","getAllKeys","count"],sN=["put","add","delete","clear"],du=new Map;function $g(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(du.get(e))return du.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=sN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||iN.includes(n)))return;const i=async function(s,...a){const l=this.transaction(s,o?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),o&&l.done]))[0]};return du.set(e,i),i}tN(t=>({...t,get:(e,n,r)=>$g(e,n)||t.get(e,n,r),has:(e,n)=>!!$g(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function lN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ud="@firebase/app",Vg="0.10.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr=new Yb("@firebase/app"),cN="@firebase/app-compat",uN="@firebase/analytics-compat",dN="@firebase/analytics",hN="@firebase/app-check-compat",fN="@firebase/app-check",pN="@firebase/auth",mN="@firebase/auth-compat",gN="@firebase/database",vN="@firebase/database-compat",yN="@firebase/functions",bN="@firebase/functions-compat",xN="@firebase/installations",wN="@firebase/installations-compat",kN="@firebase/messaging",SN="@firebase/messaging-compat",CN="@firebase/performance",EN="@firebase/performance-compat",TN="@firebase/remote-config",_N="@firebase/remote-config-compat",IN="@firebase/storage",PN="@firebase/storage-compat",AN="@firebase/firestore",NN="@firebase/firestore-compat",BN="firebase",LN="10.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="[DEFAULT]",RN={[Ud]:"fire-core",[cN]:"fire-core-compat",[dN]:"fire-analytics",[uN]:"fire-analytics-compat",[fN]:"fire-app-check",[hN]:"fire-app-check-compat",[pN]:"fire-auth",[mN]:"fire-auth-compat",[gN]:"fire-rtdb",[vN]:"fire-rtdb-compat",[yN]:"fire-fn",[bN]:"fire-fn-compat",[xN]:"fire-iid",[wN]:"fire-iid-compat",[kN]:"fire-fcm",[SN]:"fire-fcm-compat",[CN]:"fire-perf",[EN]:"fire-perf-compat",[TN]:"fire-rc",[_N]:"fire-rc-compat",[IN]:"fire-gcs",[PN]:"fire-gcs-compat",[AN]:"fire-fst",[NN]:"fire-fst-compat","fire-js":"fire-js",[BN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=new Map,ON=new Map,Vd=new Map;function zg(t,e){try{t.container.addComponent(e)}catch(n){jr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hs(t){const e=t.name;if(Vd.has(e))return jr.debug(`There were multiple attempts to register component ${e}.`),!1;Vd.set(e,t);for(const n of bl.values())zg(n,t);for(const n of ON.values())zg(n,t);return!0}function Qb(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function rn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},tr=new Ps("app","Firebase",MN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $o("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw tr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=LN;function Zb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:$d,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw tr.create("bad-app-name",{appName:String(o)});if(n||(n=Gb()),!n)throw tr.create("no-options");const i=bl.get(o);if(i){if(yl(n,i.options)&&yl(r,i.config))return i;throw tr.create("duplicate-app",{appName:o})}const s=new WA(o);for(const l of Vd.values())s.addComponent(l);const a=new DN(n,r,s);return bl.set(o,a),a}function jN(t=$d){const e=bl.get(t);if(!e&&t===$d&&Gb())return Zb();if(!e)throw tr.create("no-app",{appName:t});return e}function To(t,e,n){var r;let o=(r=RN[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);const i=o.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${o}" with version "${e}":`];i&&a.push(`library name "${o}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jr.warn(a.join(" "));return}hs(new $o(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN="firebase-heartbeat-database",UN=1,fs="firebase-heartbeat-store";let hu=null;function ex(){return hu||(hu=oN(FN,UN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(fs)}catch(n){console.warn(n)}}}}).catch(t=>{throw tr.create("idb-open",{originalErrorMessage:t.message})})),hu}async function $N(t){try{const n=(await ex()).transaction(fs),r=await n.objectStore(fs).get(tx(t));return await n.done,r}catch(e){if(e instanceof hr)jr.warn(e.message);else{const n=tr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});jr.warn(n.message)}}}async function Hg(t,e){try{const r=(await ex()).transaction(fs,"readwrite");await r.objectStore(fs).put(e,tx(t)),await r.done}catch(n){if(n instanceof hr)jr.warn(n.message);else{const r=tr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});jr.warn(r.message)}}}function tx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=1024,zN=30*24*60*60*1e3;class HN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new KN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Wg();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=zN}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Wg(),{heartbeatsToSend:r,unsentEntries:o}=WN(this._heartbeatsCache.heartbeats),i=Wb(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Wg(){return new Date().toISOString().substring(0,10)}function WN(t,e=VN){const n=[];let r=t.slice();for(const o of t){const i=n.find(s=>s.agent===o.agent);if(i){if(i.dates.push(o.date),Kg(n)>e){i.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Kg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class KN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LA()?RA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $N(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Hg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Hg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Kg(t){return Wb(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(t){hs(new $o("platform-logger",e=>new aN(e),"PRIVATE")),hs(new $o("heartbeat",e=>new HN(e),"PRIVATE")),To(Ud,Vg,t),To(Ud,Vg,"esm2017"),To("fire-js","")}GN("");var qN="firebase",YN="10.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */To(qN,YN,"app");function Lf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function nx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XN=nx,rx=new Ps("auth","Firebase",nx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=new Yb("@firebase/auth");function JN(t,...e){xl.logLevel<=re.WARN&&xl.warn(`Auth (${Ns}): ${t}`,...e)}function Ia(t,...e){xl.logLevel<=re.ERROR&&xl.error(`Auth (${Ns}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(t,...e){throw Of(t,...e)}function Nt(t,...e){return Of(t,...e)}function Rf(t,e,n){const r=Object.assign(Object.assign({},XN()),{[e]:n});return new Ps("auth","Firebase",r).create(e,{appName:t.name})}function Nr(t){return Rf(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function QN(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Wt(t,"argument-error"),Rf(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Of(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return rx.create(t,...e)}function G(t,e,...n){if(!t)throw Of(e,...n)}function on(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ia(e),new Error(e)}function xn(t,e){t||on(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ZN(){return Gg()==="http:"||Gg()==="https:"}function Gg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZN()||AA()||"connection"in navigator)?navigator.onLine:!0}function tB(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,n){this.shortDelay=e,this.longDelay=n,xn(n>e,"Short delay should be less than long delay!"),this.isMobile=PA()||NA()}get(){return eB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(t,e){xn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;on("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;on("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;on("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rB=new Bs(3e4,6e4);function Df(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ni(t,e,n,r,o={}){return ix(t,o,async()=>{let i={},s={};r&&(e==="GET"?s=r:i={body:JSON.stringify(r)});const a=As(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),ox.fetch()(sx(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function ix(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},nB),e);try{const o=new iB(t),i=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw sa(t,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const a=i.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw sa(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw sa(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw sa(t,"user-disabled",s);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Rf(t,d,c);Wt(t,d)}}catch(o){if(o instanceof hr)throw o;Wt(t,"network-request-failed",{message:String(o)})}}async function oB(t,e,n,r,o={}){const i=await ni(t,e,n,r,o);return"mfaPendingCredential"in i&&Wt(t,"multi-factor-auth-required",{_serverResponse:i}),i}function sx(t,e,n,r){const o=`${e}${n}?${r}`;return t.config.emulator?Mf(t.config,o):`${t.config.apiScheme}://${o}`}class iB{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Nt(this.auth,"network-request-failed")),rB.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sa(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Nt(t,e,r);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sB(t,e){return ni(t,"POST","/v1/accounts:delete",e)}async function ax(t,e){return ni(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function aB(t,e=!1){const n=ti(t),r=await n.getIdToken(e),o=jf(r);G(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const i=typeof o.firebase=="object"?o.firebase:void 0,s=i==null?void 0:i.sign_in_provider;return{claims:o,token:r,authTime:Ui(fu(o.auth_time)),issuedAtTime:Ui(fu(o.iat)),expirationTime:Ui(fu(o.exp)),signInProvider:s||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function fu(t){return Number(t)*1e3}function jf(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ia("JWT malformed, contained fewer than 3 sections"),null;try{const o=Kb(n);return o?JSON.parse(o):(Ia("Failed to decode base64 JWT payload"),null)}catch(o){return Ia("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function qg(t){const e=jf(t);return G(e,"internal-error"),G(typeof e.exp<"u","internal-error"),G(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ps(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof hr&&lB(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function lB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ui(this.lastLoginAt),this.creationTime=Ui(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(t){var e;const n=t.auth,r=await t.getIdToken(),o=await ps(t,ax(n,{idToken:r}));G(o==null?void 0:o.users.length,n,"internal-error");const i=o.users[0];t._notifyReloadListener(i);const s=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?lx(i.providerUserInfo):[],a=dB(t.providerData,s),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Hd(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,u)}async function uB(t){const e=ti(t);await wl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dB(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function lx(t){return t.map(e=>{var{providerId:n}=e,r=Lf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hB(t,e){const n=await ix(t,{},async()=>{const r=As({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:i}=t.config,s=sx(t,o,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ox.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function fB(t,e){return ni(t,"POST","/v2/accounts:revokeToken",Df(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){G(e.idToken,"internal-error"),G(typeof e.idToken<"u","internal-error"),G(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qg(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){G(e.length!==0,"internal-error");const n=qg(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(G(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:i}=await hB(e,n);this.updateTokensAndExpiration(r,o,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:i}=n,s=new _o;return r&&(G(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),o&&(G(typeof o=="string","internal-error",{appName:e}),s.accessToken=o),i&&(G(typeof i=="number","internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _o,this.toJSON())}_performRefresh(){return on("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(t,e){G(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class sn{constructor(e){var{uid:n,auth:r,stsTokenManager:o}=e,i=Lf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Hd(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ps(this,this.stsTokenManager.getToken(this.auth,e));return G(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return aB(this,e)}reload(){return uB(this)}_assign(e){this!==e&&(G(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new sn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await wl(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(rn(this.auth.app))return Promise.reject(Nr(this.auth));const e=await this.getIdToken();return await ps(this,sB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,o,i,s,a,l,c,d;const u=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(o=n.email)!==null&&o!==void 0?o:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,v=(s=n.photoURL)!==null&&s!==void 0?s:void 0,p=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,m=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:b,emailVerified:k,isAnonymous:S,providerData:E,stsTokenManager:_}=n;G(b&&_,e,"internal-error");const C=_o.fromJSON(this.name,_);G(typeof b=="string",e,"internal-error"),_n(u,e.name),_n(h,e.name),G(typeof k=="boolean",e,"internal-error"),G(typeof S=="boolean",e,"internal-error"),_n(g,e.name),_n(v,e.name),_n(p,e.name),_n(x,e.name),_n(y,e.name),_n(m,e.name);const T=new sn({uid:b,auth:e,email:h,emailVerified:k,displayName:u,isAnonymous:S,photoURL:v,phoneNumber:g,tenantId:p,stsTokenManager:C,createdAt:y,lastLoginAt:m});return E&&Array.isArray(E)&&(T.providerData=E.map(P=>Object.assign({},P))),x&&(T._redirectEventId=x),T}static async _fromIdTokenResponse(e,n,r=!1){const o=new _o;o.updateFromServerResponse(n);const i=new sn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await wl(i),i}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];G(o.localId!==void 0,"internal-error");const i=o.providerUserInfo!==void 0?lx(o.providerUserInfo):[],s=!(o.email&&o.passwordHash)&&!(i!=null&&i.length),a=new _o;a.updateFromIdToken(r);const l=new sn({uid:o.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:i,metadata:new Hd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg=new Map;function an(t){xn(t instanceof Function,"Expected a class definition");let e=Yg.get(t);return e?(xn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Yg.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}cx.type="NONE";const Xg=cx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pa(t,e,n){return`firebase:${t}:${e}:${n}`}class Io{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:i}=this.auth;this.fullUserKey=Pa(this.userKey,o.apiKey,i),this.fullPersistenceKey=Pa("persistence",o.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?sn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Io(an(Xg),e,r);const o=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=o[0]||an(Xg);const s=Pa(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(s);if(d){const u=sn._fromJSON(e,d);c!==i&&(a=u),i=c;break}}catch{}const l=o.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Io(i,e,r):(i=l[0],a&&await i._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(s)}catch{}})),new Io(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ux(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(px(e))return"Blackberry";if(mx(e))return"Webos";if(Ff(e))return"Safari";if((e.includes("chrome/")||dx(e))&&!e.includes("edge/"))return"Chrome";if(fx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ux(t=Ue()){return/firefox\//i.test(t)}function Ff(t=Ue()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dx(t=Ue()){return/crios\//i.test(t)}function hx(t=Ue()){return/iemobile/i.test(t)}function fx(t=Ue()){return/android/i.test(t)}function px(t=Ue()){return/blackberry/i.test(t)}function mx(t=Ue()){return/webos/i.test(t)}function ac(t=Ue()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function pB(t=Ue()){var e;return ac(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function mB(){return BA()&&document.documentMode===10}function gx(t=Ue()){return ac(t)||fx(t)||mx(t)||px(t)||/windows phone/i.test(t)||hx(t)}function gB(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(t,e=[]){let n;switch(t){case"Browser":n=Jg(Ue());break;case"Worker":n=`${Jg(Ue())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ns}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((s,a)=>{try{const l=e(i);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yB(t,e={}){return ni(t,"GET","/v2/passwordPolicy",Df(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bB=6;class xB{constructor(e){var n,r,o,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:bB,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,o,i,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsLowercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qg(this),this.idTokenSubscription=new Qg(this),this.beforeStateQueue=new vB(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=an(n)),this._initializationPromise=this.queue(async()=>{var r,o;if(!this._deleted&&(this.persistenceManager=await Io.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ax(this,{idToken:e}),r=await sn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(rn(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=o==null?void 0:o._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(o=l.user,i=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(o)}catch(s){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return G(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wl(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(rn(this.app))return Promise.reject(Nr(this));const n=e?ti(e):null;return n&&G(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&G(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return rn(this.app)?Promise.reject(Nr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return rn(this.app)?Promise.reject(Nr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(an(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yB(this),n=new xB(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ps("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await fB(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&an(e)||this._popupRedirectResolver;G(n,this,"argument-error"),this.redirectPersistenceManager=await Io.create(this,[an(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(G(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,o);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&JN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function lc(t){return ti(t)}class Qg{constructor(e){this.auth=e,this.observer=null,this.addObserver=FA(n=>this.observer=n)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kB(t){Uf=t}function SB(t){return Uf.loadJS(t)}function CB(){return Uf.gapiScript}function EB(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TB(t,e){const n=Qb(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),i=n.getOptions();if(yl(i,e??{}))return o;Wt(o,"already-initialized")}return n.initialize({options:e})}function _B(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(an);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function IB(t,e,n){const r=lc(t);G(r._canInitEmulator,r,"emulator-config-failed"),G(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!!(n!=null&&n.disableWarnings),i=yx(e),{host:s,port:a}=PB(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:o})}),o||AB()}function yx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function PB(t){const e=yx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const i=o[1];return{host:i,port:Zg(r.substr(i.length+1))}}else{const[i,s]=r.split(":");return{host:i,port:Zg(s)}}}function Zg(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function AB(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return on("not implemented")}_getIdTokenResponse(e){return on("not implemented")}_linkToIdToken(e,n){return on("not implemented")}_getReauthenticationResolver(e){return on("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Po(t,e){return oB(t,"POST","/v1/accounts:signInWithIdp",Df(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NB="http://localhost";class Fr extends bx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Fr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=n,i=Lf(n,["providerId","signInMethod"]);if(!r||!o)return null;const s=new Fr(r,o);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Po(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Po(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Po(e,n)}buildRequest(){const e={requestUri:NB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=As(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends $f{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn extends Ls{constructor(){super("facebook.com")}static credential(e){return Fr._fromParams({providerId:Dn.PROVIDER_ID,signInMethod:Dn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Dn.credentialFromTaggedObject(e)}static credentialFromError(e){return Dn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Dn.credential(e.oauthAccessToken)}catch{return null}}}Dn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Dn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt extends Ls{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Fr._fromParams({providerId:Qt.PROVIDER_ID,signInMethod:Qt.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qt.credentialFromTaggedObject(e)}static credentialFromError(e){return Qt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Qt.credential(n,r)}catch{return null}}}Qt.GOOGLE_SIGN_IN_METHOD="google.com";Qt.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn extends Ls{constructor(){super("github.com")}static credential(e){return Fr._fromParams({providerId:jn.PROVIDER_ID,signInMethod:jn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jn.credentialFromTaggedObject(e)}static credentialFromError(e){return jn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jn.credential(e.oauthAccessToken)}catch{return null}}}jn.GITHUB_SIGN_IN_METHOD="github.com";jn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn extends Ls{constructor(){super("twitter.com")}static credential(e,n){return Fr._fromParams({providerId:Fn.PROVIDER_ID,signInMethod:Fn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fn.credentialFromTaggedObject(e)}static credentialFromError(e){return Fn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Fn.credential(n,r)}catch{return null}}}Fn.TWITTER_SIGN_IN_METHOD="twitter.com";Fn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const i=await sn._fromIdTokenResponse(e,r,o),s=ev(r);return new Vo({user:i,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=ev(r);return new Vo({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function ev(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl extends hr{constructor(e,n,r,o){var i;super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,kl.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new kl(e,n,r,o)}}function xx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?kl._fromErrorAndOperation(t,i,e,r):i})}async function BB(t,e,n=!1){const r=await ps(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Vo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LB(t,e,n=!1){const{auth:r}=t;if(rn(r.app))return Promise.reject(Nr(r));const o="reauthenticate";try{const i=await ps(t,xx(r,o,e,t),n);G(i.idToken,r,"internal-error");const s=jf(i.idToken);G(s,r,"internal-error");const{sub:a}=s;return G(t.uid===a,r,"user-mismatch"),Vo._forOperation(t,o,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Wt(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RB(t,e,n=!1){if(rn(t.app))return Promise.reject(Nr(t));const r="signIn",o=await xx(t,r,e),i=await Vo._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(i.user),i}function OB(t,e,n,r){return ti(t).onIdTokenChanged(e,n,r)}function MB(t,e,n){return ti(t).beforeAuthStateChanged(e,n)}const Sl="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sl,"1"),this.storage.removeItem(Sl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DB(){const t=Ue();return Ff(t)||ac(t)}const jB=1e3,FB=10;class kx extends wx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=DB()&&gB(),this.fallbackToPolling=gx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const o=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},i=this.storage.getItem(r);mB()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,FB):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},jB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}kx.type="LOCAL";const UB=kx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx extends wx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Sx.type="SESSION";const Cx=Sx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $B(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new cc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:i}=n.data,s=this.handlersMap[o];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const a=Array.from(s).map(async c=>c(n.origin,i)),l=await $B(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let i,s;return new Promise((a,l)=>{const c=Vf("",20);o.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:o,onMessage(u){const h=u;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(h.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(s),o.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[o.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(){return window}function zB(t){zt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(){return typeof zt().WorkerGlobalScope<"u"&&typeof zt().importScripts=="function"}async function HB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function KB(){return Ex()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx="firebaseLocalStorageDb",GB=1,Cl="firebaseLocalStorage",_x="fbase_key";class Rs{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function uc(t,e){return t.transaction([Cl],e?"readwrite":"readonly").objectStore(Cl)}function qB(){const t=indexedDB.deleteDatabase(Tx);return new Rs(t).toPromise()}function Wd(){const t=indexedDB.open(Tx,GB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Cl,{keyPath:_x})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Cl)?e(r):(r.close(),await qB(),e(await Wd()))})})}async function tv(t,e,n){const r=uc(t,!0).put({[_x]:e,value:n});return new Rs(r).toPromise()}async function YB(t,e){const n=uc(t,!1).get(e),r=await new Rs(n).toPromise();return r===void 0?null:r.value}function nv(t,e){const n=uc(t,!0).delete(e);return new Rs(n).toPromise()}const XB=800,JB=3;class Ix{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wd(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>JB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ex()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cc._getInstance(KB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await HB(),!this.activeServiceWorker)return;this.sender=new VB(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wd();return await tv(e,Sl,"1"),await nv(e,Sl),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>tv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>YB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>nv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const i=uc(o,!1).getAll();return new Rs(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:i}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(i)&&(this.notifyListeners(o,i),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ix.type="LOCAL";const QB=Ix;new Bs(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(t,e){return e?an(e):(G(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf extends bx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Po(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Po(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Po(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ZB(t){return RB(t.auth,new zf(t),t.bypassAuthState)}function eL(t){const{auth:e,user:n}=t;return G(n,e,"internal-error"),LB(n,new zf(t),t.bypassAuthState)}async function tL(t){const{auth:e,user:n}=t;return G(n,e,"internal-error"),BB(n,new zf(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,n,r,o,i=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:i,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZB;case"linkViaPopup":case"linkViaRedirect":return tL;case"reauthViaPopup":case"reauthViaRedirect":return eL;default:Wt(this.auth,"internal-error")}}resolve(e){xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL=new Bs(2e3,1e4);async function rL(t,e,n){if(rn(t.app))return Promise.reject(Nt(t,"operation-not-supported-in-this-environment"));const r=lc(t);QN(t,e,$f);const o=Px(r,n);return new Ir(r,"signInViaPopup",e,o).executeNotNull()}class Ir extends Ax{constructor(e,n,r,o,i){super(e,n,o,i),this.provider=r,this.authWindow=null,this.pollId=null,Ir.currentPopupAction&&Ir.currentPopupAction.cancel(),Ir.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return G(e,this.auth,"internal-error"),e}async onExecution(){xn(this.filter.length===1,"Popup operations only handle one event");const e=Vf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Nt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Nt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ir.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Nt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nL.get())};e()}}Ir.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL="pendingRedirect",Aa=new Map;class iL extends Ax{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Aa.get(this.auth._key());if(!e){try{const r=await sL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Aa.set(this.auth._key(),e)}return this.bypassAuthState||Aa.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sL(t,e){const n=cL(e),r=lL(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function aL(t,e){Aa.set(t._key(),e)}function lL(t){return an(t._redirectPersistence)}function cL(t){return Pa(oL,t.config.apiKey,t.name)}async function uL(t,e,n=!1){if(rn(t.app))return Promise.reject(Nr(t));const r=lc(t),o=Px(r,e),s=await new iL(r,o,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=10*60*1e3;class hL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Nx(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Nt(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dL&&this.cachedEventUids.clear(),this.cachedEventUids.has(rv(e))}saveEventToCache(e){this.cachedEventUids.add(rv(e)),this.lastProcessedEventTime=Date.now()}}function rv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Nx({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function fL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nx(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pL(t,e={}){return ni(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gL=/^https?/;async function vL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await pL(t);for(const n of e)try{if(yL(n))return}catch{}Wt(t,"unauthorized-domain")}function yL(t){const e=zd(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!gL.test(n))return!1;if(mL.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL=new Bs(3e4,6e4);function ov(){const t=zt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function xL(t){return new Promise((e,n)=>{var r,o,i;function s(){ov(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ov(),n(Nt(t,"network-request-failed"))},timeout:bL.get()})}if(!((o=(r=zt().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((i=zt().gapi)===null||i===void 0)&&i.load)s();else{const a=EB("iframefcb");return zt()[a]=()=>{gapi.load?s():n(Nt(t,"network-request-failed"))},SB(`${CB()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Na=null,e})}let Na=null;function wL(t){return Na=Na||xL(t),Na}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL=new Bs(5e3,15e3),SL="__/auth/iframe",CL="emulator/auth/iframe",EL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _L(t){const e=t.config;G(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Mf(e,CL):`https://${t.config.authDomain}/${SL}`,r={apiKey:e.apiKey,appName:t.name,v:Ns},o=TL.get(t.config.apiHost);o&&(r.eid=o);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${As(r).slice(1)}`}async function IL(t){const e=await wL(t),n=zt().gapi;return G(n,t,"internal-error"),e.open({where:document.body,url:_L(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EL,dontclear:!0},r=>new Promise(async(o,i)=>{await r.restyle({setHideOnLeave:!1});const s=Nt(t,"network-request-failed"),a=zt().setTimeout(()=>{i(s)},kL.get());function l(){zt().clearTimeout(a),o(r)}r.ping(l).then(l,()=>{i(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AL=500,NL=600,BL="_blank",LL="http://localhost";class iv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RL(t,e,n,r=AL,o=NL){const i=Math.max((window.screen.availHeight-o)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},PL),{width:r.toString(),height:o.toString(),top:i,left:s}),c=Ue().toLowerCase();n&&(a=dx(c)?BL:n),ux(c)&&(e=e||LL,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[g,v])=>`${h}${g}=${v},`,"");if(pB(c)&&a!=="_self")return OL(e||"",a),new iv(null);const u=window.open(e||"",a,d);G(u,t,"popup-blocked");try{u.focus()}catch{}return new iv(u)}function OL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML="__/auth/handler",DL="emulator/auth/handler",jL=encodeURIComponent("fac");async function sv(t,e,n,r,o,i){G(t.config.authDomain,t,"auth-domain-config-required"),G(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ns,eventId:o};if(e instanceof $f){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",jA(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,u]of Object.entries(i||{}))s[d]=u}if(e instanceof Ls){const d=e.getScopes().filter(u=>u!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${jL}=${encodeURIComponent(l)}`:"";return`${FL(t)}?${As(a).slice(1)}${c}`}function FL({config:t}){return t.emulator?Mf(t,DL):`https://${t.authDomain}/${ML}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu="webStorageSupport";class UL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cx,this._completeRedirectFn=uL,this._overrideRedirectResult=aL}async _openPopup(e,n,r,o){var i;xn((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const s=await sv(e,n,r,zd(),o);return RL(e,s,Vf())}async _openRedirect(e,n,r,o){await this._originValidation(e);const i=await sv(e,n,r,zd(),o);return zB(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:i}=this.eventManagers[n];return o?Promise.resolve(o):(xn(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await IL(e),r=new hL(e);return n.register("authEvent",o=>(G(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(pu,{type:pu},o=>{var i;const s=(i=o==null?void 0:o[0])===null||i===void 0?void 0:i[pu];s!==void 0&&n(!!s),Wt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return gx()||Ff()||ac()}}const $L=UL;var av="@firebase/auth",lv="1.7.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HL(t){hs(new $o("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;G(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vx(t)},c=new wB(r,o,i,l);return _B(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),hs(new $o("auth-internal",e=>{const n=lc(e.getProvider("auth").getImmediate());return(r=>new VL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),To(av,lv,zL(t)),To(av,lv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL=5*60,KL=qb("authIdTokenMaxAge")||WL;let cv=null;const GL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>KL)return;const o=n==null?void 0:n.token;cv!==o&&(cv=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function qL(t=jN()){const e=Qb(t,"auth");if(e.isInitialized())return e.getImmediate();const n=TB(t,{popupRedirectResolver:$L,persistence:[QB,UB,Cx]}),r=qb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const s=GL(i.toString());MB(n,s,()=>s(n.currentUser)),OB(n,a=>s(a))}}const o=_A("auth");return o&&IB(n,`http://${o}`),n}function YL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}kB({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const i=Nt("internal-error");i.customData=o,n(i)},r.type="text/javascript",r.charset="UTF-8",YL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HL("Browser");const XL={apiKey:"AIzaSyAUrPp4PFqAIqarWw_W5ASRTRls4Hl-eH0",authDomain:"react-blogging-52b70.firebaseapp.com",projectId:"react-blogging-52b70",storageBucket:"react-blogging-52b70.appspot.com",messagingSenderId:"551502308053",appId:import.meta.VITE_APP_ID};Zb(XL);const JL=new Qt,QL=qL(),ZL=async()=>{let t=null;return await rL(QL,JL).then(e=>{t=e.user}).catch(e=>{console.log(e)}),t};let eR=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,tR=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,20}$/;const uv=({type:t})=>{let{userAuth:{access_token:e},setUserAuth:n}=w.useContext(Se);const r=(s,a)=>{Z.post("https://mindful-mosaic.vercel.app/"+s,a).then(({data:l})=>{ml("user",JSON.stringify(l)),n(l)}).catch(({response:l})=>{$.error(l.data.error)})},o=s=>{s.preventDefault();let a=t==="sign-in"?"/signin":"/signup",l=new FormData(formElement),c={};for(let[g,v]of l.entries())c[g]=v;let{fullname:d,email:u,password:h}=c;if(d&&d.length<3)return $.error("Full name must be 3 letters long");if(!u.length)return $.error("Enter email");if(!eR.test(u))return $.error("Email is invalid");if(!tR.test(h))return $.error("password should be 6 to 20 characters long with a numeric, 1 uppercase and 1 lowercase lettes");r(a,c)},i=s=>{s.preventDefault(),ZL().then(a=>{let l="/google-auth",c={access_token:a.accessToken};r(l,c)}).catch(a=>($.error("Trouble login through Google"),console.log(a)))};return e?f.jsx(ef,{to:"/"}):f.jsx(we,{keyValue:t,children:f.jsxs("section",{className:"h-cover flex items-center justify-center",children:[f.jsx(Cn,{}),f.jsxs("form",{id:"formElement",className:"w-[80%] max-w-[400px]",children:[f.jsx("h1",{className:"text-4xl font-gelasio capitalize text-center mb-24",children:t==="sign-in"?"Welcome Back":"Join us today"}),t!=="sign-in"?f.jsx(nn,{name:"fullname",type:"text",placeholder:"Full Name",icon:"fi-rr-user"}):"",f.jsx(nn,{name:"email",type:"email",placeholder:"Email",icon:"fi-rr-envelope"}),f.jsx(nn,{name:"password",type:"password",placeholder:"Password",icon:"fi-rr-key"}),f.jsx("button",{className:"btn-dark center mt-14",type:"submit",onClick:o,children:t.replace("-"," ")}),f.jsxs("div",{className:"relative w-full flex items-center gap-2 my-10 opacity-10 uppercase text-black font-bold",children:[f.jsx("hr",{className:"w-1/2 border-black"}),f.jsx("p",{children:"Or"}),f.jsx("hr",{className:"w-1/2 border-black"})]}),f.jsxs("button",{onClick:i,className:"btn-dark flex items-center justify-center gap-4 w-[90%] center",children:[f.jsx("img",{src:AP,alt:"googleImg",className:"w-4"}),"Continue with google"]}),t==="sign-in"?f.jsxs("p",{className:"mt-6 text-dark-grey text-xl text-center",children:["Don't have and account ?",f.jsx(ee,{to:"/signup",className:"underline text-black text-xl ml-1",children:"Join us Now"})]}):f.jsxs("p",{className:"mt-6 text-dark-grey text-xl text-center",children:["Already a member ?",f.jsx(ee,{to:"/signin",className:"underline text-black text-xl ml-1",children:"Sign in here"})]})]})]})})},nR="/assets/blog banner light-4c269e06.png",rR="/assets/blog banner dark-5dfd346c.png";var oR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function mu(){}Object.assign(mu,{default:mu,register:mu,revert:function(){},__esModule:!0});Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){const e=(this.document||this.ownerDocument).querySelectorAll(t);let n=e.length;for(;--n>=0&&e.item(n)!==this;);return n>-1});Element.prototype.closest||(Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(e!==null);return null});Element.prototype.prepend||(Element.prototype.prepend=function(t){const e=document.createDocumentFragment();Array.isArray(t)||(t=[t]),t.forEach(n=>{const r=n instanceof Node;e.appendChild(r?n:document.createTextNode(n))}),this.insertBefore(e,this.firstChild)});Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(t){t=arguments.length===0?!0:!!t;const e=this.parentNode,n=window.getComputedStyle(e,null),r=parseInt(n.getPropertyValue("border-top-width")),o=parseInt(n.getPropertyValue("border-left-width")),i=this.offsetTop-e.offsetTop<e.scrollTop,s=this.offsetTop-e.offsetTop+this.clientHeight-r>e.scrollTop+e.clientHeight,a=this.offsetLeft-e.offsetLeft<e.scrollLeft,l=this.offsetLeft-e.offsetLeft+this.clientWidth-o>e.scrollLeft+e.clientWidth,c=i&&!s;(i||s)&&t&&(e.scrollTop=this.offsetTop-e.offsetTop-e.clientHeight/2-r+this.clientHeight/2),(a||l)&&t&&(e.scrollLeft=this.offsetLeft-e.offsetLeft-e.clientWidth/2-o+this.clientWidth/2),(i||s||a||l)&&!t&&this.scrollIntoView(c)});window.requestIdleCallback=window.requestIdleCallback||function(t){const e=Date.now();return setTimeout(function(){t({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})},1)};window.cancelIdleCallback=window.cancelIdleCallback||function(t){clearTimeout(t)};let iR=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");var Bx=(t=>(t.VERBOSE="VERBOSE",t.INFO="INFO",t.WARN="WARN",t.ERROR="ERROR",t))(Bx||{});const K={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},sR={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};function Os(t,e,n="log",r,o="color: inherit"){if(!("console"in window)||!window.console[n])return;const i=["info","log","warn","error"].includes(n),s=[];switch(Os.logLevel){case"ERROR":if(n!=="error")return;break;case"WARN":if(!["error","warn"].includes(n))return;break;case"INFO":if(!i||t)return;break}r&&s.push(r);const a="Editor.js 2.29.1",l=`line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`;t&&(i?(s.unshift(l,o),e=`%c${a}%c ${e}`):e=`( ${a} )${e}`);try{i?r?console[n](`${e} %o`,...s):console[n](e,...s):console[n](e)}catch{}}Os.logLevel="VERBOSE";function aR(t){Os.logLevel=t}const Q=Os.bind(window,!1),_t=Os.bind(window,!0);function Ur(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function ae(t){return Ur(t)==="function"||Ur(t)==="asyncfunction"}function Le(t){return Ur(t)==="object"}function sr(t){return Ur(t)==="string"}function lR(t){return Ur(t)==="boolean"}function dv(t){return Ur(t)==="number"}function hv(t){return Ur(t)==="undefined"}function xt(t){return t?Object.keys(t).length===0&&t.constructor===Object:!0}function Lx(t){return t>47&&t<58||t===32||t===13||t===229||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223}async function cR(t,e=()=>{},n=()=>{}){async function r(o,i,s){try{await o.function(o.data),await i(hv(o.data)?{}:o.data)}catch{s(hv(o.data)?{}:o.data)}}return t.reduce(async(o,i)=>(await o,r(i,e,n)),Promise.resolve())}function Rx(t){return Array.prototype.slice.call(t)}function El(t,e){return function(){const n=this,r=arguments;window.setTimeout(()=>t.apply(n,r),e)}}function uR(t){return t.name.split(".").pop()}function dR(t){return/^[-\w]+\/([-+\w]+|\*)$/.test(t)}function fv(t,e,n){let r;return(...o)=>{const i=this,s=()=>{r=null,n||t.apply(i,o)},a=n&&!r;window.clearTimeout(r),r=window.setTimeout(s,e),a&&t.apply(i,o)}}function Kd(t,e,n=void 0){let r,o,i,s=null,a=0;n||(n={});const l=function(){a=n.leading===!1?0:Date.now(),s=null,i=t.apply(r,o),s||(r=o=null)};return function(){const c=Date.now();!a&&n.leading===!1&&(a=c);const d=e-(c-a);return r=this,o=arguments,d<=0||d>e?(s&&(clearTimeout(s),s=null),a=c,i=t.apply(r,o),s||(r=o=null)):!s&&n.trailing!==!1&&(s=setTimeout(l,d)),i}}function hR(){const t={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(t).find(n=>window.navigator.appVersion.toLowerCase().indexOf(n)!==-1);return e&&(t[e]=!0),t}function zo(t){return t[0].toUpperCase()+t.slice(1)}function Gd(t,...e){if(!e.length)return t;const n=e.shift();if(Le(t)&&Le(n))for(const r in n)Le(n[r])?(t[r]||Object.assign(t,{[r]:{}}),Gd(t[r],n[r])):Object.assign(t,{[r]:n[r]});return Gd(t,...e)}function dc(t){const e=hR();return t=t.replace(/shift/gi,"").replace(/backspace/gi,"").replace(/enter/gi,"").replace(/up/gi,"").replace(/left/gi,"").replace(/down/gi,"").replace(/right/gi,"").replace(/escape/gi,"").replace(/insert/gi,"Ins").replace(/delete/gi,"").replace(/\+/gi," + "),e.mac?t=t.replace(/ctrl|cmd/gi,"").replace(/alt/gi,""):t=t.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),t}function fR(t){try{return new URL(t).href}catch{}return t.substring(0,2)==="//"?window.location.protocol+t:window.location.origin+t}function pR(){return iR(10)}function mR(t){window.open(t,"_blank")}function gR(t=""){return`${t}${Math.floor(Math.random()*1e8).toString(16)}`}function qd(t,e,n){const r=`${e} is deprecated and will be removed in the next major release. Please use the ${n} instead.`;t&&_t(r,"warn")}function ri(t,e,n){const r=n.value?"value":"get",o=n[r],i=`#${e}Cache`;if(n[r]=function(...s){return this[i]===void 0&&(this[i]=o.apply(this,...s)),this[i]},r==="get"&&n.set){const s=n.set;n.set=function(a){delete t[i],s.apply(this,a)}}return n}const Ox=650;function Br(){return window.matchMedia(`(max-width: ${Ox}px)`).matches}const pv=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function vR(t,e){const n=Array.isArray(t)||Le(t),r=Array.isArray(e)||Le(e);return n||r?JSON.stringify(t)===JSON.stringify(e):t===e}let I=class $e{static isSingleTag(e){return e.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(e.tagName)}static isLineBreakTag(e){return e&&e.tagName&&["BR","WBR"].includes(e.tagName)}static make(e,n=null,r={}){const o=document.createElement(e);Array.isArray(n)?o.classList.add(...n):n&&o.classList.add(n);for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i]);return o}static text(e){return document.createTextNode(e)}static append(e,n){Array.isArray(n)?n.forEach(r=>e.appendChild(r)):e.appendChild(n)}static prepend(e,n){Array.isArray(n)?(n=n.reverse(),n.forEach(r=>e.prepend(r))):e.prepend(n)}static swap(e,n){const r=document.createElement("div"),o=e.parentNode;o.insertBefore(r,e),o.insertBefore(e,n),o.insertBefore(n,r),o.removeChild(r)}static find(e=document,n){return e.querySelector(n)}static get(e){return document.getElementById(e)}static findAll(e=document,n){return e.querySelectorAll(n)}static get allInputsSelector(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map(e=>`input[type="${e}"]`).join(", ")}static findAllInputs(e){return Rx(e.querySelectorAll($e.allInputsSelector)).reduce((n,r)=>$e.isNativeInput(r)||$e.containsOnlyInlineElements(r)?[...n,r]:[...n,...$e.getDeepestBlockElements(r)],[])}static getDeepestNode(e,n=!1){const r=n?"lastChild":"firstChild",o=n?"previousSibling":"nextSibling";if(e&&e.nodeType===Node.ELEMENT_NODE&&e[r]){let i=e[r];if($e.isSingleTag(i)&&!$e.isNativeInput(i)&&!$e.isLineBreakTag(i))if(i[o])i=i[o];else if(i.parentNode[o])i=i.parentNode[o];else return i.parentNode;return this.getDeepestNode(i,n)}return e}static isElement(e){return dv(e)?!1:e&&e.nodeType&&e.nodeType===Node.ELEMENT_NODE}static isFragment(e){return dv(e)?!1:e&&e.nodeType&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}static isContentEditable(e){return e.contentEditable==="true"}static isNativeInput(e){const n=["INPUT","TEXTAREA"];return e&&e.tagName?n.includes(e.tagName):!1}static canSetCaret(e){let n=!0;if($e.isNativeInput(e))switch(e.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":n=!1;break}else n=$e.isContentEditable(e);return n}static isNodeEmpty(e,n){let r;return this.isSingleTag(e)&&!this.isLineBreakTag(e)?!1:(this.isElement(e)&&this.isNativeInput(e)?r=e.value:r=e.textContent.replace("",""),n&&(r=r.replace(new RegExp(n,"g"),"")),r.trim().length===0)}static isLeaf(e){return e?e.childNodes.length===0:!1}static isEmpty(e,n){e.normalize();const r=[e];for(;r.length>0;)if(e=r.shift(),!!e){if(this.isLeaf(e)&&!this.isNodeEmpty(e,n))return!1;e.childNodes&&r.push(...Array.from(e.childNodes))}return!0}static isHTMLString(e){const n=$e.make("div");return n.innerHTML=e,n.childElementCount>0}static getContentLength(e){return $e.isNativeInput(e)?e.value.length:e.nodeType===Node.TEXT_NODE?e.length:e.textContent.length}static get blockElements(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}static containsOnlyInlineElements(e){let n;sr(e)?(n=document.createElement("div"),n.innerHTML=e):n=e;const r=o=>!$e.blockElements.includes(o.tagName.toLowerCase())&&Array.from(o.children).every(r);return Array.from(n.children).every(r)}static getDeepestBlockElements(e){return $e.containsOnlyInlineElements(e)?[e]:Array.from(e.children).reduce((n,r)=>[...n,...$e.getDeepestBlockElements(r)],[])}static getHolder(e){return sr(e)?document.getElementById(e):e}static isAnchor(e){return e.tagName.toLowerCase()==="a"}static offset(e){const n=e.getBoundingClientRect(),r=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop,i=n.top+o,s=n.left+r;return{top:i,left:s,bottom:i+n.height,right:s+n.width}}};const yR={blockTunes:{toggler:{"Click to tune":"","or drag to move":""}},inlineToolbar:{converter:{"Convert to":""}},toolbar:{toolbox:{Add:""}},popover:{Filter:"","Nothing found":""}},bR={Text:"",Link:"",Bold:"",Italic:""},xR={link:{"Add a link":""},stub:{"The block can not be displayed correctly.":""}},wR={delete:{Delete:"","Click to delete":""},moveUp:{"Move up":""},moveDown:{"Move down":""}},Mx={ui:yR,toolNames:bR,tools:xR,blockTunes:wR},Jr=class{static ui(t,e){return Jr._t(t,e)}static t(t,e){return Jr._t(t,e)}static setDictionary(t){Jr.currentDictionary=t}static _t(t,e){const n=Jr.getNamespace(t);return!n||!n[e]?e:n[e]}static getNamespace(t){return t.split(".").reduce((e,n)=>!e||!Object.keys(e).length?{}:e[n],Jr.currentDictionary)}};let Xe=Jr;Xe.currentDictionary=Mx;class Dx extends Error{}class hc{constructor(){this.subscribers={}}on(e,n){e in this.subscribers||(this.subscribers[e]=[]),this.subscribers[e].push(n)}once(e,n){e in this.subscribers||(this.subscribers[e]=[]);const r=o=>{const i=n(o),s=this.subscribers[e].indexOf(r);return s!==-1&&this.subscribers[e].splice(s,1),i};this.subscribers[e].push(r)}emit(e,n){xt(this.subscribers)||!this.subscribers[e]||this.subscribers[e].reduce((r,o)=>{const i=o(r);return i!==void 0?i:r},n)}off(e,n){if(this.subscribers[e]===void 0){console.warn(`EventDispatcher .off(): there is no subscribers for event "${e.toString()}". Probably, .off() called before .on()`);return}for(let r=0;r<this.subscribers[e].length;r++)if(this.subscribers[e][r]===n){delete this.subscribers[e][r];break}}destroy(){this.subscribers={}}}function Sr(t){Object.setPrototypeOf(this,{get id(){return t.id},get name(){return t.name},get config(){return t.config},get holder(){return t.holder},get isEmpty(){return t.isEmpty},get selected(){return t.selected},set stretched(e){t.stretched=e},get stretched(){return t.stretched},get focusable(){return t.focusable},call(e,n){return t.call(e,n)},save(){return t.save()},validate(e){return t.validate(e)},dispatchChange(){t.dispatchChange()}})}class Wf{constructor(){this.allListeners=[]}on(e,n,r,o=!1){const i=gR("l"),s={id:i,element:e,eventType:n,handler:r,options:o};if(!this.findOne(e,n,r))return this.allListeners.push(s),e.addEventListener(n,r,o),i}off(e,n,r,o){const i=this.findAll(e,n,r);i.forEach((s,a)=>{const l=this.allListeners.indexOf(i[a]);l>-1&&(this.allListeners.splice(l,1),s.element.removeEventListener(s.eventType,s.handler,s.options))})}offById(e){const n=this.findById(e);n&&n.element.removeEventListener(n.eventType,n.handler,n.options)}findOne(e,n,r){const o=this.findAll(e,n,r);return o.length>0?o[0]:null}findAll(e,n,r){let o;const i=e?this.findByEventTarget(e):[];return e&&n&&r?o=i.filter(s=>s.eventType===n&&s.handler===r):e&&n?o=i.filter(s=>s.eventType===n):o=i,o}removeAll(){this.allListeners.map(e=>{e.element.removeEventListener(e.eventType,e.handler,e.options)}),this.allListeners=[]}destroy(){this.removeAll()}findByEventTarget(e){return this.allListeners.filter(n=>{if(n.element===e)return n})}findByType(e){return this.allListeners.filter(n=>{if(n.eventType===e)return n})}findByHandler(e){return this.allListeners.filter(n=>{if(n.handler===e)return n})}findById(e){return this.allListeners.find(n=>n.id===e)}}class Y{constructor({config:e,eventsDispatcher:n}){if(this.nodes={},this.listeners=new Wf,this.readOnlyMutableListeners={on:(r,o,i,s=!1)=>{this.mutableListenerIds.push(this.listeners.on(r,o,i,s))},clearAll:()=>{for(const r of this.mutableListenerIds)this.listeners.offById(r);this.mutableListenerIds=[]}},this.mutableListenerIds=[],new.target===Y)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=e,this.eventsDispatcher=n}set state(e){this.Editor=e}removeAllNodes(){for(const e in this.nodes){const n=this.nodes[e];n instanceof HTMLElement&&n.remove()}}get isRtl(){return this.config.i18n.direction==="rtl"}}class D{constructor(){this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}static get CSS(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}static get anchorNode(){const e=window.getSelection();return e?e.anchorNode:null}static get anchorElement(){const e=window.getSelection();if(!e)return null;const n=e.anchorNode;return n?I.isElement(n)?n:n.parentElement:null}static get anchorOffset(){const e=window.getSelection();return e?e.anchorOffset:null}static get isCollapsed(){const e=window.getSelection();return e?e.isCollapsed:null}static get isAtEditor(){return this.isSelectionAtEditor(D.get())}static isSelectionAtEditor(e){if(!e)return!1;let n=e.anchorNode||e.focusNode;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let r=null;return n&&n instanceof Element&&(r=n.closest(`.${D.CSS.editorZone}`)),r?r.nodeType===Node.ELEMENT_NODE:!1}static isRangeAtEditor(e){if(!e)return;let n=e.startContainer;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let r=null;return n&&n instanceof Element&&(r=n.closest(`.${D.CSS.editorZone}`)),r?r.nodeType===Node.ELEMENT_NODE:!1}static get isSelectionExists(){return!!D.get().anchorNode}static get range(){return this.getRangeFromSelection(this.get())}static getRangeFromSelection(e){return e&&e.rangeCount?e.getRangeAt(0):null}static get rect(){let e=document.selection,n,r={x:0,y:0,width:0,height:0};if(e&&e.type!=="Control")return e=e,n=e.createRange(),r.x=n.boundingLeft,r.y=n.boundingTop,r.width=n.boundingWidth,r.height=n.boundingHeight,r;if(!window.getSelection)return Q("Method window.getSelection is not supported","warn"),r;if(e=window.getSelection(),e.rangeCount===null||isNaN(e.rangeCount))return Q("Method SelectionUtils.rangeCount is not supported","warn"),r;if(e.rangeCount===0)return r;if(n=e.getRangeAt(0).cloneRange(),n.getBoundingClientRect&&(r=n.getBoundingClientRect()),r.x===0&&r.y===0){const o=document.createElement("span");if(o.getBoundingClientRect){o.appendChild(document.createTextNode("")),n.insertNode(o),r=o.getBoundingClientRect();const i=o.parentNode;i.removeChild(o),i.normalize()}}return r}static get text(){return window.getSelection?window.getSelection().toString():""}static get(){return window.getSelection()}static setCursor(e,n=0){const r=document.createRange(),o=window.getSelection();return I.isNativeInput(e)?I.canSetCaret(e)?(e.focus(),e.selectionStart=e.selectionEnd=n,e.getBoundingClientRect()):void 0:(r.setStart(e,n),r.setEnd(e,n),o.removeAllRanges(),o.addRange(r),r.getBoundingClientRect())}static isRangeInsideContainer(e){const n=D.range;return n===null?!1:e.contains(n.startContainer)}static addFakeCursor(){const e=D.range;if(e===null)return;const n=I.make("span","codex-editor__fake-cursor");n.dataset.mutationFree="true",e.collapse(),e.insertNode(n)}static isFakeCursorInsideContainer(e){return I.find(e,".codex-editor__fake-cursor")!==null}static removeFakeCursor(e=document.body){const n=I.find(e,".codex-editor__fake-cursor");n&&n.remove()}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=D.range}restore(){if(!this.savedSelectionRange)return;const e=window.getSelection();e.removeAllRanges(),e.addRange(this.savedSelectionRange)}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){const e=window.getSelection(),n=document.createRange();n.selectNodeContents(e.focusNode),n.collapse(!1),e.removeAllRanges(),e.addRange(n)}findParentTag(e,n,r=10){const o=window.getSelection();let i=null;return!o||!o.anchorNode||!o.focusNode?null:([o.anchorNode,o.focusNode].forEach(s=>{let a=r;for(;a>0&&s.parentNode&&!(s.tagName===e&&(i=s,n&&s.classList&&!s.classList.contains(n)&&(i=null),i));)s=s.parentNode,a--}),i)}expandToTag(e){const n=window.getSelection();n.removeAllRanges();const r=document.createRange();r.selectNodeContents(e),n.addRange(r)}}function kR(t,e){const{type:n,target:r,addedNodes:o,removedNodes:i}=t;if(r===e)return!0;if(["characterData","attributes"].includes(n)){const l=r.nodeType===Node.TEXT_NODE?r.parentNode:r;return e.contains(l)}const s=Array.from(o).some(l=>e.contains(l)),a=Array.from(i).some(l=>e.contains(l));return s||a}const Yd="redactor dom changed",jx="block changed",Fx="fake cursor is about to be toggled",Ux="fake cursor have been set";function mv(t,e){return t.mergeable&&t.name===e.name}function SR(t,e){const n=e==null?void 0:e.export;return ae(n)?n(t):sr(n)?t[n]:(n!==void 0&&Q("Conversion export property must be a string or function. String means key of saved data object to export. Function should export processed string to export."),"")}function CR(t,e){const n=e==null?void 0:e.import;return ae(n)?n(t):sr(n)?{[n]:t}:(n!==void 0&&Q("Conversion import property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data."),{})}var Jt=(t=>(t.APPEND_CALLBACK="appendCallback",t.RENDERED="rendered",t.MOVED="moved",t.UPDATED="updated",t.REMOVED="removed",t.ON_PASTE="onPaste",t))(Jt||{});let ln=class Pn extends hc{constructor({id:e=pR(),data:n,tool:r,api:o,readOnly:i,tunesData:s},a){super(),this.cachedInputs=[],this.toolRenderedElement=null,this.tunesInstances=new Map,this.defaultTunesInstances=new Map,this.unavailableTunesData={},this.inputIndex=0,this.editorEventBus=null,this.handleFocus=()=>{this.dropInputsCache(),this.updateCurrentInput()},this.didMutated=(l=void 0)=>{const c=l===void 0,d=l instanceof InputEvent;!c&&!d&&this.detectToolRootChange(l);let u;c||d?u=!0:u=!(l.length>0&&l.every(h=>{const{addedNodes:g,removedNodes:v,target:p}=h;return[...Array.from(g),...Array.from(v),p].some(x=>(I.isElement(x)||(x=x.parentElement),x&&x.closest('[data-mutation-free="true"]')!==null))})),u&&(this.dropInputsCache(),this.updateCurrentInput(),this.call("updated"),this.emit("didMutated",this))},this.name=r.name,this.id=e,this.settings=r.settings,this.config=r.settings.config||{},this.api=o,this.editorEventBus=a||null,this.blockAPI=new Sr(this),this.tool=r,this.toolInstance=r.create(n,this.blockAPI,i),this.tunes=r.tunes,this.composeTunes(s),this.holder=this.compose(),window.requestIdleCallback(()=>{this.watchBlockMutations(),this.addInputEvents()})}static get CSS(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}get inputs(){if(this.cachedInputs.length!==0)return this.cachedInputs;const e=I.findAllInputs(this.holder);return this.inputIndex>e.length-1&&(this.inputIndex=e.length-1),this.cachedInputs=e,e}get currentInput(){return this.inputs[this.inputIndex]}set currentInput(e){const n=this.inputs.findIndex(r=>r===e||r.contains(e));n!==-1&&(this.inputIndex=n)}get firstInput(){return this.inputs[0]}get lastInput(){const e=this.inputs;return e[e.length-1]}get nextInput(){return this.inputs[this.inputIndex+1]}get previousInput(){return this.inputs[this.inputIndex-1]}get data(){return this.save().then(e=>e&&!xt(e.data)?e.data:{})}get sanitize(){return this.tool.sanitizeConfig}get mergeable(){return ae(this.toolInstance.merge)}get focusable(){return this.inputs.length!==0}get isEmpty(){const e=I.isEmpty(this.pluginsContent,"/"),n=!this.hasMedia;return e&&n}get hasMedia(){const e=["img","iframe","video","audio","source","input","textarea","twitterwidget"];return!!this.holder.querySelector(e.join(","))}set selected(e){var n,r;this.holder.classList.toggle(Pn.CSS.selected,e);const o=e===!0&&D.isRangeInsideContainer(this.holder),i=e===!1&&D.isFakeCursorInsideContainer(this.holder);(o||i)&&((n=this.editorEventBus)==null||n.emit(Fx,{state:e}),o?D.addFakeCursor():D.removeFakeCursor(this.holder),(r=this.editorEventBus)==null||r.emit(Ux,{state:e}))}get selected(){return this.holder.classList.contains(Pn.CSS.selected)}set stretched(e){this.holder.classList.toggle(Pn.CSS.wrapperStretched,e)}get stretched(){return this.holder.classList.contains(Pn.CSS.wrapperStretched)}set dropTarget(e){this.holder.classList.toggle(Pn.CSS.dropTarget,e)}get pluginsContent(){return this.toolRenderedElement}call(e,n){if(ae(this.toolInstance[e])){e==="appendCallback"&&Q("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[e].call(this.toolInstance,n)}catch(r){Q(`Error during '${e}' call: ${r.message}`,"error")}}}async mergeWith(e){await this.toolInstance.merge(e)}async save(){const e=await this.toolInstance.save(this.pluginsContent),n=this.unavailableTunesData;[...this.tunesInstances.entries(),...this.defaultTunesInstances.entries()].forEach(([i,s])=>{if(ae(s.save))try{n[i]=s.save()}catch(a){Q(`Tune ${s.constructor.name} save method throws an Error %o`,"warn",a)}});const r=window.performance.now();let o;return Promise.resolve(e).then(i=>(o=window.performance.now(),{id:this.id,tool:this.name,data:i,tunes:n,time:o-r})).catch(i=>{Q(`Saving process for ${this.name} tool failed due to the ${i}`,"log","red")})}async validate(e){let n=!0;return this.toolInstance.validate instanceof Function&&(n=await this.toolInstance.validate(e)),n}getTunes(){const e=document.createElement("div"),n=[],r=typeof this.toolInstance.renderSettings=="function"?this.toolInstance.renderSettings():[],o=[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].map(i=>i.render());return[r,o].flat().forEach(i=>{I.isElement(i)?e.appendChild(i):Array.isArray(i)?n.push(...i):n.push(i)}),[n,e]}updateCurrentInput(){this.currentInput=I.isNativeInput(document.activeElement)||!D.anchorNode?document.activeElement:D.anchorNode}dispatchChange(){this.didMutated()}destroy(){this.unwatchBlockMutations(),this.removeInputEvents(),super.destroy(),ae(this.toolInstance.destroy)&&this.toolInstance.destroy()}async getActiveToolboxEntry(){const e=this.tool.toolbox;if(e.length===1)return Promise.resolve(this.tool.toolbox[0]);const n=await this.data;return e.find(r=>Object.entries(r.data).some(([o,i])=>n[o]&&vR(n[o],i)))}async exportDataAsString(){const e=await this.data;return SR(e,this.tool.conversionConfig)}compose(){const e=I.make("div",Pn.CSS.wrapper),n=I.make("div",Pn.CSS.content),r=this.toolInstance.render();e.dataset.id=this.id,this.toolRenderedElement=r,n.appendChild(this.toolRenderedElement);let o=n;return[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].forEach(i=>{if(ae(i.wrap))try{o=i.wrap(o)}catch(s){Q(`Tune ${i.constructor.name} wrap method throws an Error %o`,"warn",s)}}),e.appendChild(o),e}composeTunes(e){Array.from(this.tunes.values()).forEach(n=>{(n.isInternal?this.defaultTunesInstances:this.tunesInstances).set(n.name,n.create(e[n.name],this.blockAPI))}),Object.entries(e).forEach(([n,r])=>{this.tunesInstances.has(n)||(this.unavailableTunesData[n]=r)})}addInputEvents(){this.inputs.forEach(e=>{e.addEventListener("focus",this.handleFocus),I.isNativeInput(e)&&e.addEventListener("input",this.didMutated)})}removeInputEvents(){this.inputs.forEach(e=>{e.removeEventListener("focus",this.handleFocus),I.isNativeInput(e)&&e.removeEventListener("input",this.didMutated)})}watchBlockMutations(){var e;this.redactorDomChangedCallback=n=>{const{mutations:r}=n;r.some(o=>kR(o,this.toolRenderedElement))&&this.didMutated(r)},(e=this.editorEventBus)==null||e.on(Yd,this.redactorDomChangedCallback)}unwatchBlockMutations(){var e;(e=this.editorEventBus)==null||e.off(Yd,this.redactorDomChangedCallback)}detectToolRootChange(e){e.forEach(n=>{if(Array.from(n.removedNodes).includes(this.toolRenderedElement)){const r=n.addedNodes[n.addedNodes.length-1];this.toolRenderedElement=r}})}dropInputsCache(){this.cachedInputs=[]}};class ER extends Y{constructor(){super(...arguments),this.insert=(e=this.config.defaultBlock,n={},r={},o,i,s,a)=>{const l=this.Editor.BlockManager.insert({id:a,tool:e,data:n,index:o,needToFocus:i,replace:s});return new Sr(l)},this.composeBlockData=async e=>{const n=this.Editor.Tools.blockTools.get(e);return new ln({tool:n,api:this.Editor.API,readOnly:!0,data:{},tunesData:{}}).data},this.update=async(e,n)=>{const{BlockManager:r}=this.Editor,o=r.getBlockById(e);if(o===void 0)throw new Error(`Block with id "${e}" not found`);const i=await r.update(o,n);return new Sr(i)},this.convert=(e,n,r)=>{var o,i;const{BlockManager:s,Tools:a}=this.Editor,l=s.getBlockById(e);if(!l)throw new Error(`Block with id "${e}" not found`);const c=a.blockTools.get(l.name),d=a.blockTools.get(n);if(!d)throw new Error(`Block Tool with type "${n}" not found`);const u=((o=c==null?void 0:c.conversionConfig)==null?void 0:o.export)!==void 0,h=((i=d.conversionConfig)==null?void 0:i.import)!==void 0;if(u&&h)s.convert(l,n,r);else{const g=[u?!1:zo(l.name),h?!1:zo(n)].filter(Boolean).join(" and ");throw new Error(`Conversion from "${l.name}" to "${n}" is not possible. ${g} tool(s) should provide a "conversionConfig"`)}},this.insertMany=(e,n=this.Editor.BlockManager.blocks.length-1)=>{this.validateIndex(n);const r=e.map(({id:o,type:i,data:s})=>this.Editor.BlockManager.composeBlock({id:o,tool:i||this.config.defaultBlock,data:s}));return this.Editor.BlockManager.insertMany(r,n),r.map(o=>new Sr(o))}}get methods(){return{clear:()=>this.clear(),render:e=>this.render(e),renderFromHTML:e=>this.renderFromHTML(e),delete:e=>this.delete(e),swap:(e,n)=>this.swap(e,n),move:(e,n)=>this.move(e,n),getBlockByIndex:e=>this.getBlockByIndex(e),getById:e=>this.getById(e),getCurrentBlockIndex:()=>this.getCurrentBlockIndex(),getBlockIndex:e=>this.getBlockIndex(e),getBlocksCount:()=>this.getBlocksCount(),stretchBlock:(e,n=!0)=>this.stretchBlock(e,n),insertNewBlock:()=>this.insertNewBlock(),insert:this.insert,insertMany:this.insertMany,update:this.update,composeBlockData:this.composeBlockData,convert:this.convert}}getBlocksCount(){return this.Editor.BlockManager.blocks.length}getCurrentBlockIndex(){return this.Editor.BlockManager.currentBlockIndex}getBlockIndex(e){const n=this.Editor.BlockManager.getBlockById(e);if(!n){_t("There is no block with id `"+e+"`","warn");return}return this.Editor.BlockManager.getBlockIndex(n)}getBlockByIndex(e){const n=this.Editor.BlockManager.getBlockByIndex(e);if(n===void 0){_t("There is no block at index `"+e+"`","warn");return}return new Sr(n)}getById(e){const n=this.Editor.BlockManager.getBlockById(e);return n===void 0?(_t("There is no block with id `"+e+"`","warn"),null):new Sr(n)}swap(e,n){Q("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(e,n)}move(e,n){this.Editor.BlockManager.move(e,n)}delete(e=this.Editor.BlockManager.currentBlockIndex){try{const n=this.Editor.BlockManager.getBlockByIndex(e);this.Editor.BlockManager.removeBlock(n)}catch(n){_t(n,"warn");return}this.Editor.BlockManager.blocks.length===0&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}async clear(){await this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}async render(e){if(e===void 0||e.blocks===void 0)throw new Error("Incorrect data passed to the render() method");this.Editor.ModificationsObserver.disable(),await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(e.blocks),this.Editor.ModificationsObserver.enable()}renderFromHTML(e){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(e,!0)}stretchBlock(e,n=!0){qd(!0,"blocks.stretchBlock()","BlockAPI");const r=this.Editor.BlockManager.getBlockByIndex(e);r&&(r.stretched=n)}insertNewBlock(){Q("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}validateIndex(e){if(typeof e!="number")throw new Error("Index should be a number");if(e<0)throw new Error("Index should be greater than or equal to 0");if(e===null)throw new Error("Index should be greater than or equal to 0")}}class TR extends Y{constructor(){super(...arguments),this.setToFirstBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.firstBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock,e,n),!0):!1,this.setToLastBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.lastBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock,e,n),!0):!1,this.setToPreviousBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.previousBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock,e,n),!0):!1,this.setToNextBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.nextBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock,e,n),!0):!1,this.setToBlock=(e,n=this.Editor.Caret.positions.DEFAULT,r=0)=>this.Editor.BlockManager.blocks[e]?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.blocks[e],n,r),!0):!1,this.focus=(e=!1)=>e?this.setToLastBlock(this.Editor.Caret.positions.END):this.setToFirstBlock(this.Editor.Caret.positions.START)}get methods(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}}class _R extends Y{get methods(){return{emit:(e,n)=>this.emit(e,n),off:(e,n)=>this.off(e,n),on:(e,n)=>this.on(e,n)}}on(e,n){this.eventsDispatcher.on(e,n)}emit(e,n){this.eventsDispatcher.emit(e,n)}off(e,n){this.eventsDispatcher.off(e,n)}}class Kf extends Y{static getNamespace(e){return e.isTune()?`blockTunes.${e.name}`:`tools.${e.name}`}get methods(){return{t:()=>{_t("I18n.t() method can be accessed only from Tools","warn")}}}getMethodsForTool(e){return Object.assign(this.methods,{t:n=>Xe.t(Kf.getNamespace(e),n)})}}class IR extends Y{get methods(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods,ui:this.Editor.UiAPI.methods}}getMethodsForTool(e){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(e)})}}class PR extends Y{get methods(){return{close:()=>this.close(),open:()=>this.open()}}open(){this.Editor.InlineToolbar.tryToShow()}close(){this.Editor.InlineToolbar.close()}}class AR extends Y{get methods(){return{on:(e,n,r,o)=>this.on(e,n,r,o),off:(e,n,r,o)=>this.off(e,n,r,o),offById:e=>this.offById(e)}}on(e,n,r,o){return this.listeners.on(e,n,r,o)}off(e,n,r,o){this.listeners.off(e,n,r,o)}offById(e){this.listeners.offById(e)}}var Xd={},NR={get exports(){return Xd},set exports(t){Xd=t}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=0)}([function(n,r,o){o(1),n.exports=function(){var i=o(6),s="cdx-notify--bounce-in",a=null;return{show:function(l){if(l.message){(function(){if(a)return!0;a=i.getWrapper(),document.body.appendChild(a)})();var c=null,d=l.time||8e3;switch(l.type){case"confirm":c=i.confirm(l);break;case"prompt":c=i.prompt(l);break;default:c=i.alert(l),window.setTimeout(function(){c.remove()},d)}a.appendChild(c),c.classList.add(s)}}}}()},function(n,r,o){var i=o(2);typeof i=="string"&&(i=[[n.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o(4)(i,s),i.locals&&(n.exports=i.locals)},function(n,r,o){(n.exports=o(3)(!1)).push([n.i,`.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`,""])},function(n,r){n.exports=function(o){var i=[];return i.toString=function(){return this.map(function(s){var a=function(l,c){var d=l[1]||"",u=l[3];if(!u)return d;if(c&&typeof btoa=="function"){var h=(v=u,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(v))))+" */"),g=u.sources.map(function(p){return"/*# sourceURL="+u.sourceRoot+p+" */"});return[d].concat(g).concat([h]).join(`
`)}var v;return[d].join(`
`)}(s,o);return s[2]?"@media "+s[2]+"{"+a+"}":a}).join("")},i.i=function(s,a){typeof s=="string"&&(s=[[null,s,""]]);for(var l={},c=0;c<this.length;c++){var d=this[c][0];typeof d=="number"&&(l[d]=!0)}for(c=0;c<s.length;c++){var u=s[c];typeof u[0]=="number"&&l[u[0]]||(a&&!u[2]?u[2]=a:a&&(u[2]="("+u[2]+") and ("+a+")"),i.push(u))}},i}},function(n,r,o){var i,s,a={},l=(i=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=i.apply(this,arguments)),s}),c=function(C){var T={};return function(P){if(typeof P=="function")return P();if(T[P]===void 0){var O=(function(U){return document.querySelector(U)}).call(this,P);if(window.HTMLIFrameElement&&O instanceof window.HTMLIFrameElement)try{O=O.contentDocument.head}catch{O=null}T[P]=O}return T[P]}}(),d=null,u=0,h=[],g=o(5);function v(C,T){for(var P=0;P<C.length;P++){var O=C[P],U=a[O.id];if(U){U.refs++;for(var B=0;B<U.parts.length;B++)U.parts[B](O.parts[B]);for(;B<O.parts.length;B++)U.parts.push(k(O.parts[B],T))}else{var j=[];for(B=0;B<O.parts.length;B++)j.push(k(O.parts[B],T));a[O.id]={id:O.id,refs:1,parts:j}}}}function p(C,T){for(var P=[],O={},U=0;U<C.length;U++){var B=C[U],j=T.base?B[0]+T.base:B[0],M={css:B[1],media:B[2],sourceMap:B[3]};O[j]?O[j].parts.push(M):P.push(O[j]={id:j,parts:[M]})}return P}function x(C,T){var P=c(C.insertInto);if(!P)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var O=h[h.length-1];if(C.insertAt==="top")O?O.nextSibling?P.insertBefore(T,O.nextSibling):P.appendChild(T):P.insertBefore(T,P.firstChild),h.push(T);else if(C.insertAt==="bottom")P.appendChild(T);else{if(typeof C.insertAt!="object"||!C.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var U=c(C.insertInto+" "+C.insertAt.before);P.insertBefore(T,U)}}function y(C){if(C.parentNode===null)return!1;C.parentNode.removeChild(C);var T=h.indexOf(C);T>=0&&h.splice(T,1)}function m(C){var T=document.createElement("style");return C.attrs.type===void 0&&(C.attrs.type="text/css"),b(T,C.attrs),x(C,T),T}function b(C,T){Object.keys(T).forEach(function(P){C.setAttribute(P,T[P])})}function k(C,T){var P,O,U,B;if(T.transform&&C.css){if(!(B=T.transform(C.css)))return function(){};C.css=B}if(T.singleton){var j=u++;P=d||(d=m(T)),O=_.bind(null,P,j,!1),U=_.bind(null,P,j,!0)}else C.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(P=function(M){var W=document.createElement("link");return M.attrs.type===void 0&&(M.attrs.type="text/css"),M.attrs.rel="stylesheet",b(W,M.attrs),x(M,W),W}(T),O=(function(M,W,ye){var L=ye.css,F=ye.sourceMap,z=W.convertToAbsoluteUrls===void 0&&F;(W.convertToAbsoluteUrls||z)&&(L=g(L)),F&&(L+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(F))))+" */");var V=new Blob([L],{type:"text/css"}),ne=M.href;M.href=URL.createObjectURL(V),ne&&URL.revokeObjectURL(ne)}).bind(null,P,T),U=function(){y(P),P.href&&URL.revokeObjectURL(P.href)}):(P=m(T),O=(function(M,W){var ye=W.css,L=W.media;if(L&&M.setAttribute("media",L),M.styleSheet)M.styleSheet.cssText=ye;else{for(;M.firstChild;)M.removeChild(M.firstChild);M.appendChild(document.createTextNode(ye))}}).bind(null,P),U=function(){y(P)});return O(C),function(M){if(M){if(M.css===C.css&&M.media===C.media&&M.sourceMap===C.sourceMap)return;O(C=M)}else U()}}n.exports=function(C,T){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(T=T||{}).attrs=typeof T.attrs=="object"?T.attrs:{},T.singleton||typeof T.singleton=="boolean"||(T.singleton=l()),T.insertInto||(T.insertInto="head"),T.insertAt||(T.insertAt="bottom");var P=p(C,T);return v(P,T),function(O){for(var U=[],B=0;B<P.length;B++){var j=P[B];(M=a[j.id]).refs--,U.push(M)}for(O&&v(p(O,T),T),B=0;B<U.length;B++){var M;if((M=U[B]).refs===0){for(var W=0;W<M.parts.length;W++)M.parts[W]();delete a[M.id]}}}};var S,E=(S=[],function(C,T){return S[C]=T,S.filter(Boolean).join(`
`)});function _(C,T,P,O){var U=P?"":O.css;if(C.styleSheet)C.styleSheet.cssText=E(T,U);else{var B=document.createTextNode(U),j=C.childNodes;j[T]&&C.removeChild(j[T]),j.length?C.insertBefore(B,j[T]):C.appendChild(B)}}},function(n,r){n.exports=function(o){var i=typeof window<"u"&&window.location;if(!i)throw new Error("fixUrls requires window.location");if(!o||typeof o!="string")return o;var s=i.protocol+"//"+i.host,a=s+i.pathname.replace(/\/[^\/]*$/,"/");return o.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var d,u=c.trim().replace(/^"(.*)"$/,function(h,g){return g}).replace(/^'(.*)'$/,function(h,g){return g});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(u)?l:(d=u.indexOf("//")===0?u:u.indexOf("/")===0?s+u:a+u.replace(/^\.\//,""),"url("+JSON.stringify(d)+")")})}},function(n,r,o){var i,s,a,l,c,d,u,h,g;n.exports=(i="cdx-notifies",s="cdx-notify",a="cdx-notify__cross",l="cdx-notify__button--confirm",c="cdx-notify__button--cancel",d="cdx-notify__input",u="cdx-notify__button",h="cdx-notify__btns-wrapper",{alert:g=function(v){var p=document.createElement("DIV"),x=document.createElement("DIV"),y=v.message,m=v.style;return p.classList.add(s),m&&p.classList.add(s+"--"+m),p.innerHTML=y,x.classList.add(a),x.addEventListener("click",p.remove.bind(p)),p.appendChild(x),p},confirm:function(v){var p=g(v),x=document.createElement("div"),y=document.createElement("button"),m=document.createElement("button"),b=p.querySelector("."+a),k=v.cancelHandler,S=v.okHandler;return x.classList.add(h),y.innerHTML=v.okText||"Confirm",m.innerHTML=v.cancelText||"Cancel",y.classList.add(u),m.classList.add(u),y.classList.add(l),m.classList.add(c),k&&typeof k=="function"&&(m.addEventListener("click",k),b.addEventListener("click",k)),S&&typeof S=="function"&&y.addEventListener("click",S),y.addEventListener("click",p.remove.bind(p)),m.addEventListener("click",p.remove.bind(p)),x.appendChild(y),x.appendChild(m),p.appendChild(x),p},prompt:function(v){var p=g(v),x=document.createElement("div"),y=document.createElement("button"),m=document.createElement("input"),b=p.querySelector("."+a),k=v.cancelHandler,S=v.okHandler;return x.classList.add(h),y.innerHTML=v.okText||"Ok",y.classList.add(u),y.classList.add(l),m.classList.add(d),v.placeholder&&m.setAttribute("placeholder",v.placeholder),v.default&&(m.value=v.default),v.inputType&&(m.type=v.inputType),k&&typeof k=="function"&&b.addEventListener("click",k),S&&typeof S=="function"&&y.addEventListener("click",function(){S(m.value)}),y.addEventListener("click",p.remove.bind(p)),x.appendChild(m),x.appendChild(y),p.appendChild(x),p},getWrapper:function(){var v=document.createElement("DIV");return v.classList.add(i),v}})}])})})(NR);const BR=Hf(Xd);class LR{show(e){BR.show(e)}}class RR extends Y{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.notifier=new LR}get methods(){return{show:e=>this.show(e)}}show(e){return this.notifier.show(e)}}class OR extends Y{get methods(){const e=()=>this.isEnabled;return{toggle:n=>this.toggle(n),get isEnabled(){return e()}}}toggle(e){return this.Editor.ReadOnly.toggle(e)}get isEnabled(){return this.Editor.ReadOnly.isEnabled}}var Jd={},MR={get exports(){return Jd},set exports(t){Jd=t}};(function(t,e){(function(n,r){t.exports=r()})(oR,function(){function n(u){var h=u.tags,g=Object.keys(h),v=g.map(function(p){return typeof h[p]}).every(function(p){return p==="object"||p==="boolean"||p==="function"});if(!v)throw new Error("The configuration was invalid");this.config=u}var r=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function o(u){return r.indexOf(u.nodeName)!==-1}var i=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function s(u){return i.indexOf(u.nodeName)!==-1}n.prototype.clean=function(u){const h=document.implementation.createHTMLDocument(),g=h.createElement("div");return g.innerHTML=u,this._sanitize(h,g),g.innerHTML},n.prototype._sanitize=function(u,h){var g=a(u,h),v=g.firstChild();if(v)do{if(v.nodeType===Node.TEXT_NODE)if(v.data.trim()===""&&(v.previousElementSibling&&o(v.previousElementSibling)||v.nextElementSibling&&o(v.nextElementSibling))){h.removeChild(v),this._sanitize(u,h);break}else continue;if(v.nodeType===Node.COMMENT_NODE){h.removeChild(v),this._sanitize(u,h);break}var p=s(v),x;p&&(x=Array.prototype.some.call(v.childNodes,o));var y=!!h.parentNode,m=o(h)&&o(v)&&y,b=v.nodeName.toLowerCase(),k=l(this.config,b,v),S=p&&x;if(S||c(v,k)||!this.config.keepNestedBlockElements&&m){if(!(v.nodeName==="SCRIPT"||v.nodeName==="STYLE"))for(;v.childNodes.length>0;)h.insertBefore(v.childNodes[0],v);h.removeChild(v),this._sanitize(u,h);break}for(var E=0;E<v.attributes.length;E+=1){var _=v.attributes[E];d(_,k,v)&&(v.removeAttribute(_.name),E=E-1)}this._sanitize(u,v)}while(v=g.nextSibling())};function a(u,h){return u.createTreeWalker(h,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}function l(u,h,g){return typeof u.tags[h]=="function"?u.tags[h](g):u.tags[h]}function c(u,h){return typeof h>"u"?!0:typeof h=="boolean"?!h:!1}function d(u,h,g){var v=u.name.toLowerCase();return h===!0?!1:typeof h[v]=="function"?!h[v](u.value,g):typeof h[v]>"u"||h[v]===!1?!0:typeof h[v]=="string"?h[v]!==u.value:!1}return n})})(MR);const DR=Jd;function $x(t,e){return t.map(n=>{const r=ae(e)?e(n.tool):e;return xt(r)||(n.data=Gf(n.data,r)),n})}function cn(t,e={}){const n={tags:e};return new DR(n).clean(t)}function Gf(t,e){return Array.isArray(t)?jR(t,e):Le(t)?FR(t,e):sr(t)?UR(t,e):t}function jR(t,e){return t.map(n=>Gf(n,e))}function FR(t,e){const n={};for(const r in t){if(!Object.prototype.hasOwnProperty.call(t,r))continue;const o=t[r],i=$R(e[r])?e[r]:e;n[r]=Gf(o,i)}return n}function UR(t,e){return Le(e)?cn(t,e):e===!1?cn(t,{}):t}function $R(t){return Le(t)||lR(t)||ae(t)}class VR extends Y{get methods(){return{clean:(e,n)=>this.clean(e,n)}}clean(e,n){return cn(e,n)}}class zR extends Y{get methods(){return{save:()=>this.save()}}save(){const e="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(_t(e,"warn"),Promise.reject(new Error(e))):this.Editor.Saver.save()}}class HR extends Y{get methods(){return{findParentTag:(e,n)=>this.findParentTag(e,n),expandToTag:e=>this.expandToTag(e)}}findParentTag(e,n){return new D().findParentTag(e,n)}expandToTag(e){new D().expandToTag(e)}}class WR extends Y{get classes(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}class KR extends Y{get methods(){return{close:()=>this.close(),open:()=>this.open(),toggleBlockSettings:e=>this.toggleBlockSettings(e),toggleToolbox:e=>this.toggleToolbox(e)}}open(){this.Editor.Toolbar.moveAndOpen()}close(){this.Editor.Toolbar.close()}toggleBlockSettings(e){if(this.Editor.BlockManager.currentBlockIndex===-1){_t("Could't toggle the Toolbar because there is no block selected ","warn");return}e??!this.Editor.BlockSettings.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close()}toggleToolbox(e){if(this.Editor.BlockManager.currentBlockIndex===-1){_t("Could't toggle the Toolbox because there is no block selected ","warn");return}e??!this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()):this.Editor.Toolbar.toolbox.close()}}var Qd={},GR={get exports(){return Qd},set exports(t){Qd=t}};/*!
 * CodeX.Tooltips
 * 
 * @version 1.0.5
 * 
 * @licence MIT
 * @author CodeX <https://codex.so>
 * 
 * 
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="",o(o.s=0)}([function(n,r,o){n.exports=o(1)},function(n,r,o){o.r(r),o.d(r,"default",function(){return i});class i{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(a,l,c){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const d=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},c);if(d.hidingDelay&&(this.hidingDelay=d.hidingDelay),this.nodes.content.innerHTML="",typeof l=="string")this.nodes.content.appendChild(document.createTextNode(l));else{if(!(l instanceof Node))throw Error("[CodeX Tooltip] Wrong type of content passed. It should be an instance of Node or String. But "+typeof l+" given.");this.nodes.content.appendChild(l)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),d.placement){case"top":this.placeTop(a,d);break;case"left":this.placeLeft(a,d);break;case"right":this.placeRight(a,d);break;case"bottom":default:this.placeBottom(a,d)}d&&d.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},d.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(a=!1){if(this.hidingDelay&&!a)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(a,l,c){a.addEventListener("mouseenter",()=>{this.show(a,l,c)}),a.addEventListener("mouseleave",()=>{this.hide()})}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const a="codex-tooltips-style";if(document.getElementById(a))return;const l=o(2),c=this.make("style",null,{textContent:l.toString(),id:a});this.prepend(document.head,c)}placeBottom(a,l){const c=a.getBoundingClientRect(),d=c.left+a.clientWidth/2-this.nodes.wrapper.offsetWidth/2,u=c.bottom+window.pageYOffset+this.offsetTop+l.marginTop;this.applyPlacement("bottom",d,u)}placeTop(a,l){const c=a.getBoundingClientRect(),d=c.left+a.clientWidth/2-this.nodes.wrapper.offsetWidth/2,u=c.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",d,u)}placeLeft(a,l){const c=a.getBoundingClientRect(),d=c.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-l.marginLeft,u=c.top+window.pageYOffset+a.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",d,u)}placeRight(a,l){const c=a.getBoundingClientRect(),d=c.right+this.offsetRight+l.marginRight,u=c.top+window.pageYOffset+a.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",d,u)}applyPlacement(a,l,c){this.nodes.wrapper.classList.add(this.CSS.placement[a]),this.nodes.wrapper.style.left=l+"px",this.nodes.wrapper.style.top=c+"px"}make(a,l=null,c={}){const d=document.createElement(a);Array.isArray(l)?d.classList.add(...l):l&&d.classList.add(l);for(const u in c)c.hasOwnProperty(u)&&(d[u]=c[u]);return d}append(a,l){Array.isArray(l)?l.forEach(c=>a.appendChild(c)):a.appendChild(l)}prepend(a,l){Array.isArray(l)?(l=l.reverse()).forEach(c=>a.prepend(c)):a.prepend(l)}}},function(n,r){n.exports=`.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`}]).default})})(GR);const qR=Hf(Qd);let Bt=null;function qf(){Bt||(Bt=new qR)}function YR(t,e,n){qf(),Bt==null||Bt.show(t,e,n)}function Zd(t=!1){qf(),Bt==null||Bt.hide(t)}function ms(t,e,n){qf(),Bt==null||Bt.onHover(t,e,n)}function XR(){Bt==null||Bt.destroy(),Bt=null}class JR extends Y{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n})}get methods(){return{show:(e,n,r)=>this.show(e,n,r),hide:()=>this.hide(),onHover:(e,n,r)=>this.onHover(e,n,r)}}show(e,n,r){YR(e,n,r)}hide(){Zd()}onHover(e,n,r){ms(e,n,r)}}class QR extends Y{get methods(){return{nodes:this.editorNodes}}get editorNodes(){return{wrapper:this.Editor.UI.nodes.wrapper,redactor:this.Editor.UI.nodes.redactor}}}function Vx(t,e){const n={};return Object.entries(t).forEach(([r,o])=>{if(Le(o)){const i=e?`${e}.${r}`:r;Object.values(o).every(s=>sr(s))?n[r]=i:n[r]=Vx(o,i);return}n[r]=o}),n}const It=Vx(Mx);function ZR(t,e){const n={};return Object.keys(t).forEach(r=>{const o=e[r];o!==void 0?n[o]=t[r]:n[r]=t[r]}),n}const eO='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>',zx='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',tO='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>',nO='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',rO='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>',oO='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>',gv='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>',iO='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>',sO='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',aO='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',lO='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',cO='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><line x1="12" x2="12" y1="9" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 15.02V15.01"/></svg>';let vv=class Ce{constructor(e){this.nodes={root:null,icon:null},this.confirmationState=null,this.removeSpecialFocusBehavior=()=>{this.nodes.root.classList.remove(Ce.CSS.noFocus)},this.removeSpecialHoverBehavior=()=>{this.nodes.root.classList.remove(Ce.CSS.noHover)},this.onErrorAnimationEnd=()=>{this.nodes.icon.classList.remove(Ce.CSS.wobbleAnimation),this.nodes.icon.removeEventListener("animationend",this.onErrorAnimationEnd)},this.params=e,this.nodes.root=this.make(e)}get isDisabled(){return this.params.isDisabled}get toggle(){return this.params.toggle}get title(){return this.params.title}get closeOnActivate(){return this.params.closeOnActivate}get isConfirmationStateEnabled(){return this.confirmationState!==null}get isFocused(){return this.nodes.root.classList.contains(Ce.CSS.focused)}static get CSS(){return{container:"ce-popover-item",title:"ce-popover-item__title",secondaryTitle:"ce-popover-item__secondary-title",icon:"ce-popover-item__icon",active:"ce-popover-item--active",disabled:"ce-popover-item--disabled",focused:"ce-popover-item--focused",hidden:"ce-popover-item--hidden",confirmationState:"ce-popover-item--confirmation",noHover:"ce-popover-item--no-hover",noFocus:"ce-popover-item--no-focus",wobbleAnimation:"wobble"}}getElement(){return this.nodes.root}handleClick(){if(this.isConfirmationStateEnabled){this.activateOrEnableConfirmationMode(this.confirmationState);return}this.activateOrEnableConfirmationMode(this.params)}toggleActive(e){this.nodes.root.classList.toggle(Ce.CSS.active,e)}toggleHidden(e){this.nodes.root.classList.toggle(Ce.CSS.hidden,e)}reset(){this.isConfirmationStateEnabled&&this.disableConfirmationMode()}onFocus(){this.disableSpecialHoverAndFocusBehavior()}make(e){const n=I.make("div",Ce.CSS.container);return e.name&&(n.dataset.itemName=e.name),this.nodes.icon=I.make("div",Ce.CSS.icon,{innerHTML:e.icon||rO}),n.appendChild(this.nodes.icon),n.appendChild(I.make("div",Ce.CSS.title,{innerHTML:e.title||""})),e.secondaryLabel&&n.appendChild(I.make("div",Ce.CSS.secondaryTitle,{textContent:e.secondaryLabel})),e.isActive&&n.classList.add(Ce.CSS.active),e.isDisabled&&n.classList.add(Ce.CSS.disabled),n}enableConfirmationMode(e){const n={...this.params,...e,confirmation:e.confirmation},r=this.make(n);this.nodes.root.innerHTML=r.innerHTML,this.nodes.root.classList.add(Ce.CSS.confirmationState),this.confirmationState=e,this.enableSpecialHoverAndFocusBehavior()}disableConfirmationMode(){const e=this.make(this.params);this.nodes.root.innerHTML=e.innerHTML,this.nodes.root.classList.remove(Ce.CSS.confirmationState),this.confirmationState=null,this.disableSpecialHoverAndFocusBehavior()}enableSpecialHoverAndFocusBehavior(){this.nodes.root.classList.add(Ce.CSS.noHover),this.nodes.root.classList.add(Ce.CSS.noFocus),this.nodes.root.addEventListener("mouseleave",this.removeSpecialHoverBehavior,{once:!0})}disableSpecialHoverAndFocusBehavior(){this.removeSpecialFocusBehavior(),this.removeSpecialHoverBehavior(),this.nodes.root.removeEventListener("mouseleave",this.removeSpecialHoverBehavior)}activateOrEnableConfirmationMode(e){if(e.confirmation===void 0)try{e.onActivate(e),this.disableConfirmationMode()}catch{this.animateError()}else this.enableConfirmationMode(e.confirmation)}animateError(){this.nodes.icon.classList.contains(Ce.CSS.wobbleAnimation)||(this.nodes.icon.classList.add(Ce.CSS.wobbleAnimation),this.nodes.icon.addEventListener("animationend",this.onErrorAnimationEnd))}};const Si=class{constructor(t,e){this.cursor=-1,this.items=[],this.items=t||[],this.focusedCssClass=e}get currentItem(){return this.cursor===-1?null:this.items[this.cursor]}setCursor(t){t<this.items.length&&t>=-1&&(this.dropCursor(),this.cursor=t,this.items[this.cursor].classList.add(this.focusedCssClass))}setItems(t){this.items=t}next(){this.cursor=this.leafNodesAndReturnIndex(Si.directions.RIGHT)}previous(){this.cursor=this.leafNodesAndReturnIndex(Si.directions.LEFT)}dropCursor(){this.cursor!==-1&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}leafNodesAndReturnIndex(t){if(this.items.length===0)return this.cursor;let e=this.cursor;return e===-1?e=t===Si.directions.RIGHT?-1:0:this.items[e].classList.remove(this.focusedCssClass),t===Si.directions.RIGHT?e=(e+1)%this.items.length:e=(this.items.length+e-1)%this.items.length,I.canSetCaret(this.items[e])&&El(()=>D.setCursor(this.items[e]),50)(),this.items[e].classList.add(this.focusedCssClass),e}};let Qr=Si;Qr.directions={RIGHT:"right",LEFT:"left"};class wn{constructor(e){this.iterator=null,this.activated=!1,this.flipCallbacks=[],this.onKeyDown=n=>{if(this.isEventReadyForHandling(n))switch(wn.usedKeys.includes(n.keyCode)&&n.preventDefault(),n.keyCode){case K.TAB:this.handleTabPress(n);break;case K.LEFT:case K.UP:this.flipLeft();break;case K.RIGHT:case K.DOWN:this.flipRight();break;case K.ENTER:this.handleEnterPress(n);break}},this.iterator=new Qr(e.items,e.focusedItemClass),this.activateCallback=e.activateCallback,this.allowedKeys=e.allowedKeys||wn.usedKeys}get isActivated(){return this.activated}static get usedKeys(){return[K.TAB,K.LEFT,K.RIGHT,K.ENTER,K.UP,K.DOWN]}activate(e,n){this.activated=!0,e&&this.iterator.setItems(e),n!==void 0&&this.iterator.setCursor(n),document.addEventListener("keydown",this.onKeyDown,!0)}deactivate(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}focusFirst(){this.dropCursor(),this.flipRight()}flipLeft(){this.iterator.previous(),this.flipCallback()}flipRight(){this.iterator.next(),this.flipCallback()}hasFocus(){return!!this.iterator.currentItem}onFlip(e){this.flipCallbacks.push(e)}removeOnFlip(e){this.flipCallbacks=this.flipCallbacks.filter(n=>n!==e)}dropCursor(){this.iterator.dropCursor()}isEventReadyForHandling(e){return this.activated&&this.allowedKeys.includes(e.keyCode)}handleTabPress(e){switch(e.shiftKey?Qr.directions.LEFT:Qr.directions.RIGHT){case Qr.directions.RIGHT:this.flipRight();break;case Qr.directions.LEFT:this.flipLeft();break}}handleEnterPress(e){this.activated&&(this.iterator.currentItem&&(e.stopPropagation(),e.preventDefault(),this.iterator.currentItem.click()),ae(this.activateCallback)&&this.activateCallback(this.iterator.currentItem))}flipCallback(){this.iterator.currentItem&&this.iterator.currentItem.scrollIntoViewIfNeeded(),this.flipCallbacks.forEach(e=>e())}}class $i{static get CSS(){return{wrapper:"cdx-search-field",icon:"cdx-search-field__icon",input:"cdx-search-field__input"}}constructor({items:e,onSearch:n,placeholder:r}){this.listeners=new Wf,this.items=e,this.onSearch=n,this.render(r)}getElement(){return this.wrapper}focus(){this.input.focus()}clear(){this.input.value="",this.searchQuery="",this.onSearch("",this.foundItems)}destroy(){this.listeners.removeAll()}render(e){this.wrapper=I.make("div",$i.CSS.wrapper);const n=I.make("div",$i.CSS.icon,{innerHTML:aO});this.input=I.make("input",$i.CSS.input,{placeholder:e,tabIndex:-1}),this.wrapper.appendChild(n),this.wrapper.appendChild(this.input),this.listeners.on(this.input,"input",()=>{this.searchQuery=this.input.value,this.onSearch(this.searchQuery,this.foundItems)})}get foundItems(){return this.items.filter(e=>this.checkItem(e))}checkItem(e){var n;const r=((n=e.title)==null?void 0:n.toLowerCase())||"",o=this.searchQuery.toLowerCase();return r.includes(o)}}const Ci=class{lock(){pv?this.lockHard():document.body.classList.add(Ci.CSS.scrollLocked)}unlock(){pv?this.unlockHard():document.body.classList.remove(Ci.CSS.scrollLocked)}lockHard(){this.scrollPosition=window.pageYOffset,document.documentElement.style.setProperty("--window-scroll-offset",`${this.scrollPosition}px`),document.body.classList.add(Ci.CSS.scrollLockedHard)}unlockHard(){document.body.classList.remove(Ci.CSS.scrollLockedHard),this.scrollPosition!==null&&window.scrollTo(0,this.scrollPosition),this.scrollPosition=null}};let Hx=Ci;Hx.CSS={scrollLocked:"ce-scroll-locked",scrollLockedHard:"ce-scroll-locked--hard"};var uO=Object.defineProperty,dO=Object.getOwnPropertyDescriptor,hO=(t,e,n,r)=>{for(var o=r>1?void 0:r?dO(e,n):e,i=t.length-1,s;i>=0;i--)(s=t[i])&&(o=(r?s(e,n,o):s(o))||o);return r&&o&&uO(e,n,o),o},gs=(t=>(t.Close="close",t))(gs||{});const Ae=class extends hc{constructor(t){super(),this.scopeElement=document.body,this.listeners=new Wf,this.scrollLocker=new Hx,this.nodes={wrapper:null,popover:null,nothingFoundMessage:null,customContent:null,items:null,overlay:null},this.messages={nothingFound:"Nothing found",search:"Search"},this.onFlip=()=>{this.items.find(e=>e.isFocused).onFocus()},this.items=t.items.map(e=>new vv(e)),t.scopeElement!==void 0&&(this.scopeElement=t.scopeElement),t.messages&&(this.messages={...this.messages,...t.messages}),t.customContentFlippableItems&&(this.customContentFlippableItems=t.customContentFlippableItems),this.make(),t.customContent&&this.addCustomContent(t.customContent),t.searchable&&this.addSearch(),this.initializeFlipper()}static get CSS(){return{popover:"ce-popover",popoverOpenTop:"ce-popover--open-top",popoverOpened:"ce-popover--opened",search:"ce-popover__search",nothingFoundMessage:"ce-popover__nothing-found-message",nothingFoundMessageDisplayed:"ce-popover__nothing-found-message--displayed",customContent:"ce-popover__custom-content",customContentHidden:"ce-popover__custom-content--hidden",items:"ce-popover__items",overlay:"ce-popover__overlay",overlayHidden:"ce-popover__overlay--hidden"}}getElement(){return this.nodes.wrapper}hasFocus(){return this.flipper.hasFocus()}show(){this.shouldOpenBottom||(this.nodes.popover.style.setProperty("--popover-height",this.height+"px"),this.nodes.popover.classList.add(Ae.CSS.popoverOpenTop)),this.nodes.overlay.classList.remove(Ae.CSS.overlayHidden),this.nodes.popover.classList.add(Ae.CSS.popoverOpened),this.flipper.activate(this.flippableElements),this.search!==void 0&&requestAnimationFrame(()=>{var t;(t=this.search)==null||t.focus()}),Br()&&this.scrollLocker.lock()}hide(){this.nodes.popover.classList.remove(Ae.CSS.popoverOpened),this.nodes.popover.classList.remove(Ae.CSS.popoverOpenTop),this.nodes.overlay.classList.add(Ae.CSS.overlayHidden),this.flipper.deactivate(),this.items.forEach(t=>t.reset()),this.search!==void 0&&this.search.clear(),Br()&&this.scrollLocker.unlock(),this.emit("close")}destroy(){this.flipper.deactivate(),this.listeners.removeAll(),Br()&&this.scrollLocker.unlock()}make(){this.nodes.popover=I.make("div",[Ae.CSS.popover]),this.nodes.nothingFoundMessage=I.make("div",[Ae.CSS.nothingFoundMessage],{textContent:this.messages.nothingFound}),this.nodes.popover.appendChild(this.nodes.nothingFoundMessage),this.nodes.items=I.make("div",[Ae.CSS.items]),this.items.forEach(t=>{this.nodes.items.appendChild(t.getElement())}),this.nodes.popover.appendChild(this.nodes.items),this.listeners.on(this.nodes.popover,"click",t=>{const e=this.getTargetItem(t);e!==void 0&&this.handleItemClick(e)}),this.nodes.wrapper=I.make("div"),this.nodes.overlay=I.make("div",[Ae.CSS.overlay,Ae.CSS.overlayHidden]),this.listeners.on(this.nodes.overlay,"click",()=>{this.hide()}),this.nodes.wrapper.appendChild(this.nodes.overlay),this.nodes.wrapper.appendChild(this.nodes.popover)}addSearch(){this.search=new $i({items:this.items,placeholder:this.messages.search,onSearch:(e,n)=>{this.items.forEach(o=>{const i=!n.includes(o);o.toggleHidden(i)}),this.toggleNothingFoundMessage(n.length===0),this.toggleCustomContent(e!=="");const r=e===""?this.flippableElements:n.map(o=>o.getElement());this.flipper.isActivated&&(this.flipper.deactivate(),this.flipper.activate(r))}});const t=this.search.getElement();t.classList.add(Ae.CSS.search),this.nodes.popover.insertBefore(t,this.nodes.popover.firstChild)}addCustomContent(t){this.nodes.customContent=t,this.nodes.customContent.classList.add(Ae.CSS.customContent),this.nodes.popover.insertBefore(t,this.nodes.popover.firstChild)}getTargetItem(t){return this.items.find(e=>t.composedPath().includes(e.getElement()))}handleItemClick(t){t.isDisabled||(this.items.filter(e=>e!==t).forEach(e=>e.reset()),t.handleClick(),this.toggleItemActivenessIfNeeded(t),t.closeOnActivate&&this.hide())}initializeFlipper(){this.flipper=new wn({items:this.flippableElements,focusedItemClass:vv.CSS.focused,allowedKeys:[K.TAB,K.UP,K.DOWN,K.ENTER]}),this.flipper.onFlip(this.onFlip)}get flippableElements(){const t=this.items.map(e=>e.getElement());return(this.customContentFlippableItems||[]).concat(t)}get height(){let t=0;if(this.nodes.popover===null)return t;const e=this.nodes.popover.cloneNode(!0);return e.style.visibility="hidden",e.style.position="absolute",e.style.top="-1000px",e.classList.add(Ae.CSS.popoverOpened),document.body.appendChild(e),t=e.offsetHeight,e.remove(),t}get shouldOpenBottom(){const t=this.nodes.popover.getBoundingClientRect(),e=this.scopeElement.getBoundingClientRect(),n=this.height,r=t.top+n,o=t.top-n,i=Math.min(window.innerHeight,e.bottom);return o<e.top||r<=i}toggleNothingFoundMessage(t){this.nodes.nothingFoundMessage.classList.toggle(Ae.CSS.nothingFoundMessageDisplayed,t)}toggleCustomContent(t){var e;(e=this.nodes.customContent)==null||e.classList.toggle(Ae.CSS.customContentHidden,t)}toggleItemActivenessIfNeeded(t){if(t.toggle===!0&&t.toggleActive(),typeof t.toggle=="string"){const e=this.items.filter(n=>n.toggle===t.toggle);if(e.length===1){t.toggleActive();return}e.forEach(n=>{n.toggleActive(n===t)})}}};let Yf=Ae;hO([ri],Yf.prototype,"height",1);class fO extends Y{constructor(){super(...arguments),this.opened=!1,this.selection=new D,this.onPopoverClose=()=>{this.close()}}get events(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}get CSS(){return{settings:"ce-settings"}}get flipper(){var e;return(e=this.popover)==null?void 0:e.flipper}make(){this.nodes.wrapper=I.make("div",[this.CSS.settings])}destroy(){this.removeAllNodes()}open(e=this.Editor.BlockManager.currentBlock){this.opened=!0,this.selection.save(),this.Editor.BlockSelection.selectBlock(e),this.Editor.BlockSelection.clearCache();const[n,r]=e.getTunes();this.eventsDispatcher.emit(this.events.opened),this.popover=new Yf({searchable:!0,items:n.map(o=>this.resolveTuneAliases(o)),customContent:r,customContentFlippableItems:this.getControls(r),scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:Xe.ui(It.ui.popover,"Nothing found"),search:Xe.ui(It.ui.popover,"Filter")}}),this.popover.on(gs.Close,this.onPopoverClose),this.nodes.wrapper.append(this.popover.getElement()),this.popover.show()}getElement(){return this.nodes.wrapper}close(){this.opened&&(this.opened=!1,D.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&this.Editor.BlockSelection.unselectBlock(this.Editor.BlockManager.currentBlock),this.eventsDispatcher.emit(this.events.closed),this.popover&&(this.popover.off(gs.Close,this.onPopoverClose),this.popover.destroy(),this.popover.getElement().remove(),this.popover=null))}getControls(e){const{StylesAPI:n}=this.Editor,r=e.querySelectorAll(`.${n.classes.settingsButton}, ${I.allInputsSelector}`);return Array.from(r)}resolveTuneAliases(e){const n=ZR(e,{label:"title"});return e.confirmation&&(n.confirmation=this.resolveTuneAliases(e.confirmation)),n}}class nt extends Y{constructor(){super(...arguments),this.opened=!1,this.tools=[],this.flipper=null,this.togglingCallback=null}static get CSS(){return{conversionToolbarWrapper:"ce-conversion-toolbar",conversionToolbarShowed:"ce-conversion-toolbar--showed",conversionToolbarTools:"ce-conversion-toolbar__tools",conversionToolbarLabel:"ce-conversion-toolbar__label",conversionTool:"ce-conversion-tool",conversionToolHidden:"ce-conversion-tool--hidden",conversionToolIcon:"ce-conversion-tool__icon",conversionToolSecondaryLabel:"ce-conversion-tool__secondary-label",conversionToolFocused:"ce-conversion-tool--focused",conversionToolActive:"ce-conversion-tool--active"}}make(){this.nodes.wrapper=I.make("div",[nt.CSS.conversionToolbarWrapper,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.tools=I.make("div",nt.CSS.conversionToolbarTools);const e=I.make("div",nt.CSS.conversionToolbarLabel,{textContent:Xe.ui(It.ui.inlineToolbar.converter,"Convert to")});return this.addTools(),this.enableFlipper(),I.append(this.nodes.wrapper,e),I.append(this.nodes.wrapper,this.nodes.tools),this.nodes.wrapper}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}toggle(e){this.opened?this.close():this.open(),ae(e)&&(this.togglingCallback=e)}open(){this.filterTools(),this.opened=!0,this.nodes.wrapper.classList.add(nt.CSS.conversionToolbarShowed),window.requestAnimationFrame(()=>{this.flipper.activate(this.tools.map(e=>e.button).filter(e=>!e.classList.contains(nt.CSS.conversionToolHidden))),this.flipper.focusFirst(),ae(this.togglingCallback)&&this.togglingCallback(!0)})}close(){this.opened=!1,this.flipper.deactivate(),this.nodes.wrapper.classList.remove(nt.CSS.conversionToolbarShowed),ae(this.togglingCallback)&&this.togglingCallback(!1)}hasTools(){return this.tools.length===1?this.tools[0].name!==this.config.defaultBlock:!0}async replaceWithBlock(e,n){const{BlockManager:r,BlockSelection:o,InlineToolbar:i,Caret:s}=this.Editor;r.convert(this.Editor.BlockManager.currentBlock,e,n),o.clearSelection(),this.close(),i.close(),window.requestAnimationFrame(()=>{s.setToBlock(this.Editor.BlockManager.currentBlock,s.positions.END)})}addTools(){const e=this.Editor.Tools.blockTools;Array.from(e.entries()).forEach(([n,r])=>{var o;const i=r.conversionConfig;!i||!i.import||(o=r.toolbox)==null||o.forEach(s=>this.addToolIfValid(n,s))})}addToolIfValid(e,n){xt(n)||!n.icon||this.addTool(e,n)}addTool(e,n){var r;const o=I.make("div",[nt.CSS.conversionTool]),i=I.make("div",[nt.CSS.conversionToolIcon]);o.dataset.tool=e,i.innerHTML=n.icon,I.append(o,i),I.append(o,I.text(Xe.t(It.toolNames,n.title||zo(e))));const s=(r=this.Editor.Tools.blockTools.get(e))==null?void 0:r.shortcut;if(s){const a=I.make("span",nt.CSS.conversionToolSecondaryLabel,{innerText:dc(s)});I.append(o,a)}I.append(this.nodes.tools,o),this.tools.push({name:e,button:o,toolboxItem:n}),this.listeners.on(o,"click",async()=>{await this.replaceWithBlock(e,n.data)})}async filterTools(){const{currentBlock:e}=this.Editor.BlockManager,n=await e.getActiveToolboxEntry();function r(o,i){return o.icon===i.icon&&o.title===i.title}this.tools.forEach(o=>{let i=!1;if(n){const s=r(n,o.toolboxItem);i=o.button.dataset.tool===e.name&&s}o.button.hidden=i,o.button.classList.toggle(nt.CSS.conversionToolHidden,i)})}enableFlipper(){this.flipper=new wn({focusedItemClass:nt.CSS.conversionToolFocused})}}var eh={},pO={get exports(){return eh},set exports(t){eh=t}};/*!
 * Library for handling keyboard shortcuts
 * @copyright CodeX (https://codex.so)
 * @license MIT
 * @author CodeX (https://codex.so)
 * @version 1.2.0
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="",o(o.s=0)}([function(n,r,o){function i(l,c){for(var d=0;d<c.length;d++){var u=c[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}function s(l,c,d){return c&&i(l.prototype,c),d&&i(l,d),l}o.r(r);var a=function(){function l(c){var d=this;(function(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")})(this,l),this.commands={},this.keys={},this.name=c.name,this.parseShortcutName(c.name),this.element=c.on,this.callback=c.callback,this.executeShortcut=function(u){d.execute(u)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return s(l,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,".":190}}}]),s(l,[{key:"parseShortcutName",value:function(c){c=c.split("+");for(var d=0;d<c.length;d++){c[d]=c[d].toUpperCase();var u=!1;for(var h in l.supportedCommands)if(l.supportedCommands[h].includes(c[d])){u=this.commands[h]=!0;break}u||(this.keys[c[d]]=!0)}for(var g in l.supportedCommands)this.commands[g]||(this.commands[g]=!1)}},{key:"execute",value:function(c){var d,u={CMD:c.ctrlKey||c.metaKey,SHIFT:c.shiftKey,ALT:c.altKey},h=!0;for(d in this.commands)this.commands[d]!==u[d]&&(h=!1);var g,v=!0;for(g in this.keys)v=v&&c.keyCode===l.keyCodes[g];h&&v&&this.callback(c)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),l}();r.default=a}]).default})})(pO);const mO=Hf(eh);class gO{constructor(){this.registeredShortcuts=new Map}add(e){if(this.findShortcut(e.on,e.name))throw Error(`Shortcut ${e.name} is already registered for ${e.on}. Please remove it before add a new handler.`);const n=new mO({name:e.name,on:e.on,callback:e.handler}),r=this.registeredShortcuts.get(e.on)||[];this.registeredShortcuts.set(e.on,[...r,n])}remove(e,n){const r=this.findShortcut(e,n);if(!r)return;r.remove();const o=this.registeredShortcuts.get(e);this.registeredShortcuts.set(e,o.filter(i=>i!==r))}findShortcut(e,n){return(this.registeredShortcuts.get(e)||[]).find(({name:r})=>r===n)}}const Ho=new gO;var vO=Object.defineProperty,yO=Object.getOwnPropertyDescriptor,Wx=(t,e,n,r)=>{for(var o=r>1?void 0:r?yO(e,n):e,i=t.length-1,s;i>=0;i--)(s=t[i])&&(o=(r?s(e,n,o):s(o))||o);return r&&o&&vO(e,n,o),o},Ba=(t=>(t.Opened="toolbox-opened",t.Closed="toolbox-closed",t.BlockAdded="toolbox-block-added",t))(Ba||{});const Kx=class extends hc{constructor({api:t,tools:e,i18nLabels:n}){super(),this.opened=!1,this.nodes={toolbox:null},this.onPopoverClose=()=>{this.opened=!1,this.emit("toolbox-closed")},this.api=t,this.tools=e,this.i18nLabels=n}get isEmpty(){return this.toolsToBeDisplayed.length===0}static get CSS(){return{toolbox:"ce-toolbox"}}make(){return this.popover=new Yf({scopeElement:this.api.ui.nodes.redactor,searchable:!0,messages:{nothingFound:this.i18nLabels.nothingFound,search:this.i18nLabels.filter},items:this.toolboxItemsToBeDisplayed}),this.popover.on(gs.Close,this.onPopoverClose),this.enableShortcuts(),this.nodes.toolbox=this.popover.getElement(),this.nodes.toolbox.classList.add(Kx.CSS.toolbox),this.nodes.toolbox}hasFocus(){var t;return(t=this.popover)==null?void 0:t.hasFocus()}destroy(){var t;super.destroy(),this.nodes&&this.nodes.toolbox&&(this.nodes.toolbox.remove(),this.nodes.toolbox=null),this.removeAllShortcuts(),(t=this.popover)==null||t.off(gs.Close,this.onPopoverClose)}toolButtonActivated(t,e){this.insertNewBlock(t,e)}open(){var t;this.isEmpty||((t=this.popover)==null||t.show(),this.opened=!0,this.emit("toolbox-opened"))}close(){var t;(t=this.popover)==null||t.hide(),this.opened=!1,this.emit("toolbox-closed")}toggle(){this.opened?this.close():this.open()}get toolsToBeDisplayed(){const t=[];return this.tools.forEach(e=>{e.toolbox&&t.push(e)}),t}get toolboxItemsToBeDisplayed(){const t=(e,n)=>({icon:e.icon,title:Xe.t(It.toolNames,e.title||zo(n.name)),name:n.name,onActivate:()=>{this.toolButtonActivated(n.name,e.data)},secondaryLabel:n.shortcut?dc(n.shortcut):""});return this.toolsToBeDisplayed.reduce((e,n)=>(Array.isArray(n.toolbox)?n.toolbox.forEach(r=>{e.push(t(r,n))}):n.toolbox!==void 0&&e.push(t(n.toolbox,n)),e),[])}enableShortcuts(){this.toolsToBeDisplayed.forEach(t=>{const e=t.shortcut;e&&this.enableShortcutForTool(t.name,e)})}enableShortcutForTool(t,e){Ho.add({name:e,on:this.api.ui.nodes.redactor,handler:n=>{n.preventDefault();const r=this.api.blocks.getCurrentBlockIndex(),o=this.api.blocks.getBlockByIndex(r);if(o)try{this.api.blocks.convert(o.id,t),window.requestAnimationFrame(()=>{this.api.caret.setToBlock(r,"end")});return}catch{}this.insertNewBlock(t)}})}removeAllShortcuts(){this.toolsToBeDisplayed.forEach(t=>{const e=t.shortcut;e&&Ho.remove(this.api.ui.nodes.redactor,e)})}async insertNewBlock(t,e){const n=this.api.blocks.getCurrentBlockIndex(),r=this.api.blocks.getBlockByIndex(n);if(!r)return;const o=r.isEmpty?n:n+1;let i;if(e){const a=await this.api.blocks.composeBlockData(t);i=Object.assign(a,e)}const s=this.api.blocks.insert(t,i,void 0,o,void 0,r.isEmpty);s.call(Jt.APPEND_CALLBACK),this.api.caret.setToBlock(o),this.emit("toolbox-block-added",{block:s}),this.api.toolbar.close()}};let Xf=Kx;Wx([ri],Xf.prototype,"toolsToBeDisplayed",1);Wx([ri],Xf.prototype,"toolboxItemsToBeDisplayed",1);const Gx="block hovered";async function bO(t,e){const n=navigator.keyboard;return n&&(await n.getLayoutMap()).get(t)||e}class xO extends Y{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.toolboxInstance=null}get CSS(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",openedToolboxHolderModifier:"codex-editor--toolbox-opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",settingsToggler:"ce-toolbar__settings-btn",settingsTogglerHidden:"ce-toolbar__settings-btn--hidden"}}get opened(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}get toolbox(){var e;return{opened:(e=this.toolboxInstance)==null?void 0:e.opened,close:()=>{var n;(n=this.toolboxInstance)==null||n.close()},open:()=>{if(this.toolboxInstance===null){Q("toolbox.open() called before initialization is finished","warn");return}this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.open()},toggle:()=>{if(this.toolboxInstance===null){Q("toolbox.toggle() called before initialization is finished","warn");return}this.toolboxInstance.toggle()},hasFocus:()=>{var n;return(n=this.toolboxInstance)==null?void 0:n.hasFocus()}}}get blockActions(){return{hide:()=>{this.nodes.actions.classList.remove(this.CSS.actionsOpened)},show:()=>{this.nodes.actions.classList.add(this.CSS.actionsOpened)}}}get blockTunesToggler(){return{hide:()=>this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),show:()=>this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)}}toggleReadOnly(e){e?(this.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):window.requestIdleCallback(()=>{this.drawUI(),this.enableModuleBindings()},{timeout:2e3})}moveAndOpen(e=this.Editor.BlockManager.currentBlock){if(this.toolboxInstance===null){Q("Can't open Toolbar since Editor initialization is not finished yet","warn");return}if(this.toolboxInstance.opened&&this.toolboxInstance.close(),this.Editor.BlockSettings.opened&&this.Editor.BlockSettings.close(),!e)return;this.hoveredBlock=e;const n=e.holder,{isMobile:r}=this.Editor.UI,o=e.pluginsContent,i=window.getComputedStyle(o),s=parseInt(i.paddingTop,10),a=n.offsetHeight;let l;r?l=n.offsetTop+a:l=n.offsetTop+s,this.nodes.wrapper.style.top=`${Math.floor(l)}px`,this.Editor.BlockManager.blocks.length===1&&e.isEmpty?this.blockTunesToggler.hide():this.blockTunesToggler.show(),this.open()}close(){var e,n;this.Editor.ReadOnly.isEnabled||((e=this.nodes.wrapper)==null||e.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),(n=this.toolboxInstance)==null||n.close(),this.Editor.BlockSettings.close(),this.reset())}reset(){this.nodes.wrapper.style.top="unset"}open(e=!0){this.nodes.wrapper.classList.add(this.CSS.toolbarOpened),e?this.blockActions.show():this.blockActions.hide()}async make(){this.nodes.wrapper=I.make("div",this.CSS.toolbar),["content","actions"].forEach(i=>{this.nodes[i]=I.make("div",this.CSS[i])}),I.append(this.nodes.wrapper,this.nodes.content),I.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=I.make("div",this.CSS.plusButton,{innerHTML:sO}),I.append(this.nodes.actions,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",()=>{Zd(!0),this.plusButtonClicked()},!1);const e=I.make("div");e.appendChild(document.createTextNode(Xe.ui(It.ui.toolbar.toolbox,"Add"))),e.appendChild(I.make("div",this.CSS.plusButtonShortcut,{textContent:"/"})),ms(this.nodes.plusButton,e,{hidingDelay:400}),this.nodes.settingsToggler=I.make("span",this.CSS.settingsToggler,{innerHTML:iO}),I.append(this.nodes.actions,this.nodes.settingsToggler);const n=I.make("div"),r=I.text(Xe.ui(It.ui.blockTunes.toggler,"Click to tune")),o=await bO("Slash","/");n.appendChild(r),n.appendChild(I.make("div",this.CSS.plusButtonShortcut,{textContent:dc(`CMD + ${o}`)})),ms(this.nodes.settingsToggler,n,{hidingDelay:400}),I.append(this.nodes.actions,this.makeToolbox()),I.append(this.nodes.actions,this.Editor.BlockSettings.getElement()),I.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}makeToolbox(){return this.toolboxInstance=new Xf({api:this.Editor.API.methods,tools:this.Editor.Tools.blockTools,i18nLabels:{filter:Xe.ui(It.ui.popover,"Filter"),nothingFound:Xe.ui(It.ui.popover,"Nothing found")}}),this.toolboxInstance.on(Ba.Opened,()=>{this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(Ba.Closed,()=>{this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(Ba.BlockAdded,({block:e})=>{const{BlockManager:n,Caret:r}=this.Editor,o=n.getBlockById(e.id);o.inputs.length===0&&(o===n.lastBlock?(n.insertAtEnd(),r.setToBlock(n.lastBlock)):r.setToBlock(n.nextBlock))}),this.toolboxInstance.make()}plusButtonClicked(){var e;this.Editor.BlockManager.currentBlock=this.hoveredBlock,(e=this.toolboxInstance)==null||e.toggle()}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",e=>{var n;e.stopPropagation(),this.settingsTogglerClicked(),(n=this.toolboxInstance)!=null&&n.opened&&this.toolboxInstance.close(),Zd(!0)},!0),Br()||this.eventsDispatcher.on(Gx,e=>{var n;this.Editor.BlockSettings.opened||(n=this.toolboxInstance)!=null&&n.opened||this.moveAndOpen(e.block)})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}settingsTogglerClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open(this.hoveredBlock)}drawUI(){this.Editor.BlockSettings.make(),this.make()}destroy(){this.removeAllNodes(),this.toolboxInstance&&this.toolboxInstance.destroy()}}var fc=(t=>(t[t.Block=0]="Block",t[t.Inline=1]="Inline",t[t.Tune=2]="Tune",t))(fc||{}),La=(t=>(t.Shortcut="shortcut",t.Toolbox="toolbox",t.EnabledInlineTools="inlineToolbar",t.EnabledBlockTunes="tunes",t.Config="config",t))(La||{}),qx=(t=>(t.Shortcut="shortcut",t.SanitizeConfig="sanitize",t))(qx||{}),Zr=(t=>(t.IsEnabledLineBreaks="enableLineBreaks",t.Toolbox="toolbox",t.ConversionConfig="conversionConfig",t.IsReadOnlySupported="isReadOnlySupported",t.PasteConfig="pasteConfig",t))(Zr||{}),Jf=(t=>(t.IsInline="isInline",t.Title="title",t))(Jf||{}),Yx=(t=>(t.IsTune="isTune",t))(Yx||{});class Qf{constructor({name:e,constructable:n,config:r,api:o,isDefault:i,isInternal:s=!1,defaultPlaceholder:a}){this.api=o,this.name=e,this.constructable=n,this.config=r,this.isDefault=i,this.isInternal=s,this.defaultPlaceholder=a}get settings(){const e=this.config.config||{};return this.isDefault&&!("placeholder"in e)&&this.defaultPlaceholder&&(e.placeholder=this.defaultPlaceholder),e}reset(){if(ae(this.constructable.reset))return this.constructable.reset()}prepare(){if(ae(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}get shortcut(){const e=this.constructable.shortcut;return this.config.shortcut||e}get sanitizeConfig(){return this.constructable.sanitize||{}}isInline(){return this.type===1}isBlock(){return this.type===0}isTune(){return this.type===2}}class wO extends Y{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.CSS={inlineToolbar:"ce-inline-toolbar",inlineToolbarShowed:"ce-inline-toolbar--showed",inlineToolbarLeftOriented:"ce-inline-toolbar--left-oriented",inlineToolbarRightOriented:"ce-inline-toolbar--right-oriented",inlineToolbarShortcut:"ce-inline-toolbar__shortcut",buttonsWrapper:"ce-inline-toolbar__buttons",actionsWrapper:"ce-inline-toolbar__actions",inlineToolButton:"ce-inline-tool",inputField:"cdx-input",focusedButton:"ce-inline-tool--focused",conversionToggler:"ce-inline-toolbar__dropdown",conversionTogglerArrow:"ce-inline-toolbar__dropdown-arrow",conversionTogglerHidden:"ce-inline-toolbar__dropdown--hidden",conversionTogglerContent:"ce-inline-toolbar__dropdown-content",togglerAndButtonsWrapper:"ce-inline-toolbar__toggler-and-button-wrapper"},this.opened=!1,this.toolbarVerticalMargin=Br()?20:6,this.buttonsList=null,this.width=0,this.flipper=null}toggleReadOnly(e){e?(this.destroy(),this.Editor.ConversionToolbar.destroy()):window.requestIdleCallback(()=>{this.make()},{timeout:2e3})}async tryToShow(e=!1,n=!0){e&&this.close(),this.allowedToShow()&&(await this.addToolsFiltered(n),this.move(),this.open(n),this.Editor.Toolbar.close())}close(){this.opened&&(this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarShowed),Array.from(this.toolsInstances.entries()).forEach(([e,n])=>{const r=this.getToolShortcut(e);r&&Ho.remove(this.Editor.UI.nodes.redactor,r),ae(n.clear)&&n.clear()}),this.reset(),this.opened=!1,this.flipper.deactivate(),this.Editor.ConversionToolbar.close()))}containsNode(e){return this.nodes.wrapper===void 0?!1:this.nodes.wrapper.contains(e)}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}make(){this.nodes.wrapper=I.make("div",[this.CSS.inlineToolbar,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.togglerAndButtonsWrapper=I.make("div",this.CSS.togglerAndButtonsWrapper),this.nodes.buttons=I.make("div",this.CSS.buttonsWrapper),this.nodes.actions=I.make("div",this.CSS.actionsWrapper),this.listeners.on(this.nodes.wrapper,"mousedown",e=>{e.target.closest(`.${this.CSS.actionsWrapper}`)||e.preventDefault()}),I.append(this.nodes.wrapper,[this.nodes.togglerAndButtonsWrapper,this.nodes.actions]),I.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper),this.addConversionToggler(),I.append(this.nodes.togglerAndButtonsWrapper,this.nodes.buttons),this.prepareConversionToolbar(),window.requestAnimationFrame(()=>{this.recalculateWidth()}),this.enableFlipper()}open(){if(this.opened)return;this.nodes.wrapper.classList.add(this.CSS.inlineToolbarShowed),this.buttonsList=this.nodes.buttons.querySelectorAll(`.${this.CSS.inlineToolButton}`),this.opened=!0;let e=Array.from(this.buttonsList);e.unshift(this.nodes.conversionToggler),e=e.filter(n=>!n.hidden),this.flipper.activate(e)}move(){const e=D.rect,n=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),r={x:e.x-n.x,y:e.y+e.height-n.top+this.toolbarVerticalMargin};r.x+this.width+n.x>this.Editor.UI.contentRect.right&&(r.x=this.Editor.UI.contentRect.right-this.width-n.x),this.nodes.wrapper.style.left=Math.floor(r.x)+"px",this.nodes.wrapper.style.top=Math.floor(r.y)+"px"}reset(){this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarLeftOriented,this.CSS.inlineToolbarRightOriented),this.nodes.wrapper.style.left="0",this.nodes.wrapper.style.top="0"}allowedToShow(){const e=["IMG","INPUT"],n=D.get(),r=D.text;if(!n||!n.anchorNode||n.isCollapsed||r.length<1)return!1;const o=I.isElement(n.anchorNode)?n.anchorNode:n.anchorNode.parentElement;if(n&&e.includes(o.tagName)||o.closest('[contenteditable="true"]')===null)return!1;const i=this.Editor.BlockManager.getBlock(n.anchorNode);return i?i.tool.inlineTools.size!==0:!1}recalculateWidth(){this.width=this.nodes.wrapper.offsetWidth}addConversionToggler(){this.nodes.conversionToggler=I.make("div",this.CSS.conversionToggler),this.nodes.conversionTogglerContent=I.make("div",this.CSS.conversionTogglerContent);const e=I.make("div",this.CSS.conversionTogglerArrow,{innerHTML:zx});this.nodes.conversionToggler.appendChild(this.nodes.conversionTogglerContent),this.nodes.conversionToggler.appendChild(e),this.nodes.togglerAndButtonsWrapper.appendChild(this.nodes.conversionToggler),this.listeners.on(this.nodes.conversionToggler,"click",()=>{this.Editor.ConversionToolbar.toggle(n=>{!n&&this.opened?this.flipper.activate():this.opened&&this.flipper.deactivate()})}),Br()===!1&&ms(this.nodes.conversionToggler,Xe.ui(It.ui.inlineToolbar.converter,"Convert to"),{placement:"top",hidingDelay:100})}async setConversionTogglerContent(){const{BlockManager:e}=this.Editor,{currentBlock:n}=e,r=n.name,o=n.tool.conversionConfig,i=o&&o.export;this.nodes.conversionToggler.hidden=!i,this.nodes.conversionToggler.classList.toggle(this.CSS.conversionTogglerHidden,!i);const s=await n.getActiveToolboxEntry()||{};this.nodes.conversionTogglerContent.innerHTML=s.icon||s.title||zo(r)}prepareConversionToolbar(){const e=this.Editor.ConversionToolbar.make();I.append(this.nodes.wrapper,e)}async addToolsFiltered(e=!0){const n=D.get(),r=this.Editor.BlockManager.getBlock(n.anchorNode);this.nodes.buttons.innerHTML="",this.nodes.actions.innerHTML="",this.toolsInstances=new Map,Array.from(r.tool.inlineTools.values()).forEach(o=>{this.addTool(o)}),e&&this.Editor.ConversionToolbar.hasTools()?await this.setConversionTogglerContent():this.nodes.conversionToggler.hidden=!0,this.recalculateWidth()}addTool(e){const n=e.create(),r=n.render();if(!r){Q("Render method must return an instance of Node","warn",e.name);return}if(r.dataset.tool=e.name,this.nodes.buttons.appendChild(r),this.toolsInstances.set(e.name,n),ae(n.renderActions)){const a=n.renderActions();this.nodes.actions.appendChild(a)}this.listeners.on(r,"click",a=>{this.toolClicked(n),a.preventDefault()});const o=this.getToolShortcut(e.name);if(o)try{this.enableShortcuts(n,o)}catch{}const i=I.make("div"),s=Xe.t(It.toolNames,e.title||zo(e.name));i.appendChild(I.text(s)),o&&i.appendChild(I.make("div",this.CSS.inlineToolbarShortcut,{textContent:dc(o)})),Br()===!1&&ms(r,i,{placement:"top",hidingDelay:100}),n.checkState(D.get())}getToolShortcut(e){const{Tools:n}=this.Editor,r=n.inlineTools.get(e),o=n.internal.inlineTools;return Array.from(o.keys()).includes(e)?this.inlineTools[e][qx.Shortcut]:r.shortcut}enableShortcuts(e,n){Ho.add({name:n,handler:r=>{const{currentBlock:o}=this.Editor.BlockManager;o&&o.tool.enabledInlineTools&&(r.preventDefault(),this.toolClicked(e))},on:this.Editor.UI.nodes.redactor})}toolClicked(e){const n=D.range;e.surround(n),this.checkToolsState(),e.renderActions!==void 0&&this.flipper.deactivate()}checkToolsState(){this.toolsInstances.forEach(e=>{e.checkState(D.get())})}get inlineTools(){const e={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(([n,r])=>{e[n]=r.create()}),e}enableFlipper(){this.flipper=new wn({focusedItemClass:this.CSS.focusedButton,allowedKeys:[K.ENTER,K.TAB]})}}class kO extends Y{keydown(e){switch(this.beforeKeydownProcessing(e),e.keyCode){case K.BACKSPACE:this.backspace(e);break;case K.DELETE:this.delete(e);break;case K.ENTER:this.enter(e);break;case K.DOWN:case K.RIGHT:this.arrowRightAndDown(e);break;case K.UP:case K.LEFT:this.arrowLeftAndUp(e);break;case K.TAB:this.tabPressed(e);break}e.key==="/"&&!e.ctrlKey&&!e.metaKey&&this.slashPressed(),e.code==="Slash"&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.commandSlashPressed())}beforeKeydownProcessing(e){this.needToolbarClosing(e)&&Lx(e.keyCode)&&(this.Editor.Toolbar.close(),this.Editor.ConversionToolbar.close(),e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||this.Editor.BlockSelection.clearSelection(e))}keyup(e){e.shiftKey||this.Editor.UI.checkEmptiness()}dragOver(e){const n=this.Editor.BlockManager.getBlockByChildNode(e.target);n.dropTarget=!0}dragLeave(e){const n=this.Editor.BlockManager.getBlockByChildNode(e.target);n.dropTarget=!1}handleCommandC(e){const{BlockSelection:n}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(e)}handleCommandX(e){const{BlockSelection:n,BlockManager:r,Caret:o}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(e).then(()=>{const i=r.removeSelectedBlocks(),s=r.insertDefaultBlockAtIndex(i,!0);o.setToBlock(s,o.positions.START),n.clearSelection(e)})}tabPressed(e){const{InlineToolbar:n,ConversionToolbar:r,Caret:o}=this.Editor;r.opened||n.opened||(e.shiftKey?o.navigatePrevious(!0):o.navigateNext(!0))&&e.preventDefault()}commandSlashPressed(){this.Editor.BlockSelection.selectedBlocks.length>1||this.activateBlockSettings()}slashPressed(){this.Editor.BlockManager.currentBlock.isEmpty&&this.activateToolbox()}enter(e){const{BlockManager:n,UI:r}=this.Editor;if(n.currentBlock.tool.isLineBreaksEnabled||r.someToolbarOpened&&r.someFlipperButtonFocused||e.shiftKey)return;let o=this.Editor.BlockManager.currentBlock;this.Editor.Caret.isAtStart&&!this.Editor.BlockManager.currentBlock.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):this.Editor.Caret.isAtEnd?o=this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex+1):o=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(o),this.Editor.Toolbar.moveAndOpen(o),e.preventDefault()}backspace(e){const{BlockManager:n,Caret:r}=this.Editor,{currentBlock:o,previousBlock:i}=n;if(!(!D.isCollapsed||!r.isAtStart)){if(e.preventDefault(),this.Editor.Toolbar.close(),o.currentInput!==o.firstInput){r.navigatePrevious();return}if(i!==null){if(i.isEmpty){n.removeBlock(i);return}if(o.isEmpty){n.removeBlock(o);const s=n.currentBlock;r.setToBlock(s,r.positions.END);return}mv(o,i)?this.mergeBlocks(i,o):r.setToBlock(i,r.positions.END)}}}delete(e){const{BlockManager:n,Caret:r}=this.Editor,{currentBlock:o,nextBlock:i}=n;if(!(!D.isCollapsed||!r.isAtEnd)){if(e.preventDefault(),this.Editor.Toolbar.close(),o.currentInput!==o.lastInput){r.navigateNext();return}if(i!==null){if(i.isEmpty){n.removeBlock(i);return}if(o.isEmpty){n.removeBlock(o),r.setToBlock(i,r.positions.START);return}mv(o,i)?this.mergeBlocks(o,i):r.setToBlock(i,r.positions.START)}}}mergeBlocks(e,n){const{BlockManager:r,Caret:o,Toolbar:i}=this.Editor;o.createShadow(e.pluginsContent),r.mergeBlocks(e,n).then(()=>{window.requestAnimationFrame(()=>{o.restoreCaret(e.pluginsContent),e.pluginsContent.normalize(),i.close()})})}arrowRightAndDown(e){const n=wn.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===K.TAB);if(this.Editor.UI.someToolbarOpened&&n)return;this.Editor.Toolbar.close();const r=this.Editor.Caret.isAtEnd||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===K.DOWN&&r){this.Editor.CrossBlockSelection.toggleBlockSelectedState();return}if(e.keyCode===K.DOWN||e.keyCode===K.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious()){e.preventDefault();return}El(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}arrowLeftAndUp(e){if(this.Editor.UI.someToolbarOpened){if(wn.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===K.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.Toolbar.close();const n=this.Editor.Caret.isAtStart||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===K.UP&&n){this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1);return}if(e.keyCode===K.UP||e.keyCode===K.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext()){e.preventDefault();return}El(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}needToolbarClosing(e){const n=e.keyCode===K.ENTER&&this.Editor.Toolbar.toolbox.opened,r=e.keyCode===K.ENTER&&this.Editor.BlockSettings.opened,o=e.keyCode===K.ENTER&&this.Editor.InlineToolbar.opened,i=e.keyCode===K.ENTER&&this.Editor.ConversionToolbar.opened,s=e.keyCode===K.TAB;return!(e.shiftKey||s||n||r||o||i)}activateToolbox(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()}activateBlockSettings(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}}class gu{constructor(e){this.blocks=[],this.workingArea=e}get length(){return this.blocks.length}get array(){return this.blocks}get nodes(){return Rx(this.workingArea.children)}static set(e,n,r){return isNaN(Number(n))?(Reflect.set(e,n,r),!0):(e.insert(+n,r),!0)}static get(e,n){return isNaN(Number(n))?Reflect.get(e,n):e.get(+n)}push(e){this.blocks.push(e),this.insertToDOM(e)}swap(e,n){const r=this.blocks[n];I.swap(this.blocks[e].holder,r.holder),this.blocks[n]=this.blocks[e],this.blocks[e]=r}move(e,n){const r=this.blocks.splice(n,1)[0],o=e-1,i=Math.max(0,o),s=this.blocks[i];e>0?this.insertToDOM(r,"afterend",s):this.insertToDOM(r,"beforebegin",s),this.blocks.splice(e,0,r);const a=this.composeBlockEvent("move",{fromIndex:n,toIndex:e});r.call(Jt.MOVED,a)}insert(e,n,r=!1){if(!this.length){this.push(n);return}e>this.length&&(e=this.length),r&&(this.blocks[e].holder.remove(),this.blocks[e].call(Jt.REMOVED));const o=r?1:0;if(this.blocks.splice(e,o,n),e>0){const i=this.blocks[e-1];this.insertToDOM(n,"afterend",i)}else{const i=this.blocks[e+1];i?this.insertToDOM(n,"beforebegin",i):this.insertToDOM(n)}}replace(e,n){if(this.blocks[e]===void 0)throw Error("Incorrect index");this.blocks[e].holder.replaceWith(n.holder),this.blocks[e]=n}insertMany(e,n){const r=new DocumentFragment;for(const o of e)r.appendChild(o.holder);if(this.length>0){if(n>0){const o=Math.min(n-1,this.length-1);this.blocks[o].holder.after(r)}else n===0&&this.workingArea.prepend(r);this.blocks.splice(n,0,...e)}else this.blocks.push(...e),this.workingArea.appendChild(r);e.forEach(o=>o.call(Jt.RENDERED))}remove(e){isNaN(e)&&(e=this.length-1),this.blocks[e].holder.remove(),this.blocks[e].call(Jt.REMOVED),this.blocks.splice(e,1)}removeAll(){this.workingArea.innerHTML="",this.blocks.forEach(e=>e.call(Jt.REMOVED)),this.blocks.length=0}insertAfter(e,n){const r=this.blocks.indexOf(e);this.insert(r+1,n)}get(e){return this.blocks[e]}indexOf(e){return this.blocks.indexOf(e)}insertToDOM(e,n,r){n?r.holder.insertAdjacentElement(n,e.holder):this.workingArea.appendChild(e.holder),e.call(Jt.RENDERED)}composeBlockEvent(e,n){return new CustomEvent(e,{detail:n})}}const yv="block-removed",bv="block-added",SO="block-moved",xv="block-changed";class CO{constructor(){this.completed=Promise.resolve()}add(e){return new Promise((n,r)=>{this.completed=this.completed.then(e).then(n).catch(r)})}}class EO extends Y{constructor(){super(...arguments),this._currentBlockIndex=-1,this._blocks=null}get currentBlockIndex(){return this._currentBlockIndex}set currentBlockIndex(e){this._currentBlockIndex=e}get firstBlock(){return this._blocks[0]}get lastBlock(){return this._blocks[this._blocks.length-1]}get currentBlock(){return this._blocks[this.currentBlockIndex]}set currentBlock(e){this.currentBlockIndex=this.getBlockIndex(e)}get nextBlock(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}get nextContentfulBlock(){return this.blocks.slice(this.currentBlockIndex+1).find(e=>!!e.inputs.length)}get previousContentfulBlock(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find(e=>!!e.inputs.length)}get previousBlock(){return this.currentBlockIndex===0?null:this._blocks[this.currentBlockIndex-1]}get blocks(){return this._blocks.array}get isEditorEmpty(){return this.blocks.every(e=>e.isEmpty)}prepare(){const e=new gu(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(e,{set:gu.set,get:gu.get}),this.listeners.on(document,"copy",n=>this.Editor.BlockEvents.handleCommandC(n))}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}composeBlock({tool:e,data:n={},id:r=void 0,tunes:o={}}){const i=this.Editor.ReadOnly.isEnabled,s=this.Editor.Tools.blockTools.get(e),a=new ln({id:r,data:n,tool:s,api:this.Editor.API,readOnly:i,tunesData:o},this.eventsDispatcher);return i||window.requestIdleCallback(()=>{this.bindBlockEvents(a)},{timeout:2e3}),a}insert({id:e=void 0,tool:n=this.config.defaultBlock,data:r={},index:o,needToFocus:i=!0,replace:s=!1,tunes:a={}}={}){let l=o;l===void 0&&(l=this.currentBlockIndex+(s?0:1));const c=this.composeBlock({id:e,tool:n,data:r,tunes:a});return s&&this.blockDidMutated(yv,this.getBlockByIndex(l),{index:l}),this._blocks.insert(l,c,s),this.blockDidMutated(bv,c,{index:l}),i?this.currentBlockIndex=l:l<=this.currentBlockIndex&&this.currentBlockIndex++,c}insertMany(e,n=0){this._blocks.insertMany(e,n)}async update(e,n){const r=await e.data,o=this.composeBlock({id:e.id,tool:e.name,data:Object.assign({},r,n),tunes:e.tunes}),i=this.getBlockIndex(e);return this._blocks.replace(i,o),this.blockDidMutated(xv,o,{index:i}),o}replace(e,n,r){const o=this.getBlockIndex(e);this.insert({tool:n,data:r,index:o,replace:!0})}paste(e,n,r=!1){const o=this.insert({tool:e,replace:r});try{window.requestIdleCallback(()=>{o.call(Jt.ON_PASTE,n)})}catch(i){Q(`${e}: onPaste callback call is failed`,"error",i)}return o}insertDefaultBlockAtIndex(e,n=!1){const r=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[e]=r,this.blockDidMutated(bv,r,{index:e}),n?this.currentBlockIndex=e:e<=this.currentBlockIndex&&this.currentBlockIndex++,r}insertAtEnd(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}async mergeBlocks(e,n){const r=await n.data;xt(r)||await e.mergeWith(r),this.removeBlock(n),this.currentBlockIndex=this._blocks.indexOf(e)}removeBlock(e,n=!0){return new Promise(r=>{const o=this._blocks.indexOf(e);if(!this.validateIndex(o))throw new Error("Can't find a Block to remove");e.destroy(),this._blocks.remove(o),this.blockDidMutated(yv,e,{index:o}),this.currentBlockIndex>=o&&this.currentBlockIndex--,this.blocks.length?o===0&&(this.currentBlockIndex=0):(this.currentBlockIndex=-1,n&&this.insert()),r()})}removeSelectedBlocks(){let e;for(let n=this.blocks.length-1;n>=0;n--)this.blocks[n].selected&&(this.removeBlock(this.blocks[n]),e=n);return e}removeAllBlocks(){for(let e=this.blocks.length-1;e>=0;e--)this._blocks.remove(e);this.currentBlockIndex=-1,this.insert(),this.currentBlock.firstInput.focus()}split(){const e=this.Editor.Caret.extractFragmentFromCaretPosition(),n=I.make("div");n.appendChild(e);const r={text:I.isEmpty(n)?"":n.innerHTML};return this.insert({data:r})}getBlockByIndex(e){return e===-1&&(e=this._blocks.length-1),this._blocks[e]}getBlockIndex(e){return this._blocks.indexOf(e)}getBlockById(e){return this._blocks.array.find(n=>n.id===e)}getBlock(e){I.isElement(e)||(e=e.parentNode);const n=this._blocks.nodes,r=e.closest(`.${ln.CSS.wrapper}`),o=n.indexOf(r);if(o>=0)return this._blocks[o]}setCurrentBlockByChildNode(e){I.isElement(e)||(e=e.parentNode);const n=e.closest(`.${ln.CSS.wrapper}`);if(!n)return;const r=n.closest(`.${this.Editor.UI.CSS.editorWrapper}`);if(r!=null&&r.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(n),this.currentBlock.updateCurrentInput(),this.currentBlock}getBlockByChildNode(e){if(!e||!(e instanceof Node))return;I.isElement(e)||(e=e.parentNode);const n=e.closest(`.${ln.CSS.wrapper}`);return this.blocks.find(r=>r.holder===n)}swap(e,n){this._blocks.swap(e,n),this.currentBlockIndex=n}move(e,n=this.currentBlockIndex){if(isNaN(e)||isNaN(n)){Q("Warning during 'move' call: incorrect indices provided.","warn");return}if(!this.validateIndex(e)||!this.validateIndex(n)){Q("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn");return}this._blocks.move(e,n),this.currentBlockIndex=e,this.blockDidMutated(SO,this.currentBlock,{fromIndex:n,toIndex:e})}async convert(e,n,r){if(!await e.save())throw new Error("Could not convert Block. Failed to extract original Block data.");const o=this.Editor.Tools.blockTools.get(n);if(!o)throw new Error(`Could not convert Block. Tool ${n} not found.`);const i=await e.exportDataAsString(),s=cn(i,o.sanitizeConfig);let a=CR(s,o.conversionConfig);r&&(a=Object.assign(a,r)),this.replace(e,o.name,a)}dropPointer(){this.currentBlockIndex=-1}async clear(e=!1){const n=new CO;this.blocks.forEach(r=>{n.add(async()=>{await this.removeBlock(r,!1)})}),await n.completed,this.dropPointer(),e&&this.insert(),this.Editor.UI.checkEmptiness()}async destroy(){await Promise.all(this.blocks.map(e=>e.destroy()))}bindBlockEvents(e){const{BlockEvents:n}=this.Editor;this.readOnlyMutableListeners.on(e.holder,"keydown",r=>{n.keydown(r)}),this.readOnlyMutableListeners.on(e.holder,"keyup",r=>{n.keyup(r)}),this.readOnlyMutableListeners.on(e.holder,"dragover",r=>{n.dragOver(r)}),this.readOnlyMutableListeners.on(e.holder,"dragleave",r=>{n.dragLeave(r)}),e.on("didMutated",r=>this.blockDidMutated(xv,r,{index:this.getBlockIndex(r)}))}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}enableModuleBindings(){this.readOnlyMutableListeners.on(document,"cut",e=>this.Editor.BlockEvents.handleCommandX(e)),this.blocks.forEach(e=>{this.bindBlockEvents(e)})}validateIndex(e){return!(e<0||e>=this._blocks.length)}blockDidMutated(e,n,r){const o=new CustomEvent(e,{detail:{target:new Sr(n),...r}});return this.eventsDispatcher.emit(jx,{event:o}),n}}class TO extends Y{constructor(){super(...arguments),this.anyBlockSelectedCache=null,this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1}get sanitizerConfig(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}get allBlocksSelected(){const{BlockManager:e}=this.Editor;return e.blocks.every(n=>n.selected===!0)}set allBlocksSelected(e){const{BlockManager:n}=this.Editor;n.blocks.forEach(r=>{r.selected=e}),this.clearCache()}get anyBlockSelected(){const{BlockManager:e}=this.Editor;return this.anyBlockSelectedCache===null&&(this.anyBlockSelectedCache=e.blocks.some(n=>n.selected===!0)),this.anyBlockSelectedCache}get selectedBlocks(){return this.Editor.BlockManager.blocks.filter(e=>e.selected)}prepare(){this.selection=new D,Ho.add({name:"CMD+A",handler:e=>{const{BlockManager:n,ReadOnly:r}=this.Editor;if(r.isEnabled){e.preventDefault(),this.selectAllBlocks();return}n.currentBlock&&this.handleCommandA(e)},on:this.Editor.UI.nodes.redactor})}toggleReadOnly(){D.get().removeAllRanges(),this.allBlocksSelected=!1}unSelectBlockByIndex(e){const{BlockManager:n}=this.Editor;let r;isNaN(e)?r=n.currentBlock:r=n.getBlockByIndex(e),r.selected=!1,this.clearCache()}clearSelection(e,n=!1){const{BlockManager:r,Caret:o,RectangleSelection:i}=this.Editor;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;const s=e&&e instanceof KeyboardEvent,a=s&&Lx(e.keyCode);if(this.anyBlockSelected&&s&&a&&!D.isSelectionExists){const l=r.removeSelectedBlocks();r.insertDefaultBlockAtIndex(l,!0),o.setToBlock(r.currentBlock),El(()=>{const c=e.key;o.insertContentAtCaretPosition(c.length>1?"":c)},20)()}if(this.Editor.CrossBlockSelection.clear(e),!this.anyBlockSelected||i.isRectActivated()){this.Editor.RectangleSelection.clearSelection();return}n&&this.selection.restore(),this.allBlocksSelected=!1}copySelectedBlocks(e){e.preventDefault();const n=I.make("div");this.selectedBlocks.forEach(i=>{const s=cn(i.holder.innerHTML,this.sanitizerConfig),a=I.make("p");a.innerHTML=s,n.appendChild(a)});const r=Array.from(n.childNodes).map(i=>i.textContent).join(`

`),o=n.innerHTML;return e.clipboardData.setData("text/plain",r),e.clipboardData.setData("text/html",o),Promise.all(this.selectedBlocks.map(i=>i.save())).then(i=>{try{e.clipboardData.setData(this.Editor.Paste.MIME_TYPE,JSON.stringify(i))}catch{}})}selectBlockByIndex(e){const{BlockManager:n}=this.Editor,r=n.getBlockByIndex(e);r!==void 0&&this.selectBlock(r)}selectBlock(e){this.selection.save(),D.get().removeAllRanges(),e.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}unselectBlock(e){e.selected=!1,this.clearCache()}clearCache(){this.anyBlockSelectedCache=null}destroy(){Ho.remove(this.Editor.UI.nodes.redactor,"CMD+A")}handleCommandA(e){if(this.Editor.RectangleSelection.clearSelection(),I.isNativeInput(e.target)&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}const n=this.Editor.BlockManager.getBlock(e.target),r=n.inputs;if(r.length>1&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}if(r.length===1&&!this.needToSelectAll){this.needToSelectAll=!0;return}this.needToSelectAll?(e.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1,this.Editor.ConversionToolbar.close()):this.readyToBlockSelection&&(e.preventDefault(),this.selectBlock(n),this.needToSelectAll=!0)}selectAllBlocks(){this.selection.save(),D.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}}class Tl extends Y{get positions(){return{START:"start",END:"end",DEFAULT:"default"}}static get CSS(){return{shadowCaret:"cdx-shadow-caret"}}get isAtStart(){const{currentBlock:e}=this.Editor.BlockManager;if(!e.focusable)return!0;const n=D.get(),r=I.getDeepestNode(e.currentInput);let o=n.focusNode;if(I.isNativeInput(r))return r.selectionEnd===0;if(!n.anchorNode)return!1;let i=o.textContent.search(/\S/);i===-1&&(i=0);let s=n.focusOffset;return o.nodeType!==Node.TEXT_NODE&&o.childNodes.length&&(o.childNodes[s]?(o=o.childNodes[s],s=0):(o=o.childNodes[s-1],s=o.textContent.length)),(I.isLineBreakTag(r)||I.isEmpty(r))&&this.getHigherLevelSiblings(o,"left").every(a=>{const l=I.isLineBreakTag(a),c=a.children.length===1&&I.isLineBreakTag(a.children[0]),d=l||c;return I.isEmpty(a)&&!d})&&s===i?!0:r===null||o===r&&s<=i}get isAtEnd(){const{currentBlock:e}=this.Editor.BlockManager;if(!e.focusable)return!0;const n=D.get();let r=n.focusNode;const o=I.getDeepestNode(e.currentInput,!0);if(I.isNativeInput(o))return o.selectionEnd===o.value.length;if(!n.focusNode)return!1;let i=n.focusOffset;if(r.nodeType!==Node.TEXT_NODE&&r.childNodes.length&&(r.childNodes[i-1]?(r=r.childNodes[i-1],i=r.textContent.length):(r=r.childNodes[0],i=0)),I.isLineBreakTag(o)||I.isEmpty(o)){const a=this.getHigherLevelSiblings(r,"right");if(a.every((l,c)=>c===a.length-1&&I.isLineBreakTag(l)||I.isEmpty(l)&&!I.isLineBreakTag(l))&&i===r.textContent.length)return!0}const s=o.textContent.replace(/\s+$/,"");return r===o&&i>=s.length}setToBlock(e,n=this.positions.DEFAULT,r=0){var o;const{BlockManager:i,BlockSelection:s}=this.Editor;if(s.clearSelection(),!e.focusable){(o=window.getSelection())==null||o.removeAllRanges(),s.selectBlock(e),i.currentBlock=e;return}let a;switch(n){case this.positions.START:a=e.firstInput;break;case this.positions.END:a=e.lastInput;break;default:a=e.currentInput}if(!a)return;const l=I.getDeepestNode(a,n===this.positions.END),c=I.getContentLength(l);switch(!0){case n===this.positions.START:r=0;break;case n===this.positions.END:case r>c:r=c;break}this.set(l,r),i.setCurrentBlockByChildNode(e.holder),i.currentBlock.currentInput=a}setToInput(e,n=this.positions.DEFAULT,r=0){const{currentBlock:o}=this.Editor.BlockManager,i=I.getDeepestNode(e);switch(n){case this.positions.START:this.set(i,0);break;case this.positions.END:this.set(i,I.getContentLength(i));break;default:r&&this.set(i,r)}o.currentInput=e}set(e,n=0){const{top:r,bottom:o}=D.setCursor(e,n),{innerHeight:i}=window;r<0?window.scrollBy(0,r-30):o>i&&window.scrollBy(0,o-i+30)}setToTheLastBlock(){const e=this.Editor.BlockManager.lastBlock;if(e)if(e.tool.isDefault&&e.isEmpty)this.setToBlock(e);else{const n=this.Editor.BlockManager.insertAtEnd();this.setToBlock(n)}}extractFragmentFromCaretPosition(){const e=D.get();if(e.rangeCount){const n=e.getRangeAt(0),r=this.Editor.BlockManager.currentBlock.currentInput;if(n.deleteContents(),r)if(I.isNativeInput(r)){const o=r,i=document.createDocumentFragment(),s=o.value.substring(0,o.selectionStart),a=o.value.substring(o.selectionStart);return i.textContent=a,o.value=s,i}else{const o=n.cloneRange();return o.selectNodeContents(r),o.setStart(n.endContainer,n.endOffset),o.extractContents()}}}navigateNext(e=!1){const{BlockManager:n}=this.Editor,{currentBlock:r,nextBlock:o}=n,{nextInput:i}=r,s=this.isAtEnd;let a=o;const l=e||s;if(i&&l)return this.setToInput(i,this.positions.START),!0;if(a===null){if(r.tool.isDefault||!l)return!1;a=n.insertAtEnd()}return l?(this.setToBlock(a,this.positions.START),!0):!1}navigatePrevious(e=!1){const{currentBlock:n,previousBlock:r}=this.Editor.BlockManager;if(!n)return!1;const{previousInput:o}=n,i=e||this.isAtStart;return o&&i?(this.setToInput(o,this.positions.END),!0):r!==null&&i?(this.setToBlock(r,this.positions.END),!0):!1}createShadow(e){const n=document.createElement("span");n.classList.add(Tl.CSS.shadowCaret),e.insertAdjacentElement("beforeend",n)}restoreCaret(e){const n=e.querySelector(`.${Tl.CSS.shadowCaret}`);if(!n)return;new D().expandToTag(n);const r=document.createRange();r.selectNode(n),r.extractContents()}insertContentAtCaretPosition(e){const n=document.createDocumentFragment(),r=document.createElement("div"),o=D.get(),i=D.range;r.innerHTML=e,Array.from(r.childNodes).forEach(c=>n.appendChild(c)),n.childNodes.length===0&&n.appendChild(new Text);const s=n.lastChild;i.deleteContents(),i.insertNode(n);const a=document.createRange(),l=s.nodeType===Node.TEXT_NODE?s:s.firstChild;l!==null&&l.textContent!==null&&a.setStart(l,l.textContent.length),o.removeAllRanges(),o.addRange(a)}getHigherLevelSiblings(e,n){let r=e;const o=[];for(;r.parentNode&&r.parentNode.contentEditable!=="true";)r=r.parentNode;const i=n==="left"?"previousSibling":"nextSibling";for(;r[i];)r=r[i],o.push(r);return o}}class _O extends Y{constructor(){super(...arguments),this.onMouseUp=()=>{this.listeners.off(document,"mouseover",this.onMouseOver),this.listeners.off(document,"mouseup",this.onMouseUp)},this.onMouseOver=e=>{const{BlockManager:n,BlockSelection:r}=this.Editor;if(e.relatedTarget===null&&e.target===null)return;const o=n.getBlockByChildNode(e.relatedTarget)||this.lastSelectedBlock,i=n.getBlockByChildNode(e.target);if(!(!o||!i)&&i!==o){if(o===this.firstSelectedBlock){D.get().removeAllRanges(),o.selected=!0,i.selected=!0,r.clearCache();return}if(i===this.firstSelectedBlock){o.selected=!1,i.selected=!1,r.clearCache();return}this.Editor.InlineToolbar.close(),this.toggleBlocksSelectedState(o,i),this.lastSelectedBlock=i}}}async prepare(){this.listeners.on(document,"mousedown",e=>{this.enableCrossBlockSelection(e)})}watchSelection(e){if(e.button!==sR.LEFT)return;const{BlockManager:n}=this.Editor;this.firstSelectedBlock=n.getBlock(e.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}get isCrossBlockSelectionStarted(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock}toggleBlockSelectedState(e=!0){const{BlockManager:n,BlockSelection:r}=this.Editor;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=n.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,r.clearCache(),D.get().removeAllRanges());const o=n.blocks.indexOf(this.lastSelectedBlock)+(e?1:-1),i=n.blocks[o];i&&(this.lastSelectedBlock.selected!==i.selected?(i.selected=!0,r.clearCache()):(this.lastSelectedBlock.selected=!1,r.clearCache()),this.lastSelectedBlock=i,this.Editor.InlineToolbar.close(),i.holder.scrollIntoView({block:"nearest"}))}clear(e){const{BlockManager:n,BlockSelection:r,Caret:o}=this.Editor,i=n.blocks.indexOf(this.firstSelectedBlock),s=n.blocks.indexOf(this.lastSelectedBlock);if(r.anyBlockSelected&&i>-1&&s>-1&&e&&e instanceof KeyboardEvent)switch(e.keyCode){case K.DOWN:case K.RIGHT:o.setToBlock(n.blocks[Math.max(i,s)],o.positions.END);break;case K.UP:case K.LEFT:o.setToBlock(n.blocks[Math.min(i,s)],o.positions.START);break;default:o.setToBlock(n.blocks[Math.max(i,s)],o.positions.END)}this.firstSelectedBlock=this.lastSelectedBlock=null}enableCrossBlockSelection(e){const{UI:n}=this.Editor;D.isCollapsed||this.Editor.BlockSelection.clearSelection(e),n.nodes.redactor.contains(e.target)?this.watchSelection(e):this.Editor.BlockSelection.clearSelection(e)}toggleBlocksSelectedState(e,n){const{BlockManager:r,BlockSelection:o}=this.Editor,i=r.blocks.indexOf(e),s=r.blocks.indexOf(n),a=e.selected!==n.selected;for(let l=Math.min(i,s);l<=Math.max(i,s);l++){const c=r.blocks[l];c!==this.firstSelectedBlock&&c!==(a?e:n)&&(r.blocks[l].selected=!r.blocks[l].selected,o.clearCache())}}}class IO extends Y{constructor(){super(...arguments),this.isStartedAtEditor=!1}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}enableModuleBindings(){const{UI:e}=this.Editor;this.readOnlyMutableListeners.on(e.nodes.holder,"drop",async n=>{await this.processDrop(n)},!0),this.readOnlyMutableListeners.on(e.nodes.holder,"dragstart",()=>{this.processDragStart()}),this.readOnlyMutableListeners.on(e.nodes.holder,"dragover",n=>{this.processDragOver(n)},!0)}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}async processDrop(e){const{BlockManager:n,Caret:r,Paste:o}=this.Editor;e.preventDefault(),n.blocks.forEach(s=>{s.dropTarget=!1}),D.isAtEditor&&!D.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1;const i=n.setCurrentBlockByChildNode(e.target);if(i)this.Editor.Caret.setToBlock(i,r.positions.END);else{const s=n.setCurrentBlockByChildNode(n.lastBlock.holder);this.Editor.Caret.setToBlock(s,r.positions.END)}await o.processDataTransfer(e.dataTransfer,!0)}processDragStart(){D.isAtEditor&&!D.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}processDragOver(e){e.preventDefault()}}class PO extends Y{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.disabled=!1,this.batchingTimeout=null,this.batchingOnChangeQueue=new Map,this.batchTime=400,this.mutationObserver=new MutationObserver(r=>{this.redactorChanged(r)}),this.eventsDispatcher.on(jx,r=>{this.particularBlockChanged(r.event)}),this.eventsDispatcher.on(Fx,()=>{this.disable()}),this.eventsDispatcher.on(Ux,()=>{this.enable()})}enable(){this.mutationObserver.observe(this.Editor.UI.nodes.redactor,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.disabled=!1}disable(){this.mutationObserver.disconnect(),this.disabled=!0}particularBlockChanged(e){this.disabled||!ae(this.config.onChange)||(this.batchingOnChangeQueue.set(`block:${e.detail.target.id}:event:${e.type}`,e),this.batchingTimeout&&clearTimeout(this.batchingTimeout),this.batchingTimeout=setTimeout(()=>{let n;this.batchingOnChangeQueue.size===1?n=this.batchingOnChangeQueue.values().next().value:n=Array.from(this.batchingOnChangeQueue.values()),this.config.onChange&&this.config.onChange(this.Editor.API.methods,n),this.batchingOnChangeQueue.clear()},this.batchTime))}redactorChanged(e){this.eventsDispatcher.emit(Yd,{mutations:e})}}const Xx=class extends Y{constructor(){super(...arguments),this.MIME_TYPE="application/x-editor-js",this.toolsTags={},this.tagsByTool={},this.toolsPatterns=[],this.toolsFiles={},this.exceptionList=[],this.processTool=t=>{try{const e=t.create({},{},!1);if(t.pasteConfig===!1){this.exceptionList.push(t.name);return}if(!ae(e.onPaste))return;this.getTagsConfig(t),this.getFilesConfig(t),this.getPatternsConfig(t)}catch(e){Q(`Paste handling for ${t.name} Tool hasn't been set up because of the error`,"warn",e)}},this.handlePasteEvent=async t=>{const{BlockManager:e,Toolbar:n}=this.Editor,r=e.setCurrentBlockByChildNode(t.target);!r||this.isNativeBehaviour(t.target)&&!t.clipboardData.types.includes("Files")||r&&this.exceptionList.includes(r.name)||(t.preventDefault(),this.processDataTransfer(t.clipboardData),n.close())}}async prepare(){this.processTools()}toggleReadOnly(t){t?this.unsetCallback():this.setCallback()}async processDataTransfer(t,e=!1){const{Tools:n}=this.Editor,r=t.types;if((r.includes?r.includes("Files"):r.contains("Files"))&&!xt(this.toolsFiles)){await this.processFiles(t.files);return}const o=t.getData(this.MIME_TYPE),i=t.getData("text/plain");let s=t.getData("text/html");if(o)try{this.insertEditorJSData(JSON.parse(o));return}catch{}e&&i.trim()&&s.trim()&&(s="<p>"+(s.trim()?s:i)+"</p>");const a=Object.keys(this.toolsTags).reduce((d,u)=>(d[u.toLowerCase()]=this.toolsTags[u].sanitizationConfig??{},d),{}),l=Object.assign({},a,n.getAllInlineToolsSanitizeConfig(),{br:{}}),c=cn(s,l);!c.trim()||c.trim()===i||!I.isHTMLString(c)?await this.processText(i):await this.processText(c,!0)}async processText(t,e=!1){const{Caret:n,BlockManager:r}=this.Editor,o=e?this.processHTML(t):this.processPlain(t);if(!o.length)return;if(o.length===1){o[0].isBlock?this.processSingleBlock(o.pop()):this.processInlinePaste(o.pop());return}const i=r.currentBlock&&r.currentBlock.tool.isDefault&&r.currentBlock.isEmpty;o.map(async(s,a)=>this.insertBlock(s,a===0&&i)),r.currentBlock&&n.setToBlock(r.currentBlock,n.positions.END)}setCallback(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}unsetCallback(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}processTools(){const t=this.Editor.Tools.blockTools;Array.from(t.values()).forEach(this.processTool)}collectTagNames(t){return sr(t)?[t]:Le(t)?Object.keys(t):[]}getTagsConfig(t){if(t.pasteConfig===!1)return;const e=t.pasteConfig.tags||[],n=[];e.forEach(r=>{const o=this.collectTagNames(r);n.push(...o),o.forEach(i=>{if(Object.prototype.hasOwnProperty.call(this.toolsTags,i)){Q(`Paste handler for ${t.name} Tool on ${i} tag is skipped because it is already used by ${this.toolsTags[i].tool.name} Tool.`,"warn");return}const s=Le(r)?r[i]:null;this.toolsTags[i.toUpperCase()]={tool:t,sanitizationConfig:s}})}),this.tagsByTool[t.name]=n.map(r=>r.toUpperCase())}getFilesConfig(t){if(t.pasteConfig===!1)return;const{files:e={}}=t.pasteConfig;let{extensions:n,mimeTypes:r}=e;!n&&!r||(n&&!Array.isArray(n)&&(Q(`extensions property of the onDrop config for ${t.name} Tool should be an array`),n=[]),r&&!Array.isArray(r)&&(Q(`mimeTypes property of the onDrop config for ${t.name} Tool should be an array`),r=[]),r&&(r=r.filter(o=>dR(o)?!0:(Q(`MIME type value ${o} for the ${t.name} Tool is not a valid MIME type`,"warn"),!1))),this.toolsFiles[t.name]={extensions:n||[],mimeTypes:r||[]})}getPatternsConfig(t){t.pasteConfig===!1||!t.pasteConfig.patterns||xt(t.pasteConfig.patterns)||Object.entries(t.pasteConfig.patterns).forEach(([e,n])=>{n instanceof RegExp||Q(`Pattern ${n} for ${t.name} Tool is skipped because it should be a Regexp instance.`,"warn"),this.toolsPatterns.push({key:e,pattern:n,tool:t})})}isNativeBehaviour(t){return I.isNativeInput(t)}async processFiles(t){const{BlockManager:e}=this.Editor;let n;n=await Promise.all(Array.from(t).map(o=>this.processFile(o))),n=n.filter(o=>!!o);const r=e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty;n.forEach((o,i)=>{e.paste(o.type,o.event,i===0&&r)})}async processFile(t){const e=uR(t),n=Object.entries(this.toolsFiles).find(([o,{mimeTypes:i,extensions:s}])=>{const[a,l]=t.type.split("/"),c=s.find(u=>u.toLowerCase()===e.toLowerCase()),d=i.find(u=>{const[h,g]=u.split("/");return h===a&&(g===l||g==="*")});return!!c||!!d});if(!n)return;const[r]=n;return{event:this.composePasteEvent("file",{file:t}),type:r}}processHTML(t){const{Tools:e}=this.Editor,n=I.make("DIV");return n.innerHTML=t,this.getNodes(n).map(r=>{let o,i=e.defaultTool,s=!1;switch(r.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:o=I.make("div"),o.appendChild(r);break;case Node.ELEMENT_NODE:o=r,s=!0,this.toolsTags[o.tagName]&&(i=this.toolsTags[o.tagName].tool);break}const{tags:a}=i.pasteConfig||{tags:[]},l=a.reduce((u,h)=>(this.collectTagNames(h).forEach(g=>{const v=Le(h)?h[g]:null;u[g.toLowerCase()]=v||{}}),u),{}),c=Object.assign({},l,i.baseSanitizeConfig);if(o.tagName.toLowerCase()==="table"){const u=cn(o.outerHTML,c);o=I.make("div",void 0,{innerHTML:u}).firstChild}else o.innerHTML=cn(o.innerHTML,c);const d=this.composePasteEvent("tag",{data:o});return{content:o,isBlock:s,tool:i.name,event:d}}).filter(r=>{const o=I.isEmpty(r.content),i=I.isSingleTag(r.content);return!o||i})}processPlain(t){const{defaultBlock:e}=this.config;if(!t)return[];const n=e;return t.split(/\r?\n/).filter(r=>r.trim()).map(r=>{const o=I.make("div");o.textContent=r;const i=this.composePasteEvent("tag",{data:o});return{content:o,tool:n,isBlock:!1,event:i}})}async processSingleBlock(t){const{Caret:e,BlockManager:n}=this.Editor,{currentBlock:r}=n;if(!r||t.tool!==r.name||!I.containsOnlyInlineElements(t.content.innerHTML)){this.insertBlock(t,(r==null?void 0:r.tool.isDefault)&&r.isEmpty);return}e.insertContentAtCaretPosition(t.content.innerHTML)}async processInlinePaste(t){const{BlockManager:e,Caret:n}=this.Editor,{content:r}=t;if(e.currentBlock&&e.currentBlock.tool.isDefault&&r.textContent.length<Xx.PATTERN_PROCESSING_MAX_LENGTH){const o=await this.processPattern(r.textContent);if(o){const i=e.currentBlock&&e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty,s=e.paste(o.tool,o.event,i);n.setToBlock(s,n.positions.END);return}}if(e.currentBlock&&e.currentBlock.currentInput){const o=e.currentBlock.tool.baseSanitizeConfig;document.execCommand("insertHTML",!1,cn(r.innerHTML,o))}else this.insertBlock(t)}async processPattern(t){const e=this.toolsPatterns.find(n=>{const r=n.pattern.exec(t);return r?t===r.shift():!1});return e?{event:this.composePasteEvent("pattern",{key:e.key,data:t}),tool:e.tool.name}:void 0}insertBlock(t,e=!1){const{BlockManager:n,Caret:r}=this.Editor,{currentBlock:o}=n;let i;if(e&&o&&o.isEmpty){i=n.paste(t.tool,t.event,!0),r.setToBlock(i,r.positions.END);return}i=n.paste(t.tool,t.event),r.setToBlock(i,r.positions.END)}insertEditorJSData(t){const{BlockManager:e,Caret:n,Tools:r}=this.Editor;$x(t,o=>r.blockTools.get(o).sanitizeConfig).forEach(({tool:o,data:i},s)=>{let a=!1;s===0&&(a=e.currentBlock&&e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty);const l=e.insert({tool:o,data:i,replace:a});n.setToBlock(l,n.positions.END)})}processElementNode(t,e,n){const r=Object.keys(this.toolsTags),o=t,{tool:i}=this.toolsTags[o.tagName]||{},s=this.tagsByTool[i==null?void 0:i.name]||[],a=r.includes(o.tagName),l=I.blockElements.includes(o.tagName.toLowerCase()),c=Array.from(o.children).some(({tagName:u})=>r.includes(u)&&!s.includes(u)),d=Array.from(o.children).some(({tagName:u})=>I.blockElements.includes(u.toLowerCase()));if(!l&&!a&&!c)return n.appendChild(o),[...e,n];if(a&&!c||l&&!d&&!c)return[...e,n,o]}getNodes(t){const e=Array.from(t.childNodes);let n;const r=(o,i)=>{if(I.isEmpty(i)&&!I.isSingleTag(i))return o;const s=o[o.length-1];let a=new DocumentFragment;switch(s&&I.isFragment(s)&&(a=o.pop()),i.nodeType){case Node.ELEMENT_NODE:if(n=this.processElementNode(i,o,a),n)return n;break;case Node.TEXT_NODE:return a.appendChild(i),[...o,a];default:return[...o,a]}return[...o,...Array.from(i.childNodes).reduce(r,[])]};return e.reduce(r,[])}composePasteEvent(t,e){return new CustomEvent(t,{detail:e})}};let Jx=Xx;Jx.PATTERN_PROCESSING_MAX_LENGTH=450;class AO extends Y{constructor(){super(...arguments),this.toolsDontSupportReadOnly=[],this.readOnlyEnabled=!1}get isEnabled(){return this.readOnlyEnabled}async prepare(){const{Tools:e}=this.Editor,{blockTools:n}=e,r=[];Array.from(n.entries()).forEach(([o,i])=>{i.isReadOnlySupported||r.push(o)}),this.toolsDontSupportReadOnly=r,this.config.readOnly&&r.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly)}async toggle(e=!this.readOnlyEnabled){e&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError();const n=this.readOnlyEnabled;this.readOnlyEnabled=e;for(const o in this.Editor)this.Editor[o].toggleReadOnly&&this.Editor[o].toggleReadOnly(e);if(n===e)return this.readOnlyEnabled;const r=await this.Editor.Saver.save();return await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(r.blocks),this.readOnlyEnabled}throwCriticalError(){throw new Dx(`To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(", ")} don't support read-only mode.`)}}class Vi extends Y{constructor(){super(...arguments),this.isRectSelectionActivated=!1,this.SCROLL_SPEED=3,this.HEIGHT_OF_SCROLL_ZONE=40,this.BOTTOM_SCROLL_ZONE=1,this.TOP_SCROLL_ZONE=2,this.MAIN_MOUSE_BUTTON=0,this.mousedown=!1,this.isScrolling=!1,this.inScrollZone=null,this.startX=0,this.startY=0,this.mouseX=0,this.mouseY=0,this.stackOfSelected=[],this.listenerIds=[]}static get CSS(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}prepare(){this.enableModuleBindings()}startSelection(e,n){const r=document.elementFromPoint(e-window.pageXOffset,n-window.pageYOffset);r.closest(`.${this.Editor.Toolbar.CSS.toolbar}`)||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);const o=[`.${ln.CSS.content}`,`.${this.Editor.Toolbar.CSS.toolbar}`,`.${this.Editor.InlineToolbar.CSS.inlineToolbar}`],i=r.closest("."+this.Editor.UI.CSS.editorWrapper),s=o.some(a=>!!r.closest(a));!i||s||(this.mousedown=!0,this.startX=e,this.startY=n)}endSelection(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}isRectActivated(){return this.isRectSelectionActivated}clearSelection(){this.isRectSelectionActivated=!1}enableModuleBindings(){const{container:e}=this.genHTML();this.listeners.on(e,"mousedown",n=>{this.processMouseDown(n)},!1),this.listeners.on(document.body,"mousemove",Kd(n=>{this.processMouseMove(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseleave",()=>{this.processMouseLeave()}),this.listeners.on(window,"scroll",Kd(n=>{this.processScroll(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseup",()=>{this.processMouseUp()},!1)}processMouseDown(e){e.button===this.MAIN_MOUSE_BUTTON&&(e.target.closest(I.allInputsSelector)!==null||this.startSelection(e.pageX,e.pageY))}processMouseMove(e){this.changingRectangle(e),this.scrollByZones(e.clientY)}processMouseLeave(){this.clearSelection(),this.endSelection()}processScroll(e){this.changingRectangle(e)}processMouseUp(){this.clearSelection(),this.endSelection()}scrollByZones(e){if(this.inScrollZone=null,e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),!this.inScrollZone){this.isScrolling=!1;return}this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0)}genHTML(){const{UI:e}=this.Editor,n=e.nodes.holder.querySelector("."+e.CSS.editorWrapper),r=I.make("div",Vi.CSS.overlay,{}),o=I.make("div",Vi.CSS.overlayContainer,{}),i=I.make("div",Vi.CSS.rect,{});return o.appendChild(i),r.appendChild(o),n.appendChild(r),this.overlayRectangle=i,{container:n,overlay:r}}scrollVertical(e){if(!(this.inScrollZone&&this.mousedown))return;const n=window.pageYOffset;window.scrollBy(0,e),this.mouseY+=window.pageYOffset-n,setTimeout(()=>{this.scrollVertical(e)},0)}changingRectangle(e){if(!this.mousedown)return;e.pageY!==void 0&&(this.mouseX=e.pageX,this.mouseY=e.pageY);const{rightPos:n,leftPos:r,index:o}=this.genInfoForMouseSelection(),i=this.startX>n&&this.mouseX>n,s=this.startX<r&&this.mouseX<r;this.rectCrossesBlocks=!(i||s),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),this.Editor.Toolbar.close(),o!==void 0&&(this.trySelectNextBlock(o),this.inverseSelection(),D.get().removeAllRanges())}shrinkRectangleToPoint(){this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`}inverseSelection(){const e=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!e)for(const n of this.stackOfSelected)this.Editor.BlockSelection.selectBlockByIndex(n);if(!this.rectCrossesBlocks&&e)for(const n of this.stackOfSelected)this.Editor.BlockSelection.unSelectBlockByIndex(n)}updateRectangleSize(){this.mouseY>=this.startY?(this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.mouseY-window.pageYOffset}px`):(this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.top=`${this.mouseY-window.pageYOffset}px`),this.mouseX>=this.startX?(this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.mouseX-window.pageXOffset}px`):(this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.left=`${this.mouseX-window.pageXOffset}px`)}genInfoForMouseSelection(){const e=document.body.offsetWidth/2,n=this.mouseY-window.pageYOffset,r=document.elementFromPoint(e,n),o=this.Editor.BlockManager.getBlockByChildNode(r);let i;o!==void 0&&(i=this.Editor.BlockManager.blocks.findIndex(d=>d.holder===o.holder));const s=this.Editor.BlockManager.lastBlock.holder.querySelector("."+ln.CSS.content),a=Number.parseInt(window.getComputedStyle(s).width,10)/2,l=e-a,c=e+a;return{index:i,leftPos:l,rightPos:c}}addBlockInSelection(e){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(e),this.stackOfSelected.push(e)}trySelectNextBlock(e){const n=this.stackOfSelected[this.stackOfSelected.length-1]===e,r=this.stackOfSelected.length,o=1,i=-1,s=0;if(n)return;const a=this.stackOfSelected[r-1]-this.stackOfSelected[r-2]>0;let l=s;r>1&&(l=a?o:i);const c=e>this.stackOfSelected[r-1]&&l===o,d=e<this.stackOfSelected[r-1]&&l===i,u=!(c||d||l===s);if(!u&&(e>this.stackOfSelected[r-1]||this.stackOfSelected[r-1]===void 0)){let v=this.stackOfSelected[r-1]+1||e;for(v;v<=e;v++)this.addBlockInSelection(v);return}if(!u&&e<this.stackOfSelected[r-1]){for(let v=this.stackOfSelected[r-1]-1;v>=e;v--)this.addBlockInSelection(v);return}if(!u)return;let h=r-1,g;for(e>this.stackOfSelected[r-1]?g=()=>e>this.stackOfSelected[h]:g=()=>e<this.stackOfSelected[h];g();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[h]),this.stackOfSelected.pop(),h--}}class NO extends Y{async render(e){return new Promise(n=>{const{Tools:r,BlockManager:o}=this.Editor;if(e.length===0)o.insert();else{const i=e.map(({type:s,data:a,tunes:l,id:c})=>{r.available.has(s)===!1&&(_t(`Tool ${s} is not found. Check 'tools' property at the Editor.js config.`,"warn"),a=this.composeStubDataForTool(s,a,c),s=r.stubTool);let d;try{d=o.composeBlock({id:c,tool:s,data:a,tunes:l})}catch(u){Q(`Block ${s} skipped because of plugins error`,"error",{data:a,error:u}),a=this.composeStubDataForTool(s,a,c),s=r.stubTool,d=o.composeBlock({id:c,tool:s,data:a,tunes:l})}return d});o.insertMany(i)}window.requestIdleCallback(()=>{n()},{timeout:2e3})})}composeStubDataForTool(e,n,r){const{Tools:o}=this.Editor;let i=e;if(o.unavailable.has(e)){const s=o.unavailable.get(e).toolbox;s!==void 0&&s[0].title!==void 0&&(i=s[0].title)}return{savedData:{id:r,type:e,data:n},title:i}}}class BO extends Y{async save(){const{BlockManager:e,Tools:n}=this.Editor,r=e.blocks,o=[];try{r.forEach(a=>{o.push(this.getSavedData(a))});const i=await Promise.all(o),s=await $x(i,a=>n.blockTools.get(a).sanitizeConfig);return this.makeOutput(s)}catch(i){_t("Saving failed due to the Error %o","error",i)}}async getSavedData(e){const n=await e.save(),r=n&&await e.validate(n.data);return{...n,isValid:r}}makeOutput(e){const n=[];return e.forEach(({id:r,tool:o,data:i,tunes:s,isValid:a})=>{if(!a){Q(`Block ${o} skipped because saved data is invalid`);return}if(o===this.Editor.Tools.stubTool){n.push(i);return}const l={id:r,type:o,data:i,...!xt(s)&&{tunes:s}};n.push(l)}),{time:+new Date,blocks:n,version:"2.29.1"}}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".ce-paragraph{line-height:1.6em;outline:none}.ce-paragraph[data-placeholder]:empty:before{content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:before{opacity:1}.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty:before,.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus:before{opacity:0}.ce-paragraph p:first-of-type{margin-top:0}.ce-paragraph p:last-of-type{margin-bottom:0}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const LO='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>';/**
 * Base Paragraph Block for the Editor.js.
 * Represents a regular text block
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */class Zf{static get DEFAULT_PLACEHOLDER(){return""}constructor({data:e,config:n,api:r,readOnly:o}){this.api=r,this.readOnly=o,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=n.placeholder?n.placeholder:Zf.DEFAULT_PLACEHOLDER,this._data={},this._element=null,this._preserveBlank=n.preserveBlank!==void 0?n.preserveBlank:!1,this.data=e}onKeyUp(e){if(e.code!=="Backspace"&&e.code!=="Delete")return;const{textContent:n}=this._element;n===""&&(this._element.innerHTML="")}drawView(){const e=document.createElement("DIV");return e.classList.add(this._CSS.wrapper,this._CSS.block),e.contentEditable=!1,e.dataset.placeholder=this.api.i18n.t(this._placeholder),this._data.text&&(e.innerHTML=this._data.text),this.readOnly||(e.contentEditable=!0,e.addEventListener("keyup",this.onKeyUp)),e}render(){return this._element=this.drawView(),this._element}merge(e){const n={text:this.data.text+e.text};this.data=n}validate(e){return!(e.text.trim()===""&&!this._preserveBlank)}save(e){return{text:e.innerHTML}}onPaste(e){const n={text:e.detail.data.innerHTML};this.data=n}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{text:{br:!0}}}static get isReadOnlySupported(){return!0}get data(){if(this._element!==null){const e=this._element.innerHTML;this._data.text=e}return this._data}set data(e){this._data=e||{},this._element!==null&&this.hydrate()}hydrate(){window.requestAnimationFrame(()=>{this._element.innerHTML=this._data.text||""})}static get pasteConfig(){return{tags:["P"]}}static get toolbox(){return{icon:LO,title:"Text"}}}class ep{constructor(){this.commandName="bold",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--bold"},this.nodes={button:void 0}}static get sanitize(){return{b:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=eO,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+B"}}ep.isInline=!0;ep.title="Bold";class tp{constructor(){this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}static get sanitize(){return{i:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=oO,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+I"}}tp.isInline=!0;tp.title="Italic";class np{constructor({api:e}){this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=e.toolbar,this.inlineToolbar=e.inlineToolbar,this.notifier=e.notifier,this.i18n=e.i18n,this.selection=new D}static get sanitize(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=gv,this.nodes.button}renderActions(){return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",e=>{e.keyCode===this.ENTER_KEY&&this.enterPressed(e)}),this.nodes.input}surround(e){if(e){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());const n=this.selection.findParentTag("A");if(n){this.selection.expandToTag(n),this.unlink(),this.closeActions(),this.checkState(),this.toolbar.close();return}}this.toggleActions()}checkState(){const e=this.selection.findParentTag("A");if(e){this.nodes.button.innerHTML=lO,this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();const n=e.getAttribute("href");this.nodes.input.value=n!=="null"?n:"",this.selection.save()}else this.nodes.button.innerHTML=gv,this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!e}clear(){this.closeActions()}get shortcut(){return"CMD+K"}toggleActions(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}openActions(e=!1){this.nodes.input.classList.add(this.CSS.inputShowed),e&&this.nodes.input.focus(),this.inputOpened=!0}closeActions(e=!0){if(this.selection.isFakeBackgroundEnabled){const n=new D;n.save(),this.selection.restore(),this.selection.removeFakeBackground(),n.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",e&&this.selection.clearSaved(),this.inputOpened=!1}enterPressed(e){let n=this.nodes.input.value||"";if(!n.trim()){this.selection.restore(),this.unlink(),e.preventDefault(),this.closeActions();return}if(!this.validateURL(n)){this.notifier.show({message:"Pasted link is not valid.",style:"error"}),Q("Incorrect Link pasted","warn",n);return}n=this.prepareLink(n),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(n),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.selection.collapseToEnd(),this.inlineToolbar.close()}validateURL(e){return!/\s/.test(e)}prepareLink(e){return e=e.trim(),e=this.addProtocol(e),e}addProtocol(e){if(/^(\w+):(\/\/)?/.test(e))return e;const n=/^\/[^/\s]/.test(e),r=e.substring(0,1)==="#",o=/^\/\/[^/\s]/.test(e);return!n&&!r&&!o&&(e="http://"+e),e}insertLink(e){const n=this.selection.findParentTag("A");n&&this.selection.expandToTag(n),document.execCommand(this.commandLink,!1,e)}unlink(){document.execCommand(this.commandUnlink)}}np.isInline=!0;np.title="Link";class Qx{constructor({data:e,api:n}){this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=n,this.title=e.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=e.savedData,this.wrapper=this.make()}render(){return this.wrapper}save(){return this.savedData}make(){const e=I.make("div",this.CSS.wrapper),n=cO,r=I.make("div",this.CSS.info),o=I.make("div",this.CSS.title,{textContent:this.title}),i=I.make("div",this.CSS.subtitle,{textContent:this.subtitle});return e.innerHTML=n,r.appendChild(o),r.appendChild(i),e.appendChild(r),e}}Qx.isReadOnlySupported=!0;class RO extends Qf{constructor(){super(...arguments),this.type=fc.Inline}get title(){return this.constructable[Jf.Title]}create(){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings})}}class OO extends Qf{constructor(){super(...arguments),this.type=fc.Tune}create(e,n){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings,block:n,data:e})}}let Dt=class eo extends Map{get blockTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isBlock());return new eo(e)}get inlineTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isInline());return new eo(e)}get blockTunes(){const e=Array.from(this.entries()).filter(([,n])=>n.isTune());return new eo(e)}get internalTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isInternal);return new eo(e)}get externalTools(){const e=Array.from(this.entries()).filter(([,n])=>!n.isInternal);return new eo(e)}};var MO=Object.defineProperty,DO=Object.getOwnPropertyDescriptor,Zx=(t,e,n,r)=>{for(var o=r>1?void 0:r?DO(e,n):e,i=t.length-1,s;i>=0;i--)(s=t[i])&&(o=(r?s(e,n,o):s(o))||o);return r&&o&&MO(e,n,o),o};class rp extends Qf{constructor(){super(...arguments),this.type=fc.Block,this.inlineTools=new Dt,this.tunes=new Dt}create(e,n,r){return new this.constructable({data:e,block:n,readOnly:r,api:this.api.getMethodsForTool(this),config:this.settings})}get isReadOnlySupported(){return this.constructable[Zr.IsReadOnlySupported]===!0}get isLineBreaksEnabled(){return this.constructable[Zr.IsEnabledLineBreaks]}get toolbox(){const e=this.constructable[Zr.Toolbox],n=this.config[La.Toolbox];if(!xt(e)&&n!==!1)return n?Array.isArray(e)?Array.isArray(n)?n.map((r,o)=>{const i=e[o];return i?{...i,...r}:r}):[n]:Array.isArray(n)?n:[{...e,...n}]:Array.isArray(e)?e:[e]}get conversionConfig(){return this.constructable[Zr.ConversionConfig]}get enabledInlineTools(){return this.config[La.EnabledInlineTools]||!1}get enabledBlockTunes(){return this.config[La.EnabledBlockTunes]}get pasteConfig(){return this.constructable[Zr.PasteConfig]??{}}get sanitizeConfig(){const e=super.sanitizeConfig,n=this.baseSanitizeConfig;if(xt(e))return n;const r={};for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){const i=e[o];Le(i)?r[o]=Object.assign({},n,i):r[o]=i}return r}get baseSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(n=>Object.assign(e,n.sanitizeConfig)),Array.from(this.tunes.values()).forEach(n=>Object.assign(e,n.sanitizeConfig)),e}}Zx([ri],rp.prototype,"sanitizeConfig",1);Zx([ri],rp.prototype,"baseSanitizeConfig",1);class jO{constructor(e,n,r){this.api=r,this.config=e,this.editorConfig=n}get(e){const{class:n,isInternal:r=!1,...o}=this.config[e],i=this.getConstructor(n);return new i({name:e,constructable:n,config:o,api:this.api,isDefault:e===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:r})}getConstructor(e){switch(!0){case e[Jf.IsInline]:return RO;case e[Yx.IsTune]:return OO;default:return rp}}}class ew{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:zx,title:this.api.i18n.t("Move down"),onActivate:()=>this.handleClick(),name:"move-down"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(e+1);if(!n)throw new Error("Unable to move Block down since it is already the last");const r=n.holder,o=r.getBoundingClientRect();let i=Math.abs(window.innerHeight-r.offsetHeight);o.top<window.innerHeight&&(i=window.scrollY+r.offsetHeight),window.scrollTo(0,i),this.api.blocks.move(e+1),this.api.toolbar.toggleBlockSettings(!0)}}ew.isTune=!0;class tw{constructor({api:e}){this.api=e}render(){return{icon:nO,title:this.api.i18n.t("Delete"),name:"delete",confirmation:{title:this.api.i18n.t("Click to delete"),onActivate:()=>this.handleClick()}}}handleClick(){this.api.blocks.delete()}}tw.isTune=!0;class nw{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:tO,title:this.api.i18n.t("Move up"),onActivate:()=>this.handleClick(),name:"move-up"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(e),r=this.api.blocks.getBlockByIndex(e-1);if(e===0||!n||!r)throw new Error("Unable to move Block up since it is already the first");const o=n.holder,i=r.holder,s=o.getBoundingClientRect(),a=i.getBoundingClientRect();let l;a.top>0?l=Math.abs(s.top)-Math.abs(a.top):l=Math.abs(s.top)+a.height,window.scrollBy(0,-1*l),this.api.blocks.move(e-1),this.api.toolbar.toggleBlockSettings(!0)}}nw.isTune=!0;var FO=Object.defineProperty,UO=Object.getOwnPropertyDescriptor,$O=(t,e,n,r)=>{for(var o=r>1?void 0:r?UO(e,n):e,i=t.length-1,s;i>=0;i--)(s=t[i])&&(o=(r?s(e,n,o):s(o))||o);return r&&o&&FO(e,n,o),o};class rw extends Y{constructor(){super(...arguments),this.stubTool="stub",this.toolsAvailable=new Dt,this.toolsUnavailable=new Dt}get available(){return this.toolsAvailable}get unavailable(){return this.toolsUnavailable}get inlineTools(){return this.available.inlineTools}get blockTools(){return this.available.blockTools}get blockTunes(){return this.available.blockTunes}get defaultTool(){return this.blockTools.get(this.config.defaultBlock)}get internal(){return this.available.internalTools}async prepare(){if(this.validateTools(),this.config.tools=Gd({},this.internalTools,this.config.tools),!Object.prototype.hasOwnProperty.call(this.config,"tools")||Object.keys(this.config.tools).length===0)throw Error("Can't start without tools");const e=this.prepareConfig();this.factory=new jO(e,this.config,this.Editor.API);const n=this.getListOfPrepareFunctions(e);if(n.length===0)return Promise.resolve();await cR(n,r=>{this.toolPrepareMethodSuccess(r)},r=>{this.toolPrepareMethodFallback(r)}),this.prepareBlockTools()}getAllInlineToolsSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(n=>{Object.assign(e,n.sanitizeConfig)}),e}destroy(){Object.values(this.available).forEach(async e=>{ae(e.reset)&&await e.reset()})}get internalTools(){return{bold:{class:ep,isInternal:!0},italic:{class:tp,isInternal:!0},link:{class:np,isInternal:!0},paragraph:{class:Zf,inlineToolbar:!0,isInternal:!0},stub:{class:Qx,isInternal:!0},moveUp:{class:nw,isInternal:!0},delete:{class:tw,isInternal:!0},moveDown:{class:ew,isInternal:!0}}}toolPrepareMethodSuccess(e){const n=this.factory.get(e.toolName);if(n.isInline()){const r=["render","surround","checkState"].filter(o=>!n.create()[o]);if(r.length){Q(`Incorrect Inline Tool: ${n.name}. Some of required methods is not implemented %o`,"warn",r),this.toolsUnavailable.set(n.name,n);return}}this.toolsAvailable.set(n.name,n)}toolPrepareMethodFallback(e){this.toolsUnavailable.set(e.toolName,this.factory.get(e.toolName))}getListOfPrepareFunctions(e){const n=[];return Object.entries(e).forEach(([r,o])=>{n.push({function:ae(o.class.prepare)?o.class.prepare:()=>{},data:{toolName:r,config:o.config}})}),n}prepareBlockTools(){Array.from(this.blockTools.values()).forEach(e=>{this.assignInlineToolsToBlockTool(e),this.assignBlockTunesToBlockTool(e)})}assignInlineToolsToBlockTool(e){if(this.config.inlineToolbar!==!1){if(e.enabledInlineTools===!0){e.inlineTools=new Dt(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map(n=>[n,this.inlineTools.get(n)]):Array.from(this.inlineTools.entries()));return}Array.isArray(e.enabledInlineTools)&&(e.inlineTools=new Dt(e.enabledInlineTools.map(n=>[n,this.inlineTools.get(n)])))}}assignBlockTunesToBlockTool(e){if(e.enabledBlockTunes!==!1){if(Array.isArray(e.enabledBlockTunes)){const n=new Dt(e.enabledBlockTunes.map(r=>[r,this.blockTunes.get(r)]));e.tunes=new Dt([...n,...this.blockTunes.internalTools]);return}if(Array.isArray(this.config.tunes)){const n=new Dt(this.config.tunes.map(r=>[r,this.blockTunes.get(r)]));e.tunes=new Dt([...n,...this.blockTunes.internalTools]);return}e.tunes=this.blockTunes.internalTools}}validateTools(){for(const e in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,e)){if(e in this.internalTools)return;const n=this.config.tools[e];if(!ae(n)&&!ae(n.class))throw Error(`Tool ${e} must be a constructor function or an object with function in the class property`)}}prepareConfig(){const e={};for(const n in this.config.tools)Le(this.config.tools[n])?e[n]=this.config.tools[n]:e[n]={class:this.config.tools[n]};return e}}$O([ri],rw.prototype,"getAllInlineToolsSanitizeConfig",1);const VO=`:root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0px;left:0px;right:0px;bottom:0px;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}.codex-editor ::-moz-selection{background-color:#d4ecff}.codex-editor ::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;opacity:0;visibility:hidden;-webkit-transition:opacity .25s ease;transition:opacity .25s ease;will-change:opacity,left,top;top:0;left:0;z-index:3}.ce-inline-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-inline-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-inline-toolbar--showed{opacity:1;visibility:visible}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;border-radius:0;line-height:normal}.ce-inline-tool svg{width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#eff2f5}}.ce-inline-tool--active{color:#388ae5}.ce-inline-tool--focused{background:rgba(34,186,255,.08)!important}.ce-inline-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-inline-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{outline:none;border:0;border-radius:0 0 4px 4px;margin:0;font-size:13px;padding:10px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;border-top:1px solid rgba(201,201,204,.48);-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-conversion-toolbar{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;opacity:0;visibility:hidden;will-change:transform,opacity;-webkit-transition:opacity .1s ease,-webkit-transform .1s ease;transition:opacity .1s ease,-webkit-transform .1s ease;transition:transform .1s ease,opacity .1s ease;transition:transform .1s ease,opacity .1s ease,-webkit-transform .1s ease;-webkit-transform:translateY(-8px);transform:translateY(-8px);left:-1px;width:190px;margin-top:5px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-conversion-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-conversion-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-conversion-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:none;transform:none}.ce-conversion-toolbar [hidden]{display:none!important}.ce-conversion-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-conversion-toolbar__label{color:#707684;font-size:11px;font-weight:500;letter-spacing:.33px;padding:10px 10px 5px;text-transform:uppercase}.ce-conversion-tool{display:-webkit-box;display:-ms-flexbox;display:flex;padding:5px 10px;font-size:14px;line-height:20px;font-weight:500;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-conversion-tool--hidden{display:none}.ce-conversion-tool--focused{background:rgba(34,186,255,.08)!important}.ce-conversion-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-conversion-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-conversion-tool:hover{background:#eff2f5}.ce-conversion-tool__icon{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px rgba(201,201,204,.48);box-shadow:0 0 0 1px #c9c9cc7a;border-radius:5px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background:#fff;-webkit-box-sizing:content-box;box-sizing:content-box;-ms-flex-negative:0;flex-shrink:0;margin-right:10px}.ce-conversion-tool__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-conversion-tool__icon{width:36px;height:36px;border-radius:8px}.ce-conversion-tool__icon svg{width:28px;height:28px}}.ce-conversion-tool--last{margin-right:0!important}.ce-conversion-tool--active{color:#388ae5!important}.ce-conversion-tool--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-conversion-tool__secondary-label{color:#707684;font-size:12px;margin-left:auto;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;margin-bottom:-2px;opacity:.6}@media (max-width: 650px){.ce-conversion-tool__secondary-label{display:none}}.ce-settings__button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;line-height:32px}.ce-settings__button svg{width:20px;height:20px}@media (max-width: 650px){.ce-settings__button svg{width:28px;height:28px}}@media (hover: hover){.ce-settings__button:hover{background-color:#eff2f5}}.ce-settings__button--active{color:#388ae5}.ce-settings__button--focused{background:rgba(34,186,255,.08)!important}.ce-settings__button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-settings__button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-settings__button:not(:nth-child(3n+3)){margin-right:3px}.ce-settings__button:nth-child(n+4){margin-top:3px}.ce-settings__button--disabled{cursor:not-allowed!important}.ce-settings__button--disabled{opacity:.3}.ce-settings__button--selected{color:#388ae5}@media (min-width: 651px){.codex-editor--narrow .ce-settings .ce-popover{right:0;left:auto;left:initial}}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button svg{width:20px;height:20px}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:12px 18px;margin:10px 0;border-radius:10px;background:#eff2f5;border:1px solid #EFF0F1;color:#707684;font-size:14px}.ce-stub svg{width:20px;height:20px}.ce-stub__info{margin-left:14px}.ce-stub__title{font-weight:500;text-transform:capitalize}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0px;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:rgba(232,232,235,.49);border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #e8e8eb;--color-shadow: rgba(13,20,33,.13);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #eff2f5;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:0;top:calc(100% + var(--offset-from-target));background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}.ce-popover--open-top{top:calc(-1 * (var(--offset-from-target) + var(--popover-height)))}@media (max-width: 650px){.ce-popover{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}.ce-popover .ce-popover__search{display:none}}.ce-popover__search,.ce-popover__custom-content:not(:empty){margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover__custom-content:not(:empty){padding:4px}@media (min-width: 651px){.ce-popover__custom-content:not(:empty){padding:0}}.ce-popover__custom-content--hidden{display:none}.ce-popover-item{--border-radius: 6px;--icon-size: 20px;--icon-size-mobile: 28px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:3px;color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{border-radius:5px;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px var(--color-border-icon);box-shadow:0 0 0 1px var(--color-border-icon);background:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:10px}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:var(--icon-size-mobile);height:var(--icon-size-mobile)}}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;margin-left:auto;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;margin-bottom:-2px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--active .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--disabled .ce-popover-item__icon{-webkit-box-shadow:0 0 0 1px var(--color-border-icon-disabled);box-shadow:0 0 0 1px var(--color-border-icon-disabled)}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--focused:not(.ce-popover-item--no-focus){-webkit-box-shadow:inset 0 0 0px 1px var(--color-shadow-item-focus);box-shadow:inset 0 0 0 1px var(--color-shadow-item-focus)}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}.ce-popover-item:hover .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__icon{color:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}.ce-popover-item--confirmation .ce-popover-item__icon,.ce-popover-item--active .ce-popover-item__icon,.ce-popover-item--focused .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}
`;class zO extends Y{constructor(){super(...arguments),this.isMobile=!1,this.contentRectCache=void 0,this.resizeDebouncer=fv(()=>{this.windowResize()},200)}get CSS(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}get contentRect(){if(this.contentRectCache)return this.contentRectCache;const e=this.nodes.wrapper.querySelector(`.${ln.CSS.content}`);return e?(this.contentRectCache=e.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}async prepare(){this.checkIsMobile(),this.make(),this.loadStyles()}toggleReadOnly(e){e?this.disableModuleBindings():window.requestIdleCallback(()=>{this.enableModuleBindings()},{timeout:2e3})}checkEmptiness(){const{BlockManager:e}=this.Editor;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,e.isEditorEmpty)}get someToolbarOpened(){const{Toolbar:e,BlockSettings:n,InlineToolbar:r,ConversionToolbar:o}=this.Editor;return n.opened||r.opened||o.opened||e.toolbox.opened}get someFlipperButtonFocused(){return this.Editor.Toolbar.toolbox.hasFocus()?!0:Object.entries(this.Editor).filter(([e,n])=>n.flipper instanceof wn).some(([e,n])=>n.flipper.hasFocus())}destroy(){this.nodes.holder.innerHTML=""}closeAllToolbars(){const{Toolbar:e,BlockSettings:n,InlineToolbar:r,ConversionToolbar:o}=this.Editor;n.close(),r.close(),o.close(),e.toolbox.close()}checkIsMobile(){this.isMobile=window.innerWidth<Ox}make(){this.nodes.holder=I.getHolder(this.config.holder),this.nodes.wrapper=I.make("div",[this.CSS.editorWrapper,...this.isRtl?[this.CSS.editorRtlFix]:[]]),this.nodes.redactor=I.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper)}loadStyles(){const e="editor-js-styles";if(I.get(e))return;const n=I.make("style",null,{id:e,textContent:VO.toString()});this.config.style&&!xt(this.config.style)&&this.config.style.nonce&&n.setAttribute("nonce",this.config.style.nonce),I.prepend(document.head,n)}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.redactor,"click",n=>{this.redactorClicked(n)},!1),this.readOnlyMutableListeners.on(this.nodes.redactor,"mousedown",n=>{this.documentTouched(n)},{capture:!0,passive:!0}),this.readOnlyMutableListeners.on(this.nodes.redactor,"touchstart",n=>{this.documentTouched(n)},{capture:!0,passive:!0}),this.readOnlyMutableListeners.on(document,"keydown",n=>{this.documentKeydown(n)},!0),this.readOnlyMutableListeners.on(document,"mousedown",n=>{this.documentClicked(n)},!0);const e=fv(()=>{this.selectionChanged()},180);this.readOnlyMutableListeners.on(document,"selectionchange",e,!0),this.readOnlyMutableListeners.on(window,"resize",()=>{this.resizeDebouncer()},{passive:!0}),this.watchBlockHoveredEvents()}watchBlockHoveredEvents(){let e;this.readOnlyMutableListeners.on(this.nodes.redactor,"mousemove",Kd(n=>{const r=n.target.closest(".ce-block");this.Editor.BlockSelection.anyBlockSelected||r&&e!==r&&(e=r,this.eventsDispatcher.emit(Gx,{block:this.Editor.BlockManager.getBlockByChildNode(r)}))},20),{passive:!0})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}windowResize(){this.contentRectCache=null,this.checkIsMobile()}documentKeydown(e){switch(e.keyCode){case K.ENTER:this.enterPressed(e);break;case K.BACKSPACE:case K.DELETE:this.backspacePressed(e);break;case K.ESC:this.escapePressed(e);break;default:this.defaultBehaviour(e);break}}defaultBehaviour(e){const{currentBlock:n}=this.Editor.BlockManager,r=e.target.closest(`.${this.CSS.editorWrapper}`),o=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;if(n!==void 0&&r===null){this.Editor.BlockEvents.keydown(e);return}r||n&&o||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close())}backspacePressed(e){const{BlockManager:n,BlockSelection:r,Caret:o}=this.Editor;if(r.anyBlockSelected&&!D.isSelectionExists){const i=n.removeSelectedBlocks(),s=n.insertDefaultBlockAtIndex(i,!0);o.setToBlock(s,o.positions.START),r.clearSelection(e),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}}escapePressed(e){this.Editor.BlockSelection.clearSelection(e),this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.toolbox.close(),this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END)):this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.ConversionToolbar.opened?this.Editor.ConversionToolbar.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}enterPressed(e){const{BlockManager:n,BlockSelection:r}=this.Editor,o=n.currentBlockIndex>=0;if(r.anyBlockSelected&&!D.isSelectionExists){r.clearSelection(e),e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation();return}if(!this.someToolbarOpened&&o&&e.target.tagName==="BODY"){const i=this.Editor.BlockManager.insert();this.Editor.Caret.setToBlock(i),this.Editor.Toolbar.moveAndOpen(i)}this.Editor.BlockSelection.clearSelection(e)}documentClicked(e){var n,r;if(!e.isTrusted)return;const o=e.target;this.nodes.holder.contains(o)||D.isAtEditor||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close());const i=(n=this.Editor.BlockSettings.nodes.wrapper)==null?void 0:n.contains(o),s=(r=this.Editor.Toolbar.nodes.settingsToggler)==null?void 0:r.contains(o),a=i||s;if(this.Editor.BlockSettings.opened&&!a){this.Editor.BlockSettings.close();const l=this.Editor.BlockManager.getBlockByChildNode(o);this.Editor.Toolbar.moveAndOpen(l)}this.Editor.BlockSelection.clearSelection(e)}documentTouched(e){let n=e.target;if(n===this.nodes.redactor){const r=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,o=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;n=document.elementFromPoint(r,o)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(n)}catch{this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.Toolbar.moveAndOpen()}redactorClicked(e){if(!D.isCollapsed)return;const n=e.target,r=e.metaKey||e.ctrlKey;if(I.isAnchor(n)&&r){e.stopImmediatePropagation(),e.stopPropagation();const o=n.getAttribute("href"),i=fR(o);mR(i);return}this.processBottomZoneClick(e)}processBottomZoneClick(e){const n=this.Editor.BlockManager.getBlockByIndex(-1),r=I.offset(n.holder).bottom,o=e.pageY,{BlockSelection:i}=this.Editor;if(e.target instanceof Element&&e.target.isEqualNode(this.nodes.redactor)&&!i.anyBlockSelected&&r<o){e.stopImmediatePropagation(),e.stopPropagation();const{BlockManager:s,Caret:a,Toolbar:l}=this.Editor;(!s.lastBlock.tool.isDefault||!s.lastBlock.isEmpty)&&s.insertAtEnd(),a.setToTheLastBlock(),l.moveAndOpen(s.lastBlock)}}selectionChanged(){const{CrossBlockSelection:e,BlockSelection:n}=this.Editor,r=D.anchorElement;if(e.isCrossBlockSelectionStarted&&n.anyBlockSelected&&D.get().removeAllRanges(),!r){D.range||this.Editor.InlineToolbar.close();return}const o=r.closest(`.${ln.CSS.content}`)===null;if(o&&(this.Editor.InlineToolbar.containsNode(r)||this.Editor.InlineToolbar.close(),r.dataset.inlineToolbar!=="true"))return;this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(r);const i=o!==!0;this.Editor.InlineToolbar.tryToShow(!0,i)}}const HO={BlocksAPI:ER,CaretAPI:TR,EventsAPI:_R,I18nAPI:Kf,API:IR,InlineToolbarAPI:PR,ListenersAPI:AR,NotifierAPI:RR,ReadOnlyAPI:OR,SanitizerAPI:VR,SaverAPI:zR,SelectionAPI:HR,StylesAPI:WR,ToolbarAPI:KR,TooltipAPI:JR,UiAPI:QR,BlockSettings:fO,ConversionToolbar:nt,Toolbar:xO,InlineToolbar:wO,BlockEvents:kO,BlockManager:EO,BlockSelection:TO,Caret:Tl,CrossBlockSelection:_O,DragNDrop:IO,ModificationsObserver:PO,Paste:Jx,ReadOnly:AO,RectangleSelection:Vi,Renderer:NO,Saver:BO,Tools:rw,UI:zO};class WO{constructor(e){this.moduleInstances={},this.eventsDispatcher=new hc;let n,r;this.isReady=new Promise((o,i)=>{n=o,r=i}),Promise.resolve().then(async()=>{this.configuration=e,this.validate(),this.init(),await this.start(),await this.render();const{BlockManager:o,Caret:i,UI:s,ModificationsObserver:a}=this.moduleInstances;s.checkEmptiness(),a.enable(),this.configuration.autofocus&&i.setToBlock(o.blocks[0],i.positions.START),n()}).catch(o=>{Q(`Editor.js is not ready because of ${o}`,"error"),r(o)})}set configuration(e){var n,r;Le(e)?this.config={...e}:this.config={holder:e},qd(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),this.config.holder==null&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=Bx.VERBOSE),aR(this.config.logLevel),qd(!!this.config.initialBlock,"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=this.config.minHeight!==void 0?this.config.minHeight:300;const o={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=this.config.hideToolbar?this.config.hideToolbar:!1,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||(()=>{}),this.config.onChange=this.config.onChange||(()=>{}),this.config.inlineToolbar=this.config.inlineToolbar!==void 0?this.config.inlineToolbar:!0,(xt(this.config.data)||!this.config.data.blocks||this.config.data.blocks.length===0)&&(this.config.data={blocks:[o]}),this.config.readOnly=this.config.readOnly||!1,(n=this.config.i18n)!=null&&n.messages&&Xe.setDictionary(this.config.i18n.messages),this.config.i18n.direction=((r=this.config.i18n)==null?void 0:r.direction)||"ltr"}get configuration(){return this.config}validate(){const{holderId:e,holder:n}=this.config;if(e&&n)throw Error("holderId and holder param can't assign at the same time.");if(sr(n)&&!I.get(n))throw Error(`element with ID ${n} is missing. Pass correct holder's ID.`);if(n&&Le(n)&&!I.isElement(n))throw Error("holder value must be an Element node")}init(){this.constructModules(),this.configureModules()}async start(){await["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"].reduce((e,n)=>e.then(async()=>{try{await this.moduleInstances[n].prepare()}catch(r){if(r instanceof Dx)throw new Error(r.message);Q(`Module ${n} was skipped because of %o`,"warn",r)}}),Promise.resolve())}render(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}constructModules(){Object.entries(HO).forEach(([e,n])=>{try{this.moduleInstances[e]=new n({config:this.configuration,eventsDispatcher:this.eventsDispatcher})}catch(r){Q("[constructModules]",`Module ${e} skipped because`,"error",r)}})}configureModules(){for(const e in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,e)&&(this.moduleInstances[e].state=this.getModulesDiff(e))}getModulesDiff(e){const n={};for(const r in this.moduleInstances)r!==e&&(n[r]=this.moduleInstances[r]);return n}}/**
 * Editor.js
 *
 * @license Apache-2.0
 * @see Editor.js <https://editorjs.io>
 * @author CodeX Team <https://codex.so>
 */class KO{static get version(){return"2.29.1"}constructor(e){let n=()=>{};Le(e)&&ae(e.onReady)&&(n=e.onReady);const r=new WO(e);this.isReady=r.isReady.then(()=>{this.exportAPI(r),n()})}exportAPI(e){const n=["configuration"],r=()=>{Object.values(e.moduleInstances).forEach(o=>{ae(o.destroy)&&o.destroy(),o.listeners.removeAll()}),XR(),e=null;for(const o in this)Object.prototype.hasOwnProperty.call(this,o)&&delete this[o];Object.setPrototypeOf(this,null)};n.forEach(o=>{this[o]=e[o]}),this.destroy=r,Object.setPrototypeOf(this,e.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach(([o,i])=>{Object.entries(i).forEach(([s,a])=>{this[a]=e.moduleInstances.API.methods[o][s]})})}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".cdx-list{margin:0;padding-left:40px;outline:none}.cdx-list__item{padding:5.5px 0 5.5px 3px;line-height:1.6em}.cdx-list--unordered{list-style:disc}.cdx-list--ordered{list-style:decimal}.cdx-list-settings{display:flex}.cdx-list-settings .cdx-settings-button{width:50%}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const wv='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>',GO='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>';let qO=class{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:wv,title:"List"}}constructor({data:e,config:n,api:r,readOnly:o}){this._elements={wrapper:null},this.api=r,this.readOnly=o,this.settings=[{name:"unordered",label:this.api.i18n.t("Unordered"),icon:wv,default:n.defaultStyle==="unordered"||!1},{name:"ordered",label:this.api.i18n.t("Ordered"),icon:GO,default:n.defaultStyle==="ordered"||!0}],this._data={style:this.settings.find(i=>i.default===!0).name,items:[]},this.data=e}render(){return this._elements.wrapper=this.makeMainTag(this._data.style),this._data.items.length?this._data.items.forEach(e=>{this._elements.wrapper.appendChild(this._make("li",this.CSS.item,{innerHTML:e}))}):this._elements.wrapper.appendChild(this._make("li",this.CSS.item)),this.readOnly||this._elements.wrapper.addEventListener("keydown",e=>{const[n,r]=[13,8];switch(e.keyCode){case n:this.getOutofList(e);break;case r:this.backspace(e);break}},!1),this._elements.wrapper}save(){return this.data}static get conversionConfig(){return{export:e=>e.items.join(". "),import:e=>({items:[e],style:"unordered"})}}static get sanitize(){return{style:{},items:{br:!0}}}renderSettings(){return this.settings.map(e=>({...e,isActive:this._data.style===e.name,closeOnActivate:!0,onActivate:()=>this.toggleTune(e.name)}))}onPaste(e){const n=e.detail.data;this.data=this.pasteHandler(n)}static get pasteConfig(){return{tags:["OL","UL","LI"]}}makeMainTag(e){const n=e==="ordered"?this.CSS.wrapperOrdered:this.CSS.wrapperUnordered,r=e==="ordered"?"ol":"ul";return this._make(r,[this.CSS.baseBlock,this.CSS.wrapper,n],{contentEditable:!this.readOnly})}toggleTune(e){const n=this.makeMainTag(e);for(;this._elements.wrapper.hasChildNodes();)n.appendChild(this._elements.wrapper.firstChild);this._elements.wrapper.replaceWith(n),this._elements.wrapper=n,this._data.style=e}get CSS(){return{baseBlock:this.api.styles.block,wrapper:"cdx-list",wrapperOrdered:"cdx-list--ordered",wrapperUnordered:"cdx-list--unordered",item:"cdx-list__item"}}set data(e){e||(e={}),this._data.style=e.style||this.settings.find(r=>r.default===!0).name,this._data.items=e.items||[];const n=this._elements.wrapper;n&&n.parentNode.replaceChild(this.render(),n)}get data(){this._data.items=[];const e=this._elements.wrapper.querySelectorAll(`.${this.CSS.item}`);for(let n=0;n<e.length;n++)e[n].innerHTML.replace("<br>"," ").trim()&&this._data.items.push(e[n].innerHTML);return this._data}_make(e,n=null,r={}){const o=document.createElement(e);Array.isArray(n)?o.classList.add(...n):n&&o.classList.add(n);for(const i in r)o[i]=r[i];return o}get currentItem(){let e=window.getSelection().anchorNode;return e.nodeType!==Node.ELEMENT_NODE&&(e=e.parentNode),e.closest(`.${this.CSS.item}`)}getOutofList(e){const n=this._elements.wrapper.querySelectorAll("."+this.CSS.item);if(n.length<2)return;const r=n[n.length-1],o=this.currentItem;o===r&&!r.textContent.trim().length&&(o.parentElement.removeChild(o),this.api.blocks.insert(),this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex()),e.preventDefault(),e.stopPropagation())}backspace(e){const n=this._elements.wrapper.querySelectorAll("."+this.CSS.item),r=n[0];r&&n.length<2&&!r.innerHTML.replace("<br>"," ").trim()&&e.preventDefault()}selectItem(e){e.preventDefault();const n=window.getSelection(),r=n.anchorNode.parentNode,o=r.closest("."+this.CSS.item),i=new Range;i.selectNodeContents(o),n.removeAllRanges(),n.addRange(i)}pasteHandler(e){const{tagName:n}=e;let r;switch(n){case"OL":r="ordered";break;case"UL":case"LI":r="unordered"}const o={style:r,items:[]};if(n==="LI")o.items=[e.innerHTML];else{const i=Array.from(e.querySelectorAll("LI"));o.items=i.map(s=>s.innerHTML).filter(s=>!!s.trim())}return o}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode('.image-tool{--bg-color: #cdd1e0;--front-color: #388ae5;--border-color: #e8e8eb}.image-tool__image{border-radius:3px;overflow:hidden;margin-bottom:10px}.image-tool__image-picture{max-width:100%;vertical-align:bottom;display:block}.image-tool__image-preloader{width:50px;height:50px;border-radius:50%;background-size:cover;margin:auto;position:relative;background-color:var(--bg-color);background-position:center center}.image-tool__image-preloader:after{content:"";position:absolute;z-index:3;width:60px;height:60px;border-radius:50%;border:2px solid var(--bg-color);border-top-color:var(--front-color);left:50%;top:50%;margin-top:-30px;margin-left:-30px;animation:image-preloader-spin 2s infinite linear;box-sizing:border-box}.image-tool__caption[contentEditable=true][data-placeholder]:before{position:absolute!important;content:attr(data-placeholder);color:#707684;font-weight:400;display:none}.image-tool__caption[contentEditable=true][data-placeholder]:empty:before{display:block}.image-tool__caption[contentEditable=true][data-placeholder]:empty:focus:before{display:none}.image-tool--empty .image-tool__image,.image-tool--empty .image-tool__caption,.image-tool--loading .image-tool__caption{display:none}.image-tool .cdx-button{display:flex;align-items:center;justify-content:center}.image-tool .cdx-button svg{height:auto;margin:0 6px 0 0}.image-tool--filled .cdx-button,.image-tool--filled .image-tool__image-preloader{display:none}.image-tool--loading .image-tool__image{min-height:200px;display:flex;border:1px solid var(--border-color);background-color:#fff}.image-tool--loading .image-tool__image-picture,.image-tool--loading .cdx-button{display:none}.image-tool--withBorder .image-tool__image{border:1px solid var(--border-color)}.image-tool--withBackground .image-tool__image{padding:15px;background:var(--bg-color)}.image-tool--withBackground .image-tool__image-picture{max-width:60%;margin:0 auto}.image-tool--stretched .image-tool__image-picture{width:100%}@keyframes image-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}')),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const YO='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>',XO='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 9.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 5H14.5096"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375"/><path stroke="currentColor" stroke-width="2" d="M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 5H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 9.5H5.00957"/><path stroke="currentColor" stroke-width="2" d="M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 19H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 14.55H5.00957"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/></svg>',ow='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.13968 15.32L8.69058 11.5661C9.02934 11.2036 9.48873 11 9.96774 11C10.4467 11 10.9061 11.2036 11.2449 11.5661L15.3871 16M13.5806 14.0664L15.0132 12.533C15.3519 12.1705 15.8113 11.9668 16.2903 11.9668C16.7693 11.9668 17.2287 12.1705 17.5675 12.533L18.841 13.9634"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.7778 9.33331H13.7867"/></svg>',JO='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>';function Yr(t,e=null,n={}){const r=document.createElement(t);Array.isArray(e)?r.classList.add(...e):e&&r.classList.add(e);for(const o in n)r[o]=n[o];return r}class St{constructor({api:e,config:n,onSelectFile:r,readOnly:o}){this.api=e,this.config=n,this.onSelectFile=r,this.readOnly=o,this.nodes={wrapper:Yr("div",[this.CSS.baseClass,this.CSS.wrapper]),imageContainer:Yr("div",[this.CSS.imageContainer]),fileButton:this.createFileButton(),imageEl:void 0,imagePreloader:Yr("div",this.CSS.imagePreloader),caption:Yr("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.imageContainer.appendChild(this.nodes.imagePreloader),this.nodes.wrapper.appendChild(this.nodes.imageContainer),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.wrapper.appendChild(this.nodes.fileButton)}get CSS(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"image-tool",imageContainer:"image-tool__image",imagePreloader:"image-tool__image-preloader",imageEl:"image-tool__image-picture",caption:"image-tool__caption"}}static get status(){return{EMPTY:"empty",UPLOADING:"loading",FILLED:"filled"}}render(e){return!e.file||Object.keys(e.file).length===0?this.toggleStatus(St.status.EMPTY):this.toggleStatus(St.status.UPLOADING),this.nodes.wrapper}createFileButton(){const e=Yr("div",[this.CSS.button]);return e.innerHTML=this.config.buttonContent||`${ow} ${this.api.i18n.t("Select an Image")}`,e.addEventListener("click",()=>{this.onSelectFile()}),e}showPreloader(e){this.nodes.imagePreloader.style.backgroundImage=`url(${e})`,this.toggleStatus(St.status.UPLOADING)}hidePreloader(){this.nodes.imagePreloader.style.backgroundImage="",this.toggleStatus(St.status.EMPTY)}fillImage(e){const n=/\.mp4$/.test(e)?"VIDEO":"IMG",r={src:e};let o="load";n==="VIDEO"&&(r.autoplay=!0,r.loop=!0,r.muted=!0,r.playsinline=!0,o="loadeddata"),this.nodes.imageEl=Yr(n,this.CSS.imageEl,r),this.nodes.imageEl.addEventListener(o,()=>{this.toggleStatus(St.status.FILLED),this.nodes.imagePreloader&&(this.nodes.imagePreloader.style.backgroundImage="")}),this.nodes.imageContainer.appendChild(this.nodes.imageEl)}fillCaption(e){this.nodes.caption&&(this.nodes.caption.innerHTML=e)}toggleStatus(e){for(const n in St.status)Object.prototype.hasOwnProperty.call(St.status,n)&&this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${St.status[n]}`,e===St.status[n])}applyTune(e,n){this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${e}`,n)}}function QO(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var iw={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="",o(o.s=3)}([function(n,r){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}n.exports=o},function(n,r,o){(function(i){var s=o(2),a=setTimeout;function l(){}function c(x){if(!(this instanceof c))throw new TypeError("Promises must be constructed via new");if(typeof x!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(x,this)}function d(x,y){for(;x._state===3;)x=x._value;x._state!==0?(x._handled=!0,c._immediateFn(function(){var m=x._state===1?y.onFulfilled:y.onRejected;if(m!==null){var b;try{b=m(x._value)}catch(k){return void h(y.promise,k)}u(y.promise,b)}else(x._state===1?u:h)(y.promise,x._value)})):x._deferreds.push(y)}function u(x,y){try{if(y===x)throw new TypeError("A promise cannot be resolved with itself.");if(y&&(typeof y=="object"||typeof y=="function")){var m=y.then;if(y instanceof c)return x._state=3,x._value=y,void g(x);if(typeof m=="function")return void p((b=m,k=y,function(){b.apply(k,arguments)}),x)}x._state=1,x._value=y,g(x)}catch(S){h(x,S)}var b,k}function h(x,y){x._state=2,x._value=y,g(x)}function g(x){x._state===2&&x._deferreds.length===0&&c._immediateFn(function(){x._handled||c._unhandledRejectionFn(x._value)});for(var y=0,m=x._deferreds.length;y<m;y++)d(x,x._deferreds[y]);x._deferreds=null}function v(x,y,m){this.onFulfilled=typeof x=="function"?x:null,this.onRejected=typeof y=="function"?y:null,this.promise=m}function p(x,y){var m=!1;try{x(function(b){m||(m=!0,u(y,b))},function(b){m||(m=!0,h(y,b))})}catch(b){if(m)return;m=!0,h(y,b)}}c.prototype.catch=function(x){return this.then(null,x)},c.prototype.then=function(x,y){var m=new this.constructor(l);return d(this,new v(x,y,m)),m},c.prototype.finally=s.a,c.all=function(x){return new c(function(y,m){if(!x||x.length===void 0)throw new TypeError("Promise.all accepts an array");var b=Array.prototype.slice.call(x);if(b.length===0)return y([]);var k=b.length;function S(_,C){try{if(C&&(typeof C=="object"||typeof C=="function")){var T=C.then;if(typeof T=="function")return void T.call(C,function(P){S(_,P)},m)}b[_]=C,--k==0&&y(b)}catch(P){m(P)}}for(var E=0;E<b.length;E++)S(E,b[E])})},c.resolve=function(x){return x&&typeof x=="object"&&x.constructor===c?x:new c(function(y){y(x)})},c.reject=function(x){return new c(function(y,m){m(x)})},c.race=function(x){return new c(function(y,m){for(var b=0,k=x.length;b<k;b++)x[b].then(y,m)})},c._immediateFn=typeof i=="function"&&function(x){i(x)}||function(x){a(x,0)},c._unhandledRejectionFn=function(x){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",x)},r.a=c}).call(this,o(5).setImmediate)},function(n,r,o){r.a=function(i){var s=this.constructor;return this.then(function(a){return s.resolve(i()).then(function(){return a})},function(a){return s.resolve(i()).then(function(){return s.reject(a)})})}},function(n,r,o){function i(p){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(p)}o(4);var s,a,l,c,d,u,h,g=o(8),v=(a=function(p){return new Promise(function(x,y){p=c(p),(p=d(p)).beforeSend&&p.beforeSend();var m=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");m.open(p.method,p.url),m.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(p.headers).forEach(function(k){var S=p.headers[k];m.setRequestHeader(k,S)});var b=p.ratio;m.upload.addEventListener("progress",function(k){var S=Math.round(k.loaded/k.total*100),E=Math.ceil(S*b/100);p.progress(Math.min(E,100))},!1),m.addEventListener("progress",function(k){var S=Math.round(k.loaded/k.total*100),E=Math.ceil(S*(100-b)/100)+b;p.progress(Math.min(E,100))},!1),m.onreadystatechange=function(){if(m.readyState===4){var k=m.response;try{k=JSON.parse(k)}catch{}var S=g.parseHeaders(m.getAllResponseHeaders()),E={body:k,code:m.status,headers:S};h(m.status)?x(E):y(E)}},m.send(p.data)})},l=function(p){return p.method="POST",a(p)},c=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(p.url&&typeof p.url!="string")throw new Error("Url must be a string");if(p.url=p.url||"",p.method&&typeof p.method!="string")throw new Error("`method` must be a string or null");if(p.method=p.method?p.method.toUpperCase():"GET",p.headers&&i(p.headers)!=="object")throw new Error("`headers` must be an object or null");if(p.headers=p.headers||{},p.type&&(typeof p.type!="string"||!Object.values(s).includes(p.type)))throw new Error("`type` must be taken from module's contentType library");if(p.progress&&typeof p.progress!="function")throw new Error("`progress` must be a function or null");if(p.progress=p.progress||function(x){},p.beforeSend=p.beforeSend||function(x){},p.ratio&&typeof p.ratio!="number")throw new Error("`ratio` must be a number");if(p.ratio<0||p.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(p.ratio=p.ratio||90,p.accept&&typeof p.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(p.accept=p.accept||"*/*",p.multiple&&typeof p.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(p.multiple=p.multiple||!1,p.fieldName&&typeof p.fieldName!="string")throw new Error("`fieldName` must be a string");return p.fieldName=p.fieldName||"files",p},d=function(p){switch(p.method){case"GET":var x=u(p.data,s.URLENCODED);delete p.data,p.url=/\?/.test(p.url)?p.url+"&"+x:p.url+"?"+x;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var y=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||s.JSON}(p);(g.isFormData(p.data)||g.isFormElement(p.data))&&(y=s.FORM),p.data=u(p.data,y),y!==v.contentType.FORM&&(p.headers["content-type"]=y)}return p},u=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case s.URLENCODED:return g.urlEncode(p);case s.JSON:return g.jsonEncode(p);case s.FORM:return g.formEncode(p);default:return p}},h=function(p){return p>=200&&p<300},{contentType:s={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:a,get:function(p){return p.method="GET",a(p)},post:l,transport:function(p){return p=c(p),g.selectFiles(p).then(function(x){for(var y=new FormData,m=0;m<x.length;m++)y.append(p.fieldName,x[m],x[m].name);g.isObject(p.data)&&Object.keys(p.data).forEach(function(k){var S=p.data[k];y.append(k,S)});var b=p.beforeSend;return p.beforeSend=function(){return b(x)},p.data=y,l(p)})},selectFiles:function(p){return delete(p=c(p)).beforeSend,g.selectFiles(p)}});n.exports=v},function(n,r,o){o.r(r);var i=o(1);window.Promise=window.Promise||i.a},function(n,r,o){(function(i){var s=i!==void 0&&i||typeof self<"u"&&self||window,a=Function.prototype.apply;function l(c,d){this._id=c,this._clearFn=d}r.setTimeout=function(){return new l(a.call(setTimeout,s,arguments),clearTimeout)},r.setInterval=function(){return new l(a.call(setInterval,s,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(c){c&&c.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(s,this._id)},r.enroll=function(c,d){clearTimeout(c._idleTimeoutId),c._idleTimeout=d},r.unenroll=function(c){clearTimeout(c._idleTimeoutId),c._idleTimeout=-1},r._unrefActive=r.active=function(c){clearTimeout(c._idleTimeoutId);var d=c._idleTimeout;d>=0&&(c._idleTimeoutId=setTimeout(function(){c._onTimeout&&c._onTimeout()},d))},o(6),r.setImmediate=typeof self<"u"&&self.setImmediate||i!==void 0&&i.setImmediate||this&&this.setImmediate,r.clearImmediate=typeof self<"u"&&self.clearImmediate||i!==void 0&&i.clearImmediate||this&&this.clearImmediate}).call(this,o(0))},function(n,r,o){(function(i,s){(function(a,l){if(!a.setImmediate){var c,d,u,h,g,v=1,p={},x=!1,y=a.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(a);m=m&&m.setTimeout?m:a,{}.toString.call(a.process)==="[object process]"?c=function(S){s.nextTick(function(){k(S)})}:function(){if(a.postMessage&&!a.importScripts){var S=!0,E=a.onmessage;return a.onmessage=function(){S=!1},a.postMessage("","*"),a.onmessage=E,S}}()?(h="setImmediate$"+Math.random()+"$",g=function(S){S.source===a&&typeof S.data=="string"&&S.data.indexOf(h)===0&&k(+S.data.slice(h.length))},a.addEventListener?a.addEventListener("message",g,!1):a.attachEvent("onmessage",g),c=function(S){a.postMessage(h+S,"*")}):a.MessageChannel?((u=new MessageChannel).port1.onmessage=function(S){k(S.data)},c=function(S){u.port2.postMessage(S)}):y&&"onreadystatechange"in y.createElement("script")?(d=y.documentElement,c=function(S){var E=y.createElement("script");E.onreadystatechange=function(){k(S),E.onreadystatechange=null,d.removeChild(E),E=null},d.appendChild(E)}):c=function(S){setTimeout(k,0,S)},m.setImmediate=function(S){typeof S!="function"&&(S=new Function(""+S));for(var E=new Array(arguments.length-1),_=0;_<E.length;_++)E[_]=arguments[_+1];var C={callback:S,args:E};return p[v]=C,c(v),v++},m.clearImmediate=b}function b(S){delete p[S]}function k(S){if(x)setTimeout(k,0,S);else{var E=p[S];if(E){x=!0;try{(function(_){var C=_.callback,T=_.args;switch(T.length){case 0:C();break;case 1:C(T[0]);break;case 2:C(T[0],T[1]);break;case 3:C(T[0],T[1],T[2]);break;default:C.apply(l,T)}})(E)}finally{b(S),x=!1}}}}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,o(0),o(7))},function(n,r){var o,i,s=n.exports={};function a(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function c(m){if(o===setTimeout)return setTimeout(m,0);if((o===a||!o)&&setTimeout)return o=setTimeout,setTimeout(m,0);try{return o(m,0)}catch{try{return o.call(null,m,0)}catch{return o.call(this,m,0)}}}(function(){try{o=typeof setTimeout=="function"?setTimeout:a}catch{o=a}try{i=typeof clearTimeout=="function"?clearTimeout:l}catch{i=l}})();var d,u=[],h=!1,g=-1;function v(){h&&d&&(h=!1,d.length?u=d.concat(u):g=-1,u.length&&p())}function p(){if(!h){var m=c(v);h=!0;for(var b=u.length;b;){for(d=u,u=[];++g<b;)d&&d[g].run();g=-1,b=u.length}d=null,h=!1,function(k){if(i===clearTimeout)return clearTimeout(k);if((i===l||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(k);try{i(k)}catch{try{return i.call(null,k)}catch{return i.call(this,k)}}}(m)}}function x(m,b){this.fun=m,this.array=b}function y(){}s.nextTick=function(m){var b=new Array(arguments.length-1);if(arguments.length>1)for(var k=1;k<arguments.length;k++)b[k-1]=arguments[k];u.push(new x(m,b)),u.length!==1||h||c(p)},x.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=y,s.addListener=y,s.once=y,s.off=y,s.removeListener=y,s.removeAllListeners=y,s.emit=y,s.prependListener=y,s.prependOnceListener=y,s.listeners=function(m){return[]},s.binding=function(m){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(m){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(n,r,o){function i(a,l){for(var c=0;c<l.length;c++){var d=l[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}var s=o(9);n.exports=function(){function a(){(function(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")})(this,a)}var l,c,d;return l=a,d=[{key:"urlEncode",value:function(u){return s(u)}},{key:"jsonEncode",value:function(u){return JSON.stringify(u)}},{key:"formEncode",value:function(u){if(this.isFormData(u))return u;if(this.isFormElement(u))return new FormData(u);if(this.isObject(u)){var h=new FormData;return Object.keys(u).forEach(function(g){var v=u[g];h.append(g,v)}),h}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(u){return Object.prototype.toString.call(u)==="[object Object]"}},{key:"isFormData",value:function(u){return u instanceof FormData}},{key:"isFormElement",value:function(u){return u instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(h,g){var v=document.createElement("INPUT");v.type="file",u.multiple&&v.setAttribute("multiple","multiple"),u.accept&&v.setAttribute("accept",u.accept),v.style.display="none",document.body.appendChild(v),v.addEventListener("change",function(p){var x=p.target.files;h(x),document.body.removeChild(v)},!1),v.click()})}},{key:"parseHeaders",value:function(u){var h=u.trim().split(/[\r\n]+/),g={};return h.forEach(function(v){var p=v.split(": "),x=p.shift(),y=p.join(": ");x&&(g[x]=y)}),g}}],(c=null)&&i(l.prototype,c),d&&i(l,d),a}()},function(n,r){var o=function(s){return encodeURIComponent(s).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},i=function(s,a,l,c){return a=a||null,l=l||"&",c=c||null,s?function(d){for(var u=new Array,h=0;h<d.length;h++)d[h]&&u.push(d[h]);return u}(Object.keys(s).map(function(d){var u,h,g=d;if(c&&(g=c+"["+g+"]"),typeof s[d]=="object"&&s[d]!==null)u=i(s[d],null,l,g);else{a&&(h=g,g=!isNaN(parseFloat(h))&&isFinite(h)?a+Number(g):g);var v=s[d];v=(v=(v=(v=v===!0?"1":v)===!1?"0":v)===0?"0":v)||"",u=o(g)+"="+o(v)}return u})).join(l).replace(/[!'()*]/g,""):""};n.exports=i}])})})(iw);var ZO=iw.exports;const Xr=QO(ZO);function vu(t){return t&&typeof t.then=="function"}class eM{constructor({config:e,onUpload:n,onError:r}){this.config=e,this.onUpload=n,this.onError=r}uploadSelectedFile({onPreview:e}){const n=function(o){const i=new FileReader;i.readAsDataURL(o),i.onload=s=>{e(s.target.result)}};let r;this.config.uploader&&typeof this.config.uploader.uploadByFile=="function"?r=Xr.selectFiles({accept:this.config.types}).then(o=>{n(o[0]);const i=this.config.uploader.uploadByFile(o[0]);return vu(i)||console.warn("Custom uploader method uploadByFile should return a Promise"),i}):r=Xr.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types,headers:this.config.additionalRequestHeaders,beforeSend:o=>{n(o[0])},fieldName:this.config.field}).then(o=>o.body),r.then(o=>{this.onUpload(o)}).catch(o=>{this.onError(o)})}uploadByUrl(e){let n;this.config.uploader&&typeof this.config.uploader.uploadByUrl=="function"?(n=this.config.uploader.uploadByUrl(e),vu(n)||console.warn("Custom uploader method uploadByUrl should return a Promise")):n=Xr.post({url:this.config.endpoints.byUrl,data:Object.assign({url:e},this.config.additionalRequestData),type:Xr.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(r=>r.body),n.then(r=>{this.onUpload(r)}).catch(r=>{this.onError(r)})}uploadByFile(e,{onPreview:n}){const r=new FileReader;r.readAsDataURL(e),r.onload=i=>{n(i.target.result)};let o;if(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function")o=this.config.uploader.uploadByFile(e),vu(o)||console.warn("Custom uploader method uploadByFile should return a Promise");else{const i=new FormData;i.append(this.config.field,e),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach(([s,a])=>{i.append(s,a)}),o=Xr.post({url:this.config.endpoints.byFile,data:i,type:Xr.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(s=>s.body)}o.then(i=>{this.onUpload(i)}).catch(i=>{this.onError(i)})}}/**
 * Image Tool for the Editor.js
 *
 * @author CodeX <team@codex.so>
 * @license MIT
 * @see {@link https://github.com/editor-js/image}
 *
 * To developers.
 * To simplify Tool structure, we split it to 4 parts:
 *  1) index.js  main Tool's interface, public API and methods for working with data
 *  2) uploader.js  module that has methods for sending files via AJAX: from device, by URL or File pasting
 *  3) ui.js  module for UI manipulations: render, showing preloader, etc
 *  4) tunes.js  working with Block Tunes: render buttons, handle clicks
 *
 * For debug purposes there is a testing server
 * that can save uploaded files and return a Response {@link UploadResponseFormat}
 *
 *       $ node dev/server.js
 *
 * It will expose 8008 port, so you can pass http://localhost:8008 with the Tools config:
 *
 * image: {
 *   class: ImageTool,
 *   config: {
 *     endpoints: {
 *       byFile: 'http://localhost:8008/uploadFile',
 *       byUrl: 'http://localhost:8008/fetchUrl',
 *     }
 *   },
 * },
 */class _l{static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:ow,title:"Image"}}static get tunes(){return[{name:"withBorder",icon:XO,title:"With border",toggle:!0},{name:"stretched",icon:JO,title:"Stretch image",toggle:!0},{name:"withBackground",icon:YO,title:"With background",toggle:!0}]}constructor({data:e,config:n,api:r,readOnly:o,block:i}){this.api=r,this.readOnly=o,this.block=i,this.config={endpoints:n.endpoints||"",additionalRequestData:n.additionalRequestData||{},additionalRequestHeaders:n.additionalRequestHeaders||{},field:n.field||"image",types:n.types||"image/*",captionPlaceholder:this.api.i18n.t(n.captionPlaceholder||"Caption"),buttonContent:n.buttonContent||"",uploader:n.uploader||void 0,actions:n.actions||[]},this.uploader=new eM({config:this.config,onUpload:s=>this.onUpload(s),onError:s=>this.uploadingFailed(s)}),this.ui=new St({api:r,config:this.config,onSelectFile:()=>{this.uploader.uploadSelectedFile({onPreview:s=>{this.ui.showPreloader(s)}})},readOnly:o}),this._data={},this.data=e}render(){return this.ui.render(this.data)}validate(e){return e.file&&e.file.url}save(){const e=this.ui.nodes.caption;return this._data.caption=e.innerHTML,this.data}renderSettings(){return _l.tunes.concat(this.config.actions).map(e=>({icon:e.icon,label:this.api.i18n.t(e.title),name:e.name,toggle:e.toggle,isActive:this.data[e.name],onActivate:()=>{if(typeof e.action=="function"){e.action(e.name);return}this.tuneToggled(e.name)}}))}appendCallback(){this.ui.nodes.fileButton.click()}static get pasteConfig(){return{tags:[{img:{src:!0}}],patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png|svg|webp)(\?[a-z0-9=]*)?$/i},files:{mimeTypes:["image/*"]}}}async onPaste(e){switch(e.type){case"tag":{const n=e.detail.data;if(/^blob:/.test(n.src)){const r=await(await fetch(n.src)).blob();this.uploadFile(r);break}this.uploadUrl(n.src);break}case"pattern":{const n=e.detail.data;this.uploadUrl(n);break}case"file":{const n=e.detail.file;this.uploadFile(n);break}}}set data(e){this.image=e.file,this._data.caption=e.caption||"",this.ui.fillCaption(this._data.caption),_l.tunes.forEach(({name:n})=>{const r=typeof e[n]<"u"?e[n]===!0||e[n]==="true":!1;this.setTune(n,r)})}get data(){return this._data}set image(e){this._data.file=e||{},e&&e.url&&this.ui.fillImage(e.url)}onUpload(e){e.success&&e.file?this.image=e.file:this.uploadingFailed("incorrect response: "+JSON.stringify(e))}uploadingFailed(e){console.log("Image Tool: uploading failed because of",e),this.api.notifier.show({message:this.api.i18n.t("Couldnt upload image. Please try another."),style:"error"}),this.ui.hidePreloader()}tuneToggled(e){this.setTune(e,!this._data[e])}setTune(e,n){this._data[e]=n,this.ui.applyTune(e,n),e==="stretched"&&Promise.resolve().then(()=>{this.block.stretched=n}).catch(r=>{console.error(r)})}uploadFile(e){this.uploader.uploadByFile(e,{onPreview:n=>{this.ui.showPreloader(n)}})}uploadUrl(e){this.ui.showPreloader(e),this.uploader.uploadByUrl(e)}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".ce-header{padding:.6em 0 3px;margin:0;line-height:1.25em;outline:none}.ce-header p,.ce-header div{padding:0!important;margin:0!important}.ce-header[contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;display:none;cursor:text}.ce-header[contentEditable=true][data-placeholder]:empty:before{display:block}.ce-header[contentEditable=true][data-placeholder]:empty:focus:before{display:none}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const tM='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5"/></svg>',nM='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17"/></svg>',rM='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3"/></svg>',oM='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6"/></svg>',iM='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8"/></svg>',sM='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z"/></svg>',aM='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12"/></svg>';/**
 * Header block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */let lM=class{constructor({data:e,config:n,api:r,readOnly:o}){this.api=r,this.readOnly=o,this._CSS={block:this.api.styles.block,wrapper:"ce-header"},this._settings=n,this._data=this.normalizeData(e),this._element=this.getTag()}normalizeData(e){const n={};return typeof e!="object"&&(e={}),n.text=e.text||"",n.level=parseInt(e.level)||this.defaultLevel.number,n}render(){return this._element}renderSettings(){return this.levels.map(e=>({icon:e.svg,label:this.api.i18n.t(`Heading ${e.number}`),onActivate:()=>this.setLevel(e.number),closeOnActivate:!0,isActive:this.currentLevel.number===e.number}))}setLevel(e){this.data={level:e,text:this.data.text}}merge(e){const n={text:this.data.text+e.text,level:this.data.level};this.data=n}validate(e){return e.text.trim()!==""}save(e){return{text:e.innerHTML,level:this.currentLevel.number}}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{level:!1,text:{}}}static get isReadOnlySupported(){return!0}get data(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data}set data(e){if(this._data=this.normalizeData(e),e.level!==void 0&&this._element.parentNode){const n=this.getTag();n.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(n,this._element),this._element=n}e.text!==void 0&&(this._element.innerHTML=this._data.text||"")}getTag(){const e=document.createElement(this.currentLevel.tag);return e.innerHTML=this._data.text||"",e.classList.add(this._CSS.wrapper),e.contentEditable=this.readOnly?"false":"true",e.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),e}get currentLevel(){let e=this.levels.find(n=>n.number===this._data.level);return e||(e=this.defaultLevel),e}get defaultLevel(){if(this._settings.defaultLevel){const e=this.levels.find(n=>n.number===this._settings.defaultLevel);if(e)return e;console.warn("('-') Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}get levels(){const e=[{number:1,tag:"H1",svg:tM},{number:2,tag:"H2",svg:nM},{number:3,tag:"H3",svg:rM},{number:4,tag:"H4",svg:oM},{number:5,tag:"H5",svg:iM},{number:6,tag:"H6",svg:sM}];return this._settings.levels?e.filter(n=>this._settings.levels.includes(n.number)):e}onPaste(e){const n=e.detail.data;let r=this.defaultLevel.number;switch(n.tagName){case"H1":r=1;break;case"H2":r=2;break;case"H3":r=3;break;case"H4":r=4;break;case"H5":r=5;break;case"H6":r=6;break}this._settings.levels&&(r=this._settings.levels.reduce((o,i)=>Math.abs(i-r)<Math.abs(o-r)?i:o)),this.data={level:r,text:n.innerHTML}}static get pasteConfig(){return{tags:["H1","H2","H3","H4","H5","H6"]}}static get toolbox(){return{icon:aM,title:"Heading"}}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".cdx-quote-icon svg{transform:rotate(180deg)}.cdx-quote{margin:0}.cdx-quote__text{min-height:158px;margin-bottom:10px}.cdx-quote [contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.cdx-quote [contentEditable=true][data-placeholder]:empty:before{opacity:1}.cdx-quote [contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}.cdx-quote-settings{display:flex}.cdx-quote-settings .cdx-settings-button{width:50%}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const cM='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 7L6 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 17H6"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 12L8 12"/></svg>',uM='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 7L5 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 17H5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13 12L5 12"/></svg>',dM='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 10.8182L9 10.8182C8.80222 10.8182 8.60888 10.7649 8.44443 10.665C8.27998 10.5651 8.15181 10.4231 8.07612 10.257C8.00043 10.0909 7.98063 9.90808 8.01922 9.73174C8.0578 9.55539 8.15304 9.39341 8.29289 9.26627C8.43275 9.13913 8.61093 9.05255 8.80491 9.01747C8.99889 8.98239 9.19996 9.00039 9.38268 9.0692C9.56541 9.13801 9.72159 9.25453 9.83147 9.40403C9.94135 9.55353 10 9.72929 10 9.90909L10 12.1818C10 12.664 9.78929 13.1265 9.41421 13.4675C9.03914 13.8084 8.53043 14 8 14"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 10.8182L15 10.8182C14.8022 10.8182 14.6089 10.7649 14.4444 10.665C14.28 10.5651 14.1518 10.4231 14.0761 10.257C14.0004 10.0909 13.9806 9.90808 14.0192 9.73174C14.0578 9.55539 14.153 9.39341 14.2929 9.26627C14.4327 9.13913 14.6109 9.05255 14.8049 9.01747C14.9989 8.98239 15.2 9.00039 15.3827 9.0692C15.5654 9.13801 15.7216 9.25453 15.8315 9.40403C15.9414 9.55353 16 9.72929 16 9.90909L16 12.1818C16 12.664 15.7893 13.1265 15.4142 13.4675C15.0391 13.8084 14.5304 14 14 14"/></svg>';class yo{static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:dM,title:"Quote"}}static get contentless(){return!0}static get enableLineBreaks(){return!0}static get DEFAULT_QUOTE_PLACEHOLDER(){return"Enter a quote"}static get DEFAULT_CAPTION_PLACEHOLDER(){return"Enter a caption"}static get ALIGNMENTS(){return{left:"left",center:"center"}}static get DEFAULT_ALIGNMENT(){return yo.ALIGNMENTS.left}static get conversionConfig(){return{import:"text",export:function(e){return e.caption?`${e.text}  ${e.caption}`:e.text}}}get CSS(){return{baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"}}get settings(){return[{name:"left",icon:uM},{name:"center",icon:cM}]}constructor({data:e,config:n,api:r,readOnly:o}){const{ALIGNMENTS:i,DEFAULT_ALIGNMENT:s}=yo;this.api=r,this.readOnly=o,this.quotePlaceholder=n.quotePlaceholder||yo.DEFAULT_QUOTE_PLACEHOLDER,this.captionPlaceholder=n.captionPlaceholder||yo.DEFAULT_CAPTION_PLACEHOLDER,this.data={text:e.text||"",caption:e.caption||"",alignment:Object.values(i).includes(e.alignment)&&e.alignment||n.defaultAlignment||s}}render(){const e=this._make("blockquote",[this.CSS.baseClass,this.CSS.wrapper]),n=this._make("div",[this.CSS.input,this.CSS.text],{contentEditable:!this.readOnly,innerHTML:this.data.text}),r=this._make("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly,innerHTML:this.data.caption});return n.dataset.placeholder=this.quotePlaceholder,r.dataset.placeholder=this.captionPlaceholder,e.appendChild(n),e.appendChild(r),e}save(e){const n=e.querySelector(`.${this.CSS.text}`),r=e.querySelector(`.${this.CSS.caption}`);return Object.assign(this.data,{text:n.innerHTML,caption:r.innerHTML})}static get sanitize(){return{text:{br:!0},caption:{br:!0},alignment:{}}}renderSettings(){const e=n=>n[0].toUpperCase()+n.substr(1);return this.settings.map(n=>({icon:n.icon,label:this.api.i18n.t(`Align ${e(n.name)}`),onActivate:()=>this._toggleTune(n.name),isActive:this.data.alignment===n.name,closeOnActivate:!0}))}_toggleTune(e){this.data.alignment=e}_make(e,n=null,r={}){const o=document.createElement(e);Array.isArray(n)?o.classList.add(...n):n&&o.classList.add(n);for(const i in r)o[i]=r[i];return o}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".cdx-marker{background:rgba(245,235,111,.29);padding:3px 0}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const hM='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M11.3536 9.31802L12.7678 7.90381C13.5488 7.12276 14.8151 7.12276 15.5962 7.90381C16.3772 8.68486 16.3772 9.95119 15.5962 10.7322L14.182 12.1464M11.3536 9.31802L7.96729 12.7043C7.40889 13.2627 7.02827 13.9739 6.8734 14.7482L6.69798 15.6253C6.55804 16.325 7.17496 16.942 7.87468 16.802L8.75176 16.6266C9.52612 16.4717 10.2373 16.0911 10.7957 15.5327L14.182 12.1464M11.3536 9.31802L14.182 12.1464"/><line x1="15" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>';let fM=class Ei{static get CSS(){return"cdx-marker"}constructor({api:e}){this.api=e,this.button=null,this.tag="MARK",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}static get isInline(){return!0}render(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}surround(e){if(!e)return;let n=this.api.selection.findParentTag(this.tag,Ei.CSS);n?this.unwrap(n):this.wrap(e)}wrap(e){let n=document.createElement(this.tag);n.classList.add(Ei.CSS),n.appendChild(e.extractContents()),e.insertNode(n),this.api.selection.expandToTag(n)}unwrap(e){this.api.selection.expandToTag(e);let n=window.getSelection(),r=n.getRangeAt(0),o=r.extractContents();e.parentNode.removeChild(e),r.insertNode(o),n.removeAllRanges(),n.addRange(r)}checkState(){const e=this.api.selection.findParentTag(this.tag,Ei.CSS);this.button.classList.toggle(this.iconClasses.active,!!e)}get toolboxIcon(){return hM}static get sanitize(){return{mark:{class:Ei.CSS}}}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode('.embed-tool--loading .embed-tool__caption{display:none}.embed-tool--loading .embed-tool__preloader{display:block}.embed-tool--loading .embed-tool__content{display:none}.embed-tool__preloader{display:none;position:relative;height:200px;box-sizing:border-box;border-radius:5px;border:1px solid #e6e9eb}.embed-tool__preloader:before{content:"";position:absolute;z-index:3;left:50%;top:50%;width:30px;height:30px;margin-top:-25px;margin-left:-15px;border-radius:50%;border:2px solid #cdd1e0;border-top-color:#388ae5;box-sizing:border-box;animation:embed-preloader-spin 2s infinite linear}.embed-tool__url{position:absolute;bottom:20px;left:50%;transform:translate(-50%);max-width:250px;color:#7b7e89;font-size:11px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.embed-tool__content{width:100%}.embed-tool__caption{margin-top:7px}.embed-tool__caption[contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.embed-tool__caption[contentEditable=true][data-placeholder]:empty:before{opacity:1}.embed-tool__caption[contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}@keyframes embed-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}')),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const pM={vimeo:{regex:/(?:http[s]?:\/\/)?(?:www.)?(?:player.)?vimeo\.co(?:.+\/([^\/]\d+)(?:#t=[\d]+)?s?$)/,embedUrl:"https://player.vimeo.com/video/<%= remote_id %>?title=0&byline=0",html:'<iframe style="width:100%;" height="320" frameborder="0"></iframe>',height:320,width:580},youtube:{regex:/(?:https?:\/\/)?(?:www\.)?(?:(?:youtu\.be\/)|(?:youtube\.com)\/(?:v\/|u\/\w\/|embed\/|watch))(?:(?:\?v=)?([^#&?=]*))?((?:[?&]\w*=\w*)*)/,embedUrl:"https://www.youtube.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580,id:([t,e])=>{if(!e&&t)return t;const n={start:"start",end:"end",t:"start",time_continue:"start",list:"list"};return e=e.slice(1).split("&").map(r=>{const[o,i]=r.split("=");return!t&&o==="v"?(t=i,null):!n[o]||i==="LL"||i.startsWith("RDMM")||i.startsWith("FL")?null:`${n[o]}=${i}`}).filter(r=>!!r),t+"?"+e.join("&")}},coub:{regex:/https?:\/\/coub\.com\/view\/([^\/\?\&]+)/,embedUrl:"https://coub.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},vine:{regex:/https?:\/\/vine\.co\/v\/([^\/\?\&]+)/,embedUrl:"https://vine.co/v/<%= remote_id %>/embed/simple/",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},imgur:{regex:/https?:\/\/(?:i\.)?imgur\.com.*\/([a-zA-Z0-9]+)(?:\.gifv)?/,embedUrl:"http://imgur.com/<%= remote_id %>/embed",html:'<iframe allowfullscreen="true" scrolling="no" id="imgur-embed-iframe-pub-<%= remote_id %>" class="imgur-embed-iframe-pub" style="height: 500px; width: 100%; border: 1px solid #000"></iframe>',height:500,width:540},gfycat:{regex:/https?:\/\/gfycat\.com(?:\/detail)?\/([a-zA-Z]+)/,embedUrl:"https://gfycat.com/ifr/<%= remote_id %>",html:`<iframe frameborder='0' scrolling='no' style="width:100%;" height='436' allowfullscreen ></iframe>`,height:436,width:580},"twitch-channel":{regex:/https?:\/\/www\.twitch\.tv\/([^\/\?\&]*)\/?$/,embedUrl:"https://player.twitch.tv/?channel=<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"twitch-video":{regex:/https?:\/\/www\.twitch\.tv\/(?:[^\/\?\&]*\/v|videos)\/([0-9]*)/,embedUrl:"https://player.twitch.tv/?video=v<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"yandex-music-album":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/?$/,embedUrl:"https://music.yandex.ru/iframe/#album/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" style="width:100%;" height="400"></iframe>',height:400,width:540},"yandex-music-track":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/track\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#track/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:100px;" style="width:100%;" height="100"></iframe>',height:100,width:540,id:t=>t.join("/")},"yandex-music-playlist":{regex:/https?:\/\/music\.yandex\.ru\/users\/([^\/\?\&]*)\/playlists\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#playlist/<%= remote_id %>/show/cover/description/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" width="540" height="400"></iframe>',height:400,width:540,id:t=>t.join("/")},codepen:{regex:/https?:\/\/codepen\.io\/([^\/\?\&]*)\/pen\/([^\/\?\&]*)/,embedUrl:"https://codepen.io/<%= remote_id %>?height=300&theme-id=0&default-tab=css,result&embed-version=2",html:"<iframe height='300' scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'></iframe>",height:300,width:600,id:t=>t.join("/embed/")},instagram:{regex:/https?:\/\/www\.instagram\.com\/p\/([^\/\?\&]+)\/?.*/,embedUrl:"https://www.instagram.com/p/<%= remote_id %>/embed",html:'<iframe width="400" height="505" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:505,width:400},twitter:{regex:/^https?:\/\/(www\.)?twitter\.com\/.+\/status\/(\d+)/,embedUrl:"https://platform.twitter.com/embed/Tweet.html?id=<%= remote_id %>",html:'<iframe width="600" height="600" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600,id:t=>t[1]},pinterest:{regex:/https?:\/\/([^\/\?\&]*).pinterest.com\/pin\/([^\/\?\&]*)\/?$/,embedUrl:"https://assets.pinterest.com/ext/embed.html?id=<%= remote_id %>",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 400px; max-height: 1000px;'></iframe>",id:t=>t[1]},facebook:{regex:/https?:\/\/www.facebook.com\/([^\/\?\&]*)\/(.*)/,embedUrl:"https://www.facebook.com/plugins/post.php?href=https://www.facebook.com/<%= remote_id %>&width=500",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 500px; max-height: 1000px;'></iframe>",id:t=>t.join("/")},aparat:{regex:/(?:http[s]?:\/\/)?(?:www.)?aparat\.com\/v\/([^\/\?\&]+)\/?/,embedUrl:"https://www.aparat.com/video/video/embed/videohash/<%= remote_id %>/vt/frame",html:'<iframe width="600" height="300" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600},miro:{regex:/https:\/\/miro.com\/\S+(\S{12})\/(\S+)?/,embedUrl:"https://miro.com/app/live-embed/<%= remote_id %>",html:'<iframe width="700" height="500" style="margin: 0 auto;" allowFullScreen frameBorder="0" scrolling="no"></iframe>'},github:{regex:/https?:\/\/gist.github.com\/([^\/\?\&]*)\/([^\/\?\&]*)/,embedUrl:'data:text/html;charset=utf-8,<head><base target="_blank" /></head><body><script src="https://gist.github.com/<%= remote_id %>" ><\/script></body>',html:'<iframe width="100%" height="350" frameborder="0" style="margin: 0 auto;"></iframe>',height:300,width:600,id:t=>`${t.join("/")}.js`}};function th(t,e,n){var r,o,i,s,a;e==null&&(e=100);function l(){var d=Date.now()-s;d<e&&d>=0?r=setTimeout(l,e-d):(r=null,n||(a=t.apply(i,o),i=o=null))}var c=function(){i=this,o=arguments,s=Date.now();var d=n&&!r;return r||(r=setTimeout(l,e)),d&&(a=t.apply(i,o),i=o=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=t.apply(i,o),i=o=null,clearTimeout(r),r=null)},c}th.debounce=th;var mM=th;class Ln{constructor({data:e,api:n,readOnly:r}){this.api=n,this._data={},this.element=null,this.readOnly=r,this.data=e}set data(e){if(!(e instanceof Object))throw Error("Embed Tool data should be object");const{service:n,source:r,embed:o,width:i,height:s,caption:a=""}=e;this._data={service:n||this.data.service,source:r||this.data.source,embed:o||this.data.embed,width:i||this.data.width,height:s||this.data.height,caption:a||this.data.caption||""};const l=this.element;l&&l.parentNode.replaceChild(this.render(),l)}get data(){if(this.element){const e=this.element.querySelector(`.${this.api.styles.input}`);this._data.caption=e?e.innerHTML:""}return this._data}get CSS(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"embed-tool",containerLoading:"embed-tool--loading",preloader:"embed-tool__preloader",caption:"embed-tool__caption",url:"embed-tool__url",content:"embed-tool__content"}}render(){if(!this.data.service){const a=document.createElement("div");return this.element=a,a}const{html:e}=Ln.services[this.data.service],n=document.createElement("div"),r=document.createElement("div"),o=document.createElement("template"),i=this.createPreloader();n.classList.add(this.CSS.baseClass,this.CSS.container,this.CSS.containerLoading),r.classList.add(this.CSS.input,this.CSS.caption),n.appendChild(i),r.contentEditable=!this.readOnly,r.dataset.placeholder=this.api.i18n.t("Enter a caption"),r.innerHTML=this.data.caption||"",o.innerHTML=e,o.content.firstChild.setAttribute("src",this.data.embed),o.content.firstChild.classList.add(this.CSS.content);const s=this.embedIsReady(n);return n.appendChild(o.content.firstChild),n.appendChild(r),s.then(()=>{n.classList.remove(this.CSS.containerLoading)}),this.element=n,n}createPreloader(){const e=document.createElement("preloader"),n=document.createElement("div");return n.textContent=this.data.source,e.classList.add(this.CSS.preloader),n.classList.add(this.CSS.url),e.appendChild(n),e}save(){return this.data}onPaste(e){const{key:n,data:r}=e.detail,{regex:o,embedUrl:i,width:s,height:a,id:l=u=>u.shift()}=Ln.services[n],c=o.exec(r).slice(1),d=i.replace(/<%= remote_id %>/g,l(c));this.data={service:n,source:r,embed:d,width:s,height:a}}static prepare({config:e={}}){const{services:n={}}=e;let r=Object.entries(pM);const o=Object.entries(n).filter(([s,a])=>typeof a=="boolean"&&a===!0).map(([s])=>s),i=Object.entries(n).filter(([s,a])=>typeof a=="object").filter(([s,a])=>Ln.checkServiceConfig(a)).map(([s,a])=>{const{regex:l,embedUrl:c,html:d,height:u,width:h,id:g}=a;return[s,{regex:l,embedUrl:c,html:d,height:u,width:h,id:g}]});o.length&&(r=r.filter(([s])=>o.includes(s))),r=r.concat(i),Ln.services=r.reduce((s,[a,l])=>a in s?(s[a]=Object.assign({},s[a],l),s):(s[a]=l,s),{}),Ln.patterns=r.reduce((s,[a,l])=>(s[a]=l.regex,s),{})}static checkServiceConfig(e){const{regex:n,embedUrl:r,html:o,height:i,width:s,id:a}=e;let l=n&&n instanceof RegExp&&r&&typeof r=="string"&&o&&typeof o=="string";return l=l&&(a!==void 0?a instanceof Function:!0),l=l&&(i!==void 0?Number.isFinite(i):!0),l=l&&(s!==void 0?Number.isFinite(s):!0),l}static get pasteConfig(){return{patterns:Ln.patterns}}static get isReadOnlySupported(){return!0}embedIsReady(e){let n=null;return new Promise((r,o)=>{n=new MutationObserver(mM.debounce(r,450)),n.observe(e,{childList:!0,subtree:!0})}).then(()=>{n.disconnect()})}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".inline-code{background:rgba(250,239,240,.78);color:#b44437;padding:3px 4px;border-radius:5px;margin:0 1px;font-family:inherit;font-size:.86em;font-weight:500;letter-spacing:.3px}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const gM='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.5 8L6.11524 11.8683C6.04926 11.9437 6.04926 12.0563 6.11524 12.1317L9.5 16"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15 8L18.3848 11.8683C18.4507 11.9437 18.4507 12.0563 18.3848 12.1317L15 16"/></svg>';class bo{static get CSS(){return"inline-code"}constructor({api:e}){this.api=e,this.button=null,this.tag="CODE",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}static get isInline(){return!0}render(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}surround(e){if(!e)return;let n=this.api.selection.findParentTag(this.tag,bo.CSS);n?this.unwrap(n):this.wrap(e)}wrap(e){let n=document.createElement(this.tag);n.classList.add(bo.CSS),n.appendChild(e.extractContents()),e.insertNode(n),this.api.selection.expandToTag(n)}unwrap(e){this.api.selection.expandToTag(e);let n=window.getSelection(),r=n.getRangeAt(0),o=r.extractContents();e.parentNode.removeChild(e),r.insertNode(o),n.removeAllRanges(),n.addRange(r)}checkState(){const e=this.api.selection.findParentTag(this.tag,bo.CSS);this.button.classList.toggle(this.iconClasses.active,!!e)}get toolboxIcon(){return gM}static get sanitize(){return{code:{class:bo.CSS}}}}const vM=t=>new Promise((n,r)=>{try{n(t)}catch(o){r(o)}}).then(n=>({success:1,file:{url:n}})),yM=t=>{},bM={embed:Ln,list:{class:qO,inlineToolbar:!0},image:{class:_l,config:{uploader:{uploadByUrl:vM,uploadByFile:yM}}},marker:fM,header:{class:lM,config:{placeholder:"Type Heading ....",levels:[2,3,4],defaultLevel:2}},inlineCode:bo,quote:{class:yo,inlineToolbar:!0}},sw=async t=>{try{const e=new FormData;return e.append("image",t),(await(await fetch("https://mindful-mosaic.vercel.app//upload-image",{method:"POST",body:e})).json()).url}catch(e){return e}},xM=()=>{const t=Qo();let{blog_id:e}=Zo(),{userAuth:{access_token:n}}=w.useContext(Se),{theme:r}=w.useContext(wt),{blog:o,blog:{title:i,banner:s,content:a,tags:l,des:c},setBlog:d,textEditor:u,setTextEditor:h,setEditorState:g}=w.useContext(pc);w.useEffect(()=>{u.isReady||h(new KO({holderId:"textEditor",data:Array.isArray(a)?a[0]:a,tools:bM,placeholder:"Let's write an awesome story"}))},[]);const v=k=>{if(k.target.files[0]){let S=$.loading("Uploading...");sw(k.target.files[0]).then(E=>{$.dismiss(S),$.success("Uploaded Successfully"),d({...o,banner:E})}).catch(E=>{$.dismiss(S),$.error(E)})}},p=k=>{k.keyCode===13&&k.preventDefault()},x=k=>{let S=k.target;S.style.height="auto",S.style.height=S.scrollHeight+"px",d({...o,title:S.value})},y=k=>{let S=k.target;S.src=r=="light"?nR:rR},m=()=>{if(!s.length)return $.error("Upload a blog banner to publish it");if(!i.length)return $.error("Write blog title to publis it");u.isReady&&u.save().then(k=>{if(k.blocks.length)d({...o,content:k}),g("publish");else return $.error("Write Something in your blog to publish it")}).catch(k=>{$.error(k)})},b=k=>{if(k.target.className.includes("disable"))return;if(!i.length)return $.error("Write Blog Title before saving it as draft");let S=$.loading("Saving Draft...");k.target.classList.add("disable"),u.isReady&&u.save().then(E=>{let _={title:i,banner:s,des:c,content:E,tags:l,draft:!0};Z.post("https://mindful-mosaic.vercel.app//create-blog",{..._,id:e},{headers:{Authorization:`Bearer ${n}`}}).then(()=>{k.target.classList.remove("disable"),$.dismiss(S),$.success("Saved successfully"),setTimeout(()=>{t("/dashboard/blogs?tab=draft")},5e3)}).catch(({response:C})=>(k.target.classList.remove("disable"),$.dismiss(S),$.error(C.data.error)))})};return f.jsxs(f.Fragment,{children:[f.jsxs("nav",{className:"navbar",children:[f.jsx(ee,{to:"/",className:"flex-none w-10",children:f.jsx("img",{src:tf,alt:"Logo"})}),f.jsx("p",{className:"max-md:hidden text-black line-clamp-1 w-full",children:i.length?i:"New Blog"}),f.jsxs("div",{className:"flex gap-4 ml-auto",children:[f.jsx("button",{className:"btn-dark py-2 ",onClick:m,children:"Publish"}),f.jsx("button",{className:"btn-light py-2",onClick:b,children:"Save Draft"})]})]}),f.jsx(Cn,{}),f.jsx(we,{children:f.jsx("section",{children:f.jsxs("div",{className:"mx-auto max-w-[900px] w-full",children:[f.jsx("div",{className:" overflow-hidden relative aspect-video hover:opacity-80 bg-white border-2  rounded-xl border-lightGrey",children:f.jsxs("label",{htmlFor:"uploadBanner",children:[f.jsx("img",{src:s,alt:"Default Banner",className:"z-20",onError:y}),f.jsx("input",{type:"file",id:"uploadBanner",accept:".png, .jpg, .jpeg",hidden:!0,onChange:v})]})}),f.jsx("textarea",{defaultValue:i,placeholder:"Blog Title",className:"text-4xl font-medium w-full h-20 outline-none resize-none mt-10 leading-tight placeholder:opacity-40 bg-white",onKeyDown:p,onChange:x}),f.jsx("hr",{className:"w-full opacity-10 my-5"}),f.jsx("div",{id:"textEditor",className:"font-gelasio"})]})})})]})},wM=({tag:t,tagIndex:e})=>{let{blog:{tags:n},setBlog:r,blog:o}=w.useContext(pc);const i=()=>{n=n.filter(l=>l!==t),r({...o,tags:n})},s=l=>{if(l.keyCode===13||l.keyCode===188){l.preventDefault();let c=l.target.innerText;n[e]=c,r({...o,tags:n}),l.target.setAttribute("contentEditable",!1)}},a=l=>{l.target.setAttribute("contentEditable",!0),l.target.focus()};return f.jsxs("div",{className:"relative p-2 mt-2 mr-2 px-5 bg-white rounded-full inline-block hover:bg-opacity-50 pr-10",children:[f.jsx("p",{className:"outline-none",onClick:a,onKeyDown:s,children:t}),f.jsx("button",{onClick:i,className:"mt-[2px] rounded-full absolute right-3 top-1/2 -translate-y-1/2",children:f.jsx("i",{className:"fi fi-br-cross text-sm pointer-events-none"})})]})},kM=()=>{const n=Qo(),{blog_id:r}=Zo();let{blog:{banner:o,title:i,tags:s,des:a,content:l},setEditorState:c,setBlog:d,blog:u}=w.useContext(pc),{userAuth:{access_token:h}}=w.useContext(Se);const g=()=>{c("editor")},v=y=>{let m=y.target;d({...u,title:m.value})},p=y=>{if(y.keyCode===13||y.keyCode===188){y.preventDefault();let m=y.target.value;s.length<10?!s.includes(m)&&m.length&&d({...u,tags:[...s,m]}):$.error("You can add max 10 tags"),y.target.value=""}},x=y=>{if(y.target.className.includes("disable"))return;if(!i.length)return $.error("Write Blog Title befor publising");if(!a.length||a.length>200)return $.error("Write a description about your blog within 200 characters to publish");if(!s.length||s.length>10)return $.error("Write some tags about blog within 10 taglimit to publish");let m=$.loading("Publishing..."),b={title:i,banner:o,des:a,content:l,tags:s,draft:!1};y.target.classList.add("disable"),Z.post("https://mindful-mosaic.vercel.app//create-blog",{...b,id:r},{headers:{Authorization:`Bearer ${h}`}}).then(()=>{y.target.classList.remove("disable"),$.dismiss(m),$.success("Published successfully"),setTimeout(()=>{n("/dashboard/blogs")},5e3)}).catch(({response:k})=>(y.target.classList.remove("disable"),$.dismiss(m),$.error(k.data.error)))};return f.jsx(we,{children:f.jsxs("section",{className:"w-screen min-h-screen grid items-center lg:grid-cols-2 py-16 lg:gap-4",children:[f.jsx(Cn,{}),f.jsx("button",{className:"w-12 h-12 absolute right-[5vw] z-10 top-[5%] lg:top-[10%]",onClick:g,children:f.jsx("i",{className:"fi fi-br-cross"})}),f.jsxs("div",{className:"max-w-[500px] center ",children:[f.jsx("p",{className:"text-dark-grey mb-1",children:"Preview"}),f.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden bg-grey mt-4",children:f.jsx("img",{src:o,alt:"Banner"})}),f.jsx("h1",{className:"text-4xl font-medium mt-2 leading-tight line-clamp-2",children:i}),f.jsx("p",{className:"font-gelasio line-clamp-3 text-xl leading-7 mt-4",children:a})]}),f.jsxs("div",{className:"border-grey lg:border-1 lg:pl-4",children:[f.jsx("p",{className:"text-dark-grey mb-2 mt-9",children:"Blog Title"}),f.jsx("input",{type:"text",placeholder:"Blog Title",defaultValue:i,className:"input-box pl-4",onChange:v}),f.jsx("p",{className:"text-dark-grey mb-2 mt-9",children:"Short description about your blog"}),f.jsx("textarea",{maxLength:200,defaultValue:a,className:"h-40 resize-none leading-7 input-box pl-4",onChange:y=>d({...u,des:y.target.value}),onKeyDown:y=>{y.keyCode===13&&y.preventDefault()}}),f.jsxs("p",{className:"mt-1 text-dark-grey text-sm text-right",children:[200-a.length," characters left"]}),f.jsx("p",{className:"text-dark-grey mb-2 mt-9",children:"Topics - ( Helps in searching and ranking your blog post )"}),f.jsxs("div",{className:"relative input-box pl-2 py-2 pb-4",children:[f.jsx("input",{type:"text",placeholder:"Topics",onKeyDown:p,className:"sticky input-box bg-white top-0 lef0 pl-4 mb-3 focus:bg-white"}),s&&s.map((y,m)=>f.jsx(wM,{tagIndex:m,tag:y},m))]}),f.jsxs("p",{className:"mt-1 pt-1 mb-4 text-dark-grey text-right ",children:[10-s.length," Tags left"]}),f.jsx("button",{onClick:x,className:"btn-dark px-8 ",children:"Publish"})]})]})})},st=()=>f.jsx("div",{className:"w-12 mx-auto my-8",children:f.jsxs("svg",{"aria-hidden":"true",className:"w-12 h-12 mr-2 text-white animate-spin fill-dark-grey",viewBox:"0 0 100 101",fill:"none",children:[f.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),f.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]})}),SM={title:"",banner:"",content:[],tags:[],des:"",author:{personal_info:{}}},pc=w.createContext({}),kv=()=>{let{blog_id:t}=Zo();const[e,n]=w.useState(SM),[r,o]=w.useState("editor"),[i,s]=w.useState({isReady:!1});let{userAuth:{access_token:a}}=w.useContext(Se);const[l,c]=w.useState(!0);return w.useEffect(()=>{if(!t)return c(!1);Z.post("https://mindful-mosaic.vercel.app//get-blog",{blog_id:t,draft:!0,mode:"edit"}).then(({data:{blog:d}})=>{n(d),c(!1)}).catch(d=>{n(null),c(!1),console.log(!1)})},[]),f.jsx(pc.Provider,{value:{blog:e,setBlog:n,editorState:r,setEditorState:o,textEditor:i,setTextEditor:s},children:a===null?f.jsx(ef,{to:"/signin"}):l?f.jsx(st,{}):r==="editor"?f.jsx(xM,{}):f.jsx(kM,{})})};let aa,Ti;const mc=({routes:t,defaultHidden:e=[],defaultActiveIndex:n=0,children:r})=>{aa=w.useRef(),Ti=w.useRef();const{theme:o}=w.useContext(wt);let[i,s]=w.useState(n),[a,l]=w.useState(!1),[c,d]=w.useState(window.innerWidth);const u=(h,g)=>{let{offsetWidth:v,offsetLeft:p}=h;aa.current.style.width=v+"px",aa.current.style.left=p+"px",s(g)};return w.useEffect(()=>{c>766&&i!=n&&u(Ti.current,n),a||window.addEventListener("resize",()=>{a||l(!0),d(window.innerWidth)})},[c]),w.useEffect(()=>{u(Ti.current,n)},[]),f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:`relative mb-8 bg-white border-b ${o==="dark"?"border-darkGrey":"border-lightGrey"} flex flex-nowrap overflow-x-auto`,children:[t&&t.map((h,g)=>f.jsx("button",{ref:g===n?Ti:null,onClick:v=>{u(v.target,g)},className:"p-4 px-5 capitalize "+(i===g?"text-black ":"text-dark-grey ")+(e.includes(h)?" md:hidden ":" "),children:h},g)),f.jsx("hr",{ref:aa,className:"absolute bottom-0 duration-300 border-gray-300"})]}),Array.isArray(r)?r[i]:r]})};let aw=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];const oi=t=>{let e=new Date(t);return`${e.getDate()} ${aw[e.getMonth()]}`},CM=t=>{let e=new Date(t);return`${e.getDate()} ${aw[e.getMonth()]} ${e.getFullYear()}`},gc=({content:t,author:e})=>{const{theme:n}=w.useContext(wt);let{publishedAt:r,tags:o,title:i,des:s,banner:a,activity:{total_likes:l},blog_id:c}=t,{fullname:d,profile_img:u,username:h}=e;return f.jsxs(ee,{to:`/blog/${c}`,className:`flex gap-8 items-center border rounded-xl  p-5 mb-4 ${n==="dark"?"bg-black-blue border-darkGrey hover:shadow-custom ":"bg-white border-lightGrey hover:shadow-md"}  duration-300 transition-all hover:scale-102`,children:[f.jsxs("div",{className:"w-full",children:[f.jsxs("div",{className:"flex gap-2 items-center mb-7",children:[f.jsx("img",{src:u,alt:d,className:"w-6 h-6 rounded-full"}),f.jsxs("p",{className:"line-clamp-1",children:[d," @",h]}),f.jsx("p",{className:"min-w-fit",children:oi(r)})]}),f.jsx("h1",{className:"blog-title",children:i}),f.jsx("p",{className:"my-3 text-xl font-gelasio leading-7 max-sm:hidden md:max-[1100px]:hidden line-clamp-2",children:s}),f.jsxs("div",{className:"flex gap-4 mt-7",children:[f.jsx("span",{className:"btn-light py-1 px-4",children:o[0]}),f.jsxs("span",{className:"ml-3 flex items-center gap-2 text-dark-grey",children:[f.jsx("i",{className:"fi fi-rr-heart text-red text-xl"}),l]})]})]}),f.jsx("div",{className:"h-28 aspect-square bg-grey",children:f.jsx("img",{src:a,alt:"Banner",className:"w-full h-full aspect-square object-cover"})})]})},Sv=({blog:t,index:e})=>{const{theme:n}=w.useContext(wt);let{title:r,blog_id:o,author:{personal_info:{fullname:i,username:s,profile_img:a}},publishedAt:l}=t;return f.jsxs(ee,{to:`/blog/${o}`,className:`flex gap-5 mb-8 border ${n==="dark"?"border-darkGrey bg-black-blue  hover:shadow-custom":"border-lightGrey bg-white hover:shadow-md"} rounded-xl  p-5`,children:[f.jsx("h1",{className:"blog-index",children:e<10?"0"+(e+1):e+1}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex gap-2 items-center mb-7",children:[f.jsx("img",{src:a,alt:i,className:"w-6 h-6 rounded-full"}),f.jsxs("p",{className:"line-clamp-1",children:[i," @",s]}),f.jsx("p",{className:"min-w-fit",children:oi(l)})]}),f.jsx("h1",{className:"blog-title",children:r})]})]})},Ht=({message:t})=>f.jsx("div",{className:"text-center w-full p-4 rounded-full bg-grey/50 mt-4",children:f.jsx("p",{children:t})}),Wo=async({create_new_arr:t=!1,state:e,data:n,page:r,countRoute:o,data_to_send:i={},user:s=void 0})=>{let a,l={};return s&&(l.headers={Authorization:`Bearer ${s}`}),e!==null&&!t?a={...e,results:[...e.results,...n],page:r}:await Z.post("https://mindful-mosaic.vercel.app/"+o,i,l).then(({data:{totalDocs:c}})=>{a={results:n,page:1,totalDocs:c}}).catch(c=>{console.log(c)}),a},Ko=({state:t,fetchDataFun:e,additionalParam:n})=>{if(t!==null&&t.totalDocs>t.results.length)return f.jsx("button",{onClick:()=>e({...n,page:t.page+1}),className:"text-blue p-2 px-3 hover:bg-grey/30 rounded-md flex items-center gap-2",children:"LoadMore"})},EM="/assets/dark-f8e116de.mp4",TM="/assets/light-b8a786d0.mp4",_M="_landingContainer_gt7vl_1",IM="_landingContainerDark_gt7vl_23",PM="_landingContainerLight_gt7vl_29",AM="_landingRightContainer_gt7vl_35",NM="_landingVideoContainer_gt7vl_43",vi={landingContainer:_M,landingContainerDark:IM,landingContainerLight:PM,landingRightContainer:AM,landingVideoContainer:NM},BM=()=>{const{theme:t}=w.useContext(wt);return f.jsx("div",{className:`${vi.landingContainer} ${t==="dark"?vi.landingContainerDark:vi.landingContainerLight}`,children:f.jsx("div",{className:vi.landingRightContainer,children:f.jsx("video",{autoPlay:!0,muted:!0,loop:!0,id:"myVideo",className:vi.landingVideoContainer,src:t==="dark"?EM:TM,type:"video/mp4"})})})},LM=()=>{const{theme:t}=w.useContext(wt);let[e,n]=w.useState(null),[r,o]=w.useState(null),[i,s]=w.useState("home"),a=["programming","hollywood","food","future","cooking","tech","travel"];const l=({page:h=1})=>{Z.post("https://mindful-mosaic.vercel.app//latest-blog",{page:h}).then(async({data:g})=>{let v=await Wo({state:e,data:g.blogs,page:h,countRoute:"/all-latest-blogs-count"});n(v)}).catch(g=>{console.log(g)})},c=()=>{Z.get("https://mindful-mosaic.vercel.app//trending-blog").then(({data:h})=>{o(h.blogs)}).catch(h=>{console.log(h)})},d=({page:h=1})=>{Z.post("https://mindful-mosaic.vercel.app//search-blogs",{tag:i,page:h}).then(async({data:g})=>{let v=await Wo({state:e,data:g.blogs,page:h,countRoute:"/all-search-blogs-count",data_to_send:{tag:i}});n(v)}).catch(g=>{console.log(g)})},u=h=>{let g=h.target.innerText.toLowerCase();if(n(null),i===g){s("home");return}s(g)};return w.useEffect(()=>{Ti.current.click(),i==="home"?l({page:1}):d({page:1}),r||c()},[i]),f.jsxs("div",{children:[f.jsx(BM,{}),f.jsx(we,{children:f.jsxs("section",{className:"h-cover bg-white-200 flex justify-center gap-10 ",children:[f.jsx("div",{className:"w-full ",children:f.jsxs(mc,{routes:[i,"trending blog"],defaultHidden:["trending blog"],children:[f.jsxs(f.Fragment,{children:[e===null?f.jsx(st,{}):e.results.length?e.results.map((h,g)=>f.jsx(we,{transition:{duration:1,delay:g*.1},children:f.jsx(gc,{content:h,author:h.author.personal_info,className:"border-5 border-yellow-300"})},g)):f.jsx(Ht,{message:"No blog published"}),f.jsx(Ko,{state:e,fetchDataFun:i==="home"?l:d})]}),r===null?f.jsx(st,{}):r.length?r.map((h,g)=>f.jsx(we,{transition:{duration:1,delay:g*.1},children:f.jsx(Sv,{blog:h,index:g})},g)):f.jsx(Ht,{message:"No blog Trending"})]})}),f.jsx("div",{className:`min-w-[40%] lg:min-w-[400px] max-w-min border-l ${t==="dark"?"border-darkGrey":"border-lightGrey"} pl-8 pt-3 max-md:hidden`,children:f.jsxs("div",{className:"flex flex-col gap-10",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"font-medium text-xl mb-8",children:"Stories from all interest"}),f.jsx("div",{className:"flex gap-3 flex-wrap",children:a.map((h,g)=>f.jsx("button",{onClick:u,className:"tag "+(i===h?"bg-black text-white":""),children:h},g))})]}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-xl font-medium mb-8",children:["Trending ",f.jsx("i",{className:"fi fi-rr-arrow-trend-up"})]}),r===null?f.jsx(st,{}):r.length?r.map((h,g)=>f.jsx(we,{transition:{duration:1,delay:g*.1},children:f.jsx(Sv,{blog:h,index:g})},g)):f.jsx(Ht,{message:"No blog Trending"})]})]})})]})})]})},RM=({user:t})=>{let{personal_info:{fullname:e,username:n,profile_img:r}}=t;return f.jsxs(ee,{to:`/user/${n}`,className:"flex gap-5 items-center mb-5",children:[f.jsx("img",{src:r,alt:n,className:"w-14 h-15 rounded-full "}),f.jsxs("div",{children:[f.jsx("h1",{className:"font-medium text-xl line-clamp-2",children:e}),f.jsxs("p",{className:"text-dark-grey",children:["@",n]})]})]})},OM=()=>{const{query:t}=Zo(),[e,n]=w.useState(null),[r,o]=w.useState(null),i=({page:c=1,create_new_arr:d=!1})=>{Z.post("https://mindful-mosaic.vercel.app//search-blogs",{query:t,page:c}).then(async({data:u})=>{let h=await Wo({state:e,data:u.blogs,page:c,countRoute:"/all-search-blogs-count",data_to_send:{query:t},create_new_arr:d});n(h)}).catch(u=>{console.log(u)})},s=()=>{Z.post("https://mindful-mosaic.vercel.app//search-users",{query:t}).then(({data:{users:c}})=>{o(c)}).catch(c=>{console.log(c)})};w.useEffect(()=>{a(),i({page:1,create_new_arr:!0}),s()},[t]);const a=()=>{n(null),o(null)},l=()=>f.jsx(f.Fragment,{children:r===null?f.jsx(st,{}):r.length?r.map((c,d)=>f.jsx(we,{transition:{duration:1,delay:d*.08},children:f.jsx(RM,{user:c})},d)):f.jsx(Ht,{message:"No User Found"})});return f.jsxs("section",{className:"h-cover flex justify-center gap-10",children:[f.jsx("div",{className:"w-full",children:f.jsxs(mc,{routes:[`Search Results from "${t}`,"Account Matched"],defaultHidden:["Account Matched"],children:[f.jsxs(f.Fragment,{children:[e===null?f.jsx(st,{}):e.results.length?e.results.map((c,d)=>f.jsx(we,{transition:{duration:1,delay:d*.1},children:f.jsx(gc,{content:c,author:c.author.personal_info})},d)):f.jsx(Ht,{message:"No blog published"}),f.jsx(Ko,{state:e,fetchDataFun:i})]}),f.jsx(f.Fragment,{children:f.jsx(l,{})})]})}),f.jsxs("div",{className:"min-w-[40%] lg:min-w-[350px] max-w-min border-l border-grey pl-8 pt-3 max-md:hidden",children:[f.jsxs("h1",{className:"font-medium text-xl mb-8",children:["Users Related to search ",f.jsx("i",{className:"fi fi-rr-user mt-1"})]}),f.jsx(l,{})]})]})},MM="/assets/404-light-cbeafc35.png",DM="/assets/404-dark-6776bc8a.png",lw=()=>{let{theme:t}=w.useContext(wt);return f.jsxs("section",{className:"h-cover relative p-10 flex flex-col items-center gap-20 text-center",children:[f.jsx("img",{src:t=="light"?DM:MM,alt:"404page",className:"select-none border-2 border-grey w-72 aspect-square object-cover rounded"}),f.jsx("h1",{className:"text-4xl font-gelasio leading-7",children:"Page Not Found"}),f.jsxs("p",{className:"text-dark-grey text-xl leadding-7 -mt-8",children:["The page you are looking for does not exixts, Head back to the ",f.jsx(ee,{to:"/",className:"text-black underline",children:"home page"})]}),f.jsxs("div",{className:"mt-auto",children:[f.jsx("img",{src:tf,alt:"Logo",className:"h-20 object-contain block mx-auto select-none"}),f.jsx("p",{className:"mt-5 text-dark-grey",children:"Read millions of stories around the world"})]})]})},Cv=({className:t,bio:e,social_links:n,joinedAt:r})=>f.jsxs("div",{className:"md:w-[90%] md:mt-7 "+t,children:[f.jsx("p",{className:"text-xl leading-7",children:e.length?e:"Noting to read here"}),f.jsx("div",{className:"flex gap-x-7 gap-y-2 flex-wrap my-7 items-center text-dark-grey",children:Object.keys(n).map(o=>{let i=n[o];return i?f.jsx(ee,{to:i,target:"_blank",children:f.jsx("i",{className:"fi "+(o!=="website"?"fi-brands-"+o:"fi-rr-globe")+" text-2xl hover:text-black"})},o):" "})}),f.jsxs("p",{className:"text-xl leading-7 text-dark-grey",children:["Joined on ",CM(r)]})]}),nh={personal_info:{fullname:"",username:"",profile_img:"",bio:""},account_info:{total_posts:0,total_reads:0},social_links:{},joinedAt:""},jM=()=>{const[t,e]=w.useState(nh);let[n,r]=w.useState(!0),[o,i]=w.useState(null),[s,a]=w.useState();const{id:l}=Zo();let{personal_info:{fullname:c,username:d,profile_img:u,bio:h},account_info:{total_posts:g,total_reads:v},social_links:p,joinedAt:x}=t,{userAuth:{username:y}}=w.useContext(Se);const m=()=>{Z.post("https://mindful-mosaic.vercel.app//get-profile",{username:l}).then(({data:S})=>{S!==null&&e(S),a(l),b({user_id:S._id}),r(!1)}).catch(S=>{console.log(S),r(!1)})},b=({page:S=1,user_id:E})=>{E=E===void 0?o.user_id:E,Z.post("https://mindful-mosaic.vercel.app//search-blogs",{author:E,page:S}).then(async({data:_})=>{let C=await Wo({state:o,data:_.blogs,page:S,countRoute:"/all-search-blogs-count",data_to_send:{author:E}});C.user_id=E,i(C)}).catch(_=>{console.log(_)})};w.useEffect(()=>{l!==s&&i(null),o===null&&(k(),m())},[l,o]);const k=()=>{e(nh),r(!0),a("")};return f.jsx(we,{children:n?f.jsx(st,{}):d.length?f.jsxs("section",{className:"h-cover md:flex flex-row-reverse items-start gap-5 min-[1100px]:gap-12",children:[f.jsxs("div",{className:"flex flex-col max-md:items-center gap-5 min-w-[250px] md:w-[50%] md:pl-8 md:border-l border-grey md:sticky md:top-[100px] md:py-10",children:[f.jsx("img",{src:u,alt:"Profile img",className:"w-48 h-48 bg-grey rounded-full md:w-32 md:h-32"}),f.jsxs("h1",{className:"text-2xl font-medium",children:["@",d]}),f.jsx("p",{className:"text-xl capitalize h-6",children:c}),f.jsxs("p",{children:[g.toLocaleString()," Blogs -"," ",v.toLocaleString()," Reads"]}),f.jsx("div",{className:"flex gap-4 mt-2",children:l===y?f.jsx(ee,{to:"/settings/edit-profile",className:"btn-light rounded-md",children:"Edit Profile"}):""}),f.jsx(Cv,{className:"max-md:hidden",bio:h,social_links:p,joinedAt:x})]}),f.jsx("div",{className:"max-md:mt-12 w-full",children:f.jsxs(mc,{routes:["Blogs Published","About"],defaultHidden:["About"],children:[f.jsxs(f.Fragment,{children:[o===null?f.jsx(st,{}):o.results.length?o.results.map((S,E)=>f.jsx(we,{transition:{duration:1,delay:E*.1},children:f.jsx(gc,{content:S,author:S.author.personal_info})},E)):f.jsx(Ht,{message:"No blog published"}),f.jsx(Ko,{state:o,fetchDataFun:b})]}),f.jsx(Cv,{bio:h,joinedAt:x,social_links:p})]})})]}):f.jsx(lw,{})})},Ev=()=>{let t=w.useContext(Ms),{blog:e,blog:{_id:n,blog_id:r,title:o,activity:i,activity:{total_likes:s,total_comments:a},author:{personal_info:{username:l}}},setBlog:c,isLikedByUser:d,setLikedByUser:u,setCommentsWrapper:h}=t,{userAuth:{username:g,access_token:v}}=w.useContext(Se);w.useEffect(()=>{v&&Z.post("https://mindful-mosaic.vercel.app//isLiked-by-user",{_id:n},{headers:{Authorization:`Bearer ${v}`}}).then(({data:{result:x}})=>{u(!!x)}).catch(x=>{console.log(x)})},[]);const p=()=>{v?(u(x=>!x),d?s--:s++,c({...e,activity:{...i,total_likes:s}}),Z.post("https://mindful-mosaic.vercel.app//like-blog",{_id:n,isLikedByUser:d},{headers:{Authorization:`Bearer ${v}`}}).then(({data:x})=>{console.log(x)}).catch(x=>{console.log(x)})):$.error("Please login to like this blog")};return f.jsxs(f.Fragment,{children:[f.jsx(Cn,{}),f.jsx("hr",{className:"border-grey my-2"}),f.jsxs("div",{className:"flex gap-6 justify-between",children:[f.jsxs("div",{className:"flex gap-3 items-center",children:[f.jsx("button",{onClick:p,className:"w-10 h-10 rounded-full flex items-center justify-center "+(d?"bg-red/20 text-red":"bg-grey/80"),children:f.jsx("i",{className:"fi "+(d?"fi-sr-heart":"fi-rr-heart")})}),f.jsx("p",{className:"text-xl text-dark-grey",children:s}),f.jsx("button",{onClick:()=>h(x=>!x),className:"w-10 h-10 rounded-full flex items-center justify-center bg-grey/80",children:f.jsx("i",{className:"fi fi-rr-comment-dots"})}),f.jsx("p",{className:"text-xl text-dark-grey",children:a})]}),f.jsxs("div",{className:"flex gap-6 items-center",children:[g===l?f.jsx(ee,{to:`/editor/${r}`,className:"underline hover:text-purple",children:"Edit"}):"",f.jsx(ee,{to:`https://twitter.com/intent/tweet?text=Read ${o}&url=${location.href}`,children:f.jsx("i",{className:"fi fi-brands-twitter text-xl hover:text-twitter"})})]})]}),f.jsx("hr",{className:"border-grey my-2"})]})},FM=({url:t,caption:e})=>f.jsxs("div",{children:[f.jsx("img",{src:t,alt:"Img"})," ",e.length?f.jsx("p",{className:"w-full text-center my-3 md:mb-12 text-base text-dark-grey",children:e}):""]}),UM=({quote:t,caption:e})=>f.jsxs("div",{className:"bg-purple/10 p-3 pl-5 border-l-4 border-purple",children:[f.jsx("p",{className:"text-xl leading-10 md:text-2xl",children:t}),e.length?f.jsx("p",{className:"w-full text-purple text-base",children:e}):""]}),$M=({style:t,items:e})=>f.jsx("ol",{className:`pl-5 ${t==="ordered"?" list-decimal":" list-disc"}`,children:e.map((n,r)=>f.jsx("li",{className:"my-0",dangerouslySetInnerHTML:{__html:n}},r))}),VM=({block:t})=>{let{type:e,data:n}=t;return e==="paragraph"?f.jsx("p",{dangerouslySetInnerHTML:{__html:n.text}}):e==="header"?n.level===3?f.jsx("h3",{className:"text-2xl font-bold",dangerouslySetInnerHTML:{__html:n.text}}):f.jsx("h2",{className:"text-3xl font-bold",dangerouslySetInnerHTML:{__html:n.text}}):e==="image"?f.jsx(FM,{url:n.file.url,caption:n.caption}):e==="quote"?f.jsx(UM,{quote:n.quote,caption:n.caption}):e==="list"?f.jsx($M,{className:"my-2",style:n.style,items:n.items}):f.jsx("h1",{})},cw=({action:t,index:e=void 0,replyingTo:n=void 0,setReplying:r})=>{let{blog:o,setBlog:i,blog:{_id:s,author:{_id:a},comments:l,comments:{results:c},activity:d,activity:{total_comments:u,total_parent_comments:h}},totalParentComentsLoaded:g,setTotalCommentsLoaded:v}=w.useContext(Ms),{userAuth:{access_token:p,username:x,fullname:y,profile_img:m}}=w.useContext(Se);const[b,k]=w.useState(""),S=()=>{if(!p)return $.error("login first to leave a comment");if(!b.length)return $.error("Write something to leave a comment...");Z.post("https://mindful-mosaic.vercel.app//add-comment",{_id:s,blog_author:a,comment:b,replying_to:n},{headers:{Authorization:`Bearer ${p}`}}).then(({data:E})=>{k(""),E.commented_by={personal_info:{username:x,fullname:y,profile_img:m}};let _;n?(c[e].children.push(E._id),E.childrenLevel=c[e].childrenLevel+1,E.parentIndex=e,c[e].isReplyLoaded=!0,c.splice(e+1,0,E),_=c,r(!1)):(E.childrenLevel=0,_=[E,...c]);let C=n?0:1;i({...o,comments:{...l,results:_},activity:{...d,total_comments:u+1,total_parent_comments:h+C}}),v(T=>T+C)}).catch(E=>{console.log(E)})};return f.jsxs(f.Fragment,{children:[f.jsx(Cn,{}),f.jsx("textarea",{value:b,onChange:E=>k(E.target.value),placeholder:"Leave an comment...",className:"input-box pl-5 placeholder:text-dark-grey resize-none h-[150px] overflow-auto"}),f.jsx("button",{className:"btn-dark mt-5 px-10",onClick:S,children:t})]})},zM=({index:t,leftVal:e,commentData:n})=>{let{commented_by:{personal_info:{profile_img:r,fullname:o,username:i}},commentedAt:s,comment:a,_id:l,children:c}=n,{blog:d,setBlog:u,blog:{comments:h,activity:g,activity:{total_parent_comments:v},comments:{results:p},author:{personal_info:{username:x}}},setTotalCommentsLoaded:y}=w.useContext(Ms),{userAuth:{access_token:m,username:b}}=w.useContext(Se);const[k,S]=w.useState(!1),E=()=>{if(!m)return Ge.error("Login first to leave a reply");S(B=>!B)},_=()=>{let B=t-1;try{for(;p[B].childrenLevel>=n.childrenLevel;)B--}catch{B=void 0}return B},C=(B,j=!1)=>{if(p[B])for(;p[B].childrenLevel>n.childrenLevel&&(p.splice(B,1),!!p[B]););if(j){let M=_();M!==void 0&&(p[M].children=p[M].children.filter(W=>W!==l),p[M].children.length||(p[M].isReplyLoaded=!1)),p.splice(t,1)}n.childrenLevel===0&&j&&y(M=>M-1),u({...d,comments:{results:p},activity:{...g,total_parent_comments:v-(n.childrenLevel===0&&j?1:0)}})},T=B=>{B.target.setAttribute("disabled",!0),Z.post("https://mindful-mosaic.vercel.app//delete-comment",{_id:l},{headers:{Authorization:`Bearer ${m}`}}).then(()=>{B.target.removeAttribute("disabled"),C(t+1,!0)}).catch(j=>{console.log(j)})},P=()=>{n.isReplyLoaded=!1,C(t+1)},O=({skip:B=0,currentIndex:j=t})=>{p[j].children.length&&(P(),Z.post("https://mindful-mosaic.vercel.app//get-replies",{_id:p[j]._id,skip:B}).then(({data:{replies:M}})=>{p[j].isReplyLoaded=!0;for(let W=0;W<M.length;W++)M[W].childrenLevel=p[j].childrenLevel+1,p.splice(j+1+W+B,0,M[W]);u({...d,comments:{...h,results:p}})}).catch(M=>{console.log(M)}))},U=()=>{let B=_(),j=f.jsx("button",{onClick:()=>O({skip:t-B,currentIndex:B}),className:"text-dark-grey p-2 px-3 hover:bg-grey/30 rounded-md flex items-center gap-2",children:"Load More Replies"});if(p[t+1]){if(p[t+1].childrenLevel<p[t].childrenLevel&&t-B<p[B].children.length)return j}else if(B&&t-B<p[B].children.length)return j};return f.jsxs("div",{className:"w-full",style:{paddingLeft:`${e*10}px`},children:[f.jsxs("div",{className:"my-5 p-6 rounded-md border border-grey",children:[f.jsxs("div",{className:"flex gap-3 items-center mb-8 ",children:[f.jsx("img",{src:r,alt:"Profile imag",className:"h-6 w-6 rounded-full"}),f.jsxs("p",{className:"line-clamp-1",children:[o," @",i]}),f.jsx("p",{className:"min-w-fit",children:oi(s)})]}),f.jsx("p",{className:"text-xl font-gelasio ml-3",children:a}),f.jsxs("div",{className:"flex gap-5 items-center mt-5",children:[n.isReplyLoaded?f.jsxs("button",{onClick:P,className:"text-dark-grey p-2 px-3 hover:bg-grey/30 rounded-md flex items-center gap-2",children:[f.jsx("i",{className:"fi fi-rs-comment-dots"}),"Hide Reply"]}):f.jsxs("button",{onClick:O,className:"text-dark-grey p-2 px-3 hover:bg-grey/30 rounded-md flex items-center gap-2",children:[f.jsx("i",{className:"fi fi-rs-comment-dots"}),c.length," Reply"]}),f.jsx("button",{onClick:E,className:"underline",children:"Reply"}),b===i||b===x?f.jsx("button",{onClick:T,className:"p-2 px-3 rounded-md border border-grey ml-auto hover:bg-red/30 hover:text-red flex items-center",children:f.jsx("i",{className:"fi fi-rr-trash pointer-events-auto"})}):""]}),k?f.jsx("div",{className:"mt-8",children:f.jsx(cw,{action:"reply",index:t,replyingTo:l,setReplying:S})}):""]}),f.jsx(U,{})]})},uw=async({skip:t=0,blog_id:e,setParentCommentCountFun:n,comment_array:r=null})=>{let o;return await Z.post("https://mindful-mosaic.vercel.app//get-blog-comments",{blog_id:e,skip:t}).then(({data:i})=>{i.map(s=>{s.childrenLevel=0}),n(s=>s+i.length),r===null?o={results:i}:o={results:[...r,...i]}}),o},HM=()=>{let{blog:{_id:t,title:e,comments:{results:n},activity:{total_parent_comments:r}},commentsWrapper:o,setCommentsWrapper:i,totalParentComentsLoaded:s,setTotalCommentsLoaded:a,setBlog:l,blog:c}=w.useContext(Ms);const d=async()=>{let u=await uw({skip:s,blog_id:t,setParentCommentCountFun:a,comment_array:n});l({...c,comments:u})};return f.jsx("div",{className:"max-sm:w-full fixed "+(o?"top-0 sm:right-0":"top-[100%] sm:right-[-100%]")+" duration-700 max-sm:right-0 sm:top-0 w-[30%] min-w-[350px] h-full z-50 bg-white shadow-2xl p-8 px-16 overflow-y-auto overflow-x-hidden",children:f.jsxs("div",{className:"relative",children:[f.jsx("h1",{className:"text-xl font-medium",children:"Comments"}),f.jsx("p",{className:"text-lg mt-2 w-[70&] text-dark-grey line-clamp-1 ",children:e}),f.jsx("button",{onClick:()=>i(u=>!u),className:"absolute top-0 right-0 flex justify-center items-center w-12 h-12 rounded-full bg-grey",children:f.jsx("i",{className:"fi fi-br-cross text-2xl mt-1"})}),f.jsx("hr",{className:"border-grey my-8 w-[120%] -ml-10"}),f.jsx(cw,{action:"comment"}),n&&n.length?n.map((u,h)=>f.jsx(we,{children:f.jsx(zM,{index:h,leftVal:u.childrenLevel*4,commentData:u})},h)):f.jsx(Ht,{message:"No Comments"}),r>s?f.jsx("button",{onClick:d,className:"text-dark-grey p-2 px-3 hover:bg-grey/30 rounded-md flex items-center gap-2",children:"Load More"}):""]})})},yu={title:"",des:"",content:[],author:{personal_info:{}},banner:"",publishedAt:""},Ms=w.createContext({}),WM=()=>{const{theme:t}=w.useContext(wt);let{blog_id:e}=Zo();const[n,r]=w.useState(yu),[o,i]=w.useState(yu),[s,a]=w.useState(!0),[l,c]=w.useState(!1),[d,u]=w.useState(!1),[h,g]=w.useState(0);let{title:v,content:p,banner:x,author:{personal_info:{username:y,fullname:m,profile_img:b}},publishedAt:k}=n;const S=()=>{Z.post("https://mindful-mosaic.vercel.app//get-blog",{blog_id:e}).then(async({data:{blog:_}})=>{_.comments=await uw({blog_id:_._id,setParentCommentCountFun:g}),r(_),Z.post("https://mindful-mosaic.vercel.app//search-blogs",{tag:_.tags[0],limit:6,eliminate_blog:e}).then(({data:{blogs:C}})=>{i(C)}).catch(C=>{console.log(C)}),a(!1)}).catch(_=>{console.log(_),a(!1)})};w.useEffect(()=>{E(),S()},[e]);const E=()=>{r(yu),i(null),a(!0),c(!1),g(0)};return f.jsx(we,{children:s?f.jsx(st,{}):f.jsxs(Ms.Provider,{value:{blog:n,setBlog:r,isLikedByUser:l,setLikedByUser:c,commentsWrapper:d,setCommentsWrapper:u,totalParentComentsLoaded:h,setTotalCommentsLoaded:g},children:[f.jsx(HM,{}),f.jsxs("div",{className:"max-w-[800px] center py-10 max-lg:px-[5vw]",children:[f.jsx("img",{src:x,alt:"Banner",className:`center aspect-video border rounded-xl overflow-hidden ${t==="dark"?"border-darkGrey":"lightGrey"} `}),f.jsxs("div",{className:"mt-12",children:[f.jsx("h2",{children:v}),f.jsxs("div",{className:"flex max-sm:flex-col justify-between my-8",children:[f.jsxs("div",{className:"flex gap-5 items-start ",children:[f.jsx("img",{src:b,alt:"Author",className:"w-12 h-12 rounded-full"}),f.jsxs("p",{className:"capitalize ",children:[m,f.jsx("br",{}),"@",f.jsx(ee,{className:"underline",to:`/user/${y}`,children:y})]})]}),f.jsxs("p",{className:"text-dark-grey opacity-75 max-sm:mt-6 mx-sm:ml-12 max-sm:pl-5",children:["Published on ",oi(k)]})]})]}),f.jsx(Ev,{}),f.jsx("div",{className:"my-12 font-gelasio blog-page-content",children:p[0].blocks.map((_,C)=>f.jsx("div",{className:"my-2 md:my-3",children:f.jsx(VM,{block:_})},C))}),f.jsx(Ev,{}),o!==null&&o.length?f.jsxs(f.Fragment,{children:[f.jsx("h1",{className:"font-medium text-2xl mt-14 mb-10",children:"Similar Blogs"}),o&&o.map((_,C)=>{console.log(_);let{author:{personal_info:T}}=_;return f.jsx(we,{transition:{duration:1,delay:C*.08},children:f.jsx(gc,{content:_,author:T})},C)})]}):""]})]})})},Tv=()=>{const{theme:t}=w.useContext(wt);let{userAuth:{access_token:e,new_notification_available:n}}=w.useContext(Se),r=location.pathname.split("/")[2],[o,i]=w.useState(r.replace("-"," ")),[s,a]=w.useState(!1),l=w.useRef(),c=w.useRef(),d=w.useRef();const u=h=>{let{offsetWidth:g,offsetLeft:v}=h.target;console.log(v,g),l.current.style.width=g+"px",l.current.style.left=v+"px",h.target==c.current?a(!0):a(!1)};return w.useEffect(()=>{a(!1),d.current.click()},[o]),e===null?f.jsx(ef,{to:"/signin"}):f.jsx(f.Fragment,{children:f.jsxs("section",{className:"relative flex gap-10 py-0 m-0 max-md:flex-col",children:[f.jsxs("div",{className:"skicky top-[80px] z-30",children:[f.jsxs("div",{className:`relative md:hidden bg-white py-1 border-b  ${t==="dark"?"border-darkGrey":"border-lightGrey"} flex flex-nowrap overflow-x-auto `,children:[f.jsx("button",{ref:c,className:"p-5 capitalize ",onClick:u,children:f.jsx("i",{className:"fi fi-rr-bars-staggered pointer-events-none"})}),f.jsx("button",{ref:d,className:"p-5 capitalize ",onClick:u,children:o}),f.jsx("hr",{ref:l,className:"absolute bottom-0 duration-500 "})]}),f.jsxs("div",{className:"min-w-[200px] h-[calc(100vh-80px-64px)] md:h-cover md:sticky top-24 overflow-y-auto p-6 md:pr-0 md:border-grey md:border-r absolute max-md:top-[64px] bg-white max-md:w-[calc(100%+80px)] max-md:px-16 max-md:-ml-7 duration-500 "+(s?"opacity-100 pointer-events-auto":"max-md:opacity-0 max-md:pointer-events-none"),children:[f.jsx("h1",{className:"text-xl text-dark-grey mb-2",children:"Dashboard"}),f.jsx("hr",{className:`-ml-6 mb-3 mr-6 ${t==="dark"?"border-darkGrey":"border-lightGrey"}`}),f.jsxs(fi,{to:"/dashboard/blogs",onClick:h=>i(h.target.innerText),className:"sidebar-link",children:[f.jsx("i",{className:"fi fi-rr-document"}),"Blogs"]}),f.jsxs(fi,{to:"/dashboard/notifications",onClick:h=>i(h.target.innerText),className:"sidebar-link",children:[f.jsxs("div",{className:"relative",children:[f.jsx("i",{className:"fi fi-rr-bell"}),n&&f.jsx("span",{className:"bg-red h-2 w-2 rounded-full absolute z-10 top-0 right-0"})]}),"Notification"]}),f.jsxs(fi,{to:"/editor",onClick:h=>i(h.target.innerText),className:"sidebar-link",children:[f.jsx("i",{className:"fi fi-rr-file-edit"}),"Write"]}),f.jsx("h1",{className:"text-xl text-dark-grey mb-3 mt-7",children:"Setting"}),f.jsx("hr",{className:`-ml-6 mb-3 mr-6 ${t==="dark"?"border-darkGrey":"border-lightGrey"}`}),f.jsxs(fi,{to:"/settings/edit-profile",onClick:h=>i(h.target.innerText),className:"sidebar-link",children:[f.jsx("i",{className:"fi fi-rr-user"}),"Edit Profile"]}),f.jsxs(fi,{to:"/settings/change-password",onClick:h=>i(h.target.innerText),className:"sidebar-link",children:[f.jsx("i",{className:"fi fi-rr-lock"}),"Change Password"]})]})]}),f.jsx("div",{className:"max-md:-mt-8 mt-5 w-full",children:f.jsx(Y0,{})})]})})},KM=()=>{let{userAuth:{access_token:t}}=w.useContext(Se),e=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,20}$/,n=w.useRef();const r=o=>{o.preventDefault();let i=new FormData(n.current),s={};for(let[d,u]of i.entries())s[d]=u;let{currentPassword:a,newPassword:l}=s;if(!a.length||!l.length)return $.error("Fill all th inputs");if(!e.test(a)||!e.test(l))return $.error("password should be 6 to 20 characters long with a numeric, 1 uppercase and 1 lowercase lettes");o.target.setAttribute("disabled",!0);let c=$.loading("Updating...");Z.post("https://mindful-mosaic.vercel.app//change-password",s,{headers:{Authorization:`Bearer ${t}`}}).then(()=>($.dismiss(c),o.target.removeAttribute("disabled"),$.success("Password Updated"))).catch(({response:d})=>($.dismiss(c),o.target.removeAttribute("disabled"),$.error(d.data.error)))};return f.jsxs(we,{children:[f.jsx(Cn,{}),f.jsxs("form",{ref:n,children:[f.jsx("h1",{className:"max-md:hidden",children:"Change Password"}),f.jsxs("div",{className:"py-10 w-full md:max-w-[400px]",children:[f.jsx(nn,{name:"currentPassword",type:"password",className:"profile-edit-input",placeholder:"Current Password",icon:"fi-rr-unlock"}),f.jsx(nn,{name:"newPassword",type:"password",className:"profile-edit-input",placeholder:"New Password",icon:"fi-rr-unlock"}),f.jsx("button",{onClick:r,className:"btn-dark px-10",type:"submit",children:"Change Password"})]})]})]})},GM=()=>{let t=150,{userAuth:e,userAuth:{access_token:n},setUserAuth:r}=w.useContext(Se);const[o,i]=w.useState(nh),[s,a]=w.useState(!0),[l,c]=w.useState(t),[d,u]=w.useState(null);let h=w.useRef(),g=w.useRef(),{personal_info:{profile_img:v,fullname:p,username:x,email:y,bio:m},social_links:b}=o;console.log(o),w.useEffect(()=>{n&&Z.post("https://mindful-mosaic.vercel.app//get-profile",{username:e.username}).then(({data:C})=>{i(C),a(!1)}).catch(C=>{console.log(C),a(!1)})},[n]);const k=C=>{c(t-C.target.value.length)},S=C=>{let T=C.target.files[0];h.current.src=URL.createObjectURL(T),u(T)},E=C=>{if(C.preventDefault(),d){let T=Ge.loading("Uploading...");C.target.setAttribute("disabled",!0),sw(d).then(P=>{P&&Z.post("https://mindful-mosaic.vercel.app//update-profile-img",{url:P},{headers:{Authorization:`Bearer ${n}`}}).then(({data:O})=>{let U={...e,profile_img:O.profile_img};ml("user",JSON.stringify(U)),r(U),u(null),Ge.dismiss(T),Ge.success("Uploaded Successfully :)"),C.target.removeAttribute("disabled")})}).catch(({response:P})=>{C.target.removeAttribute("disabled"),Ge.dismiss(T),Ge.error(P.data.error)})}},_=C=>{C.preventDefault();let T=new FormData(g.current),P={};for(let[z,V]of T.entries())P[z]=V;let{username:O,bio:U,youtube:B,facebook:j,twitter:M,github:W,instagram:ye,website:L}=P;if(O.length<3)return Ge.error("Username should be at least 3 letters long");if(U.length>t)return Ge.error(`Bio should not be more than ${t} characters `);let F=Ge.loading("Updating...");C.target.setAttribute("disabled",!0),Z.post("https://mindful-mosaic.vercel.app//update-profile",{username:O,bio:U,social_links:{youtube:B,facebook:j,twitter:M,github:W,instagram:ye,website:L}},{headers:{Authorization:`Bearer ${n}`}}).then(({data:z})=>{if(e.username!=z.username){let V={...e,username:z.username};ml("user",JSON.stringify(V)),r(V)}Ge.dismiss(F),C.target.removeAttribute("disabled"),Ge.success("Profile updated successfully :)")}).catch(({response:z})=>{Ge.dismiss(F),C.target.removeAttribute("disabled"),Ge.error(z.data.error)})};return f.jsx(we,{children:s?f.jsx(st,{}):f.jsxs("form",{ref:g,children:[f.jsx(Cn,{}),f.jsx("h1",{className:"max-md:hidden",children:"Edit Profile"}),f.jsxs("div",{className:"flex flex-col lg:flex-row items-start py-10 gap-8 lg:gap-10",children:[f.jsxs("div",{className:"max-lg:center mb-5",children:[f.jsxs("label",{htmlFor:"uploadImg",id:"profileImgLabel",className:"relative block w-48 h-48 bg-grey rounded-full overflow-hidden",children:[f.jsx("div",{className:"w-full h-full absolute top-0 left-0 flex items-center justify-center text-white bg-black/30 opacity-0 hover:opacity-100 cursor-pointer",children:"Upload Image"}),f.jsx("img",{ref:h,src:v,alt:"Profile Img"})]}),f.jsx("input",{type:"file",id:"uploadImg",accept:".jpeg, .png, .jpg",hidden:!0,onChange:S}),f.jsx("button",{className:"btn-light mt-5 max-lg:center lg:w-full px-10",onClick:E,children:"Upload"})]}),f.jsxs("div",{className:"w-full",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-5",children:[f.jsx("div",{children:f.jsx(nn,{name:"fullname",type:"text",value:p,placeholder:"Full Name",icon:"fi-rr-user",disable:!0})}),f.jsx("div",{children:f.jsx(nn,{name:"email",type:"email",value:y,placeholder:"Email",icon:"fi-rr-envelope",disable:!0})})]}),f.jsx(nn,{type:"text",name:"username",value:x,placeholder:"Username",icon:"fi-rr-at"}),f.jsx("p",{className:"text-dark-grey -mt-3",children:"Username will use to search user and will be visible to all users"}),f.jsx("textarea",{name:"bio",maxLength:t,defaultValue:m,className:"input-box h-64 lg:h-40 resize-none leading-7 mt-5 pl-5",placeholder:"Bio",onChange:k}),f.jsxs("p",{className:"mt-1 text-dark-grey",children:[l," characters left"]}),f.jsx("p",{className:"my-6 text-dark-grey",children:"Add your social handles below"}),f.jsx("div",{className:"md:grid md:grid-cols-2 gap-x-6",children:Object.keys(b).map((C,T)=>{let P=b[C];return f.jsx(nn,{name:C,type:"text",value:P,placeholder:"https://",icon:"fi "+(C!=="website"?"fi-brands-"+C:"fi-rr-globe")},T)})}),f.jsx("button",{className:"btn-dark w-auto px-10",type:"submit",onClick:_,children:"Update"})]})]})]})})},qM=({_id:t,blog_author:e,index:n=void 0,replyingTo:r=void 0,setReplying:o,notification_id:i,notificationData:s})=>{let[a,l]=w.useState(""),{_id:c}=e,{userAuth:{access_token:d}}=w.useContext(Se),{notifications:u,notifications:{results:h},setNotifications:g}=s;const v=()=>{if(!a.length)return Ge.error("Write something to leave a comment...");Z.post("https://mindful-mosaic.vercel.app//add-comment",{_id:t,blog_author:c,comment:a,replying_to:r,notification_id:i},{headers:{Authorization:`Bearer ${d}`}}).then(({data:p})=>{o(!1),l(""),h[n].reply={comment:a,_id:p._id},g({...u,results:h})}).catch(p=>{console.log(p)})};return f.jsxs(f.Fragment,{children:[f.jsx(Cn,{}),f.jsx("textarea",{value:a,onChange:p=>l(p.target.value),placeholder:"Leave an Reply...",className:"input-box pl-5 placeholder:text-dark-grey resize-none h-[150px] overflow-auto"}),f.jsx("button",{className:"btn-dark mt-5 px-10",onClick:v,children:"Reply"})]})},YM=({data:t,index:e,notificationState:n})=>{let[r,o]=w.useState(!1),{seen:i,type:s,reply:a,replied_on_comment:l,comment:c,createdAt:d,user:u,user:{personal_info:{profile_img:h,fullname:g,username:v}},blog:{_id:p,blog_id:x,title:y},_id:m}=t,{userAuth:{username:b,profile_img:k,access_token:S}}=w.useContext(Se),{notifications:E,notifications:{results:_,totalDocs:C},setNotifications:T}=n;const P=(B,j,M)=>{M.setAttribute("disabled",!0),Z.post("https://mindful-mosaic.vercel.app//delete-comment",{_id:B},{headers:{Authorization:`Bearer ${S}`}}).then(()=>{j=="comment"?_.splice(e,1):delete _[e].reply,M.removeAttribute("disabled"),T({...E,results:_,totalDocs:C-1,deletedDocCount:E.deletedDocCount+1})}).catch(W=>{console.log(W)})},O=()=>{o(B=>!B)},{theme:U}=w.useContext(wt);return f.jsxs("div",{className:`p-6 border mb-5 rounded-xl ${U==="dark"?"border-darkGrey":"border-lightGrey"}  ${i?"":"border-l-2"}`,children:[f.jsxs("div",{className:"flex gap-5 mb-3",children:[f.jsx("img",{src:h,alt:"profile_img",className:"w-14 h-14 flex-none rounded-full"}),f.jsxs("div",{className:"w-full ",children:[f.jsxs("h1",{className:"text-xl font-medium text-dark-grey",children:[f.jsx("span",{className:"lg:inline-block hidden capitalize",children:g}),f.jsxs(ee,{className:"mx-1 text-black underline",to:`/user/${v}`,children:["@",v]}),f.jsx("span",{className:"font-normal",children:s=="like"?"liked your blog":s=="comment"?"commented on":"replied on"})]}),s=="reply"?f.jsx("div",{className:"p-4 mt-4 rounded-md bg-grey",children:f.jsx("p",{children:l.comment})}):f.jsx(ee,{to:`/blog/${x}`,className:"font-medium text-dark-grey hover:underline line-clamp-1",children:`"${y}"`})]})]}),s!=="like"?f.jsxs("p",{className:"ml-14 pl-5 font-gelasio text-xl my-5",children:[" ",c.comment]}):"",f.jsxs("div",{className:"ml-14 pl-5 mt-3 text-dark-grey flex gap-8",children:[f.jsx("p",{children:oi(d)}),s!=="like"?f.jsxs(f.Fragment,{children:[!a&&f.jsx("button",{onClick:O,className:"underline hover:text-black",children:"Reply"}),f.jsx("button",{onClick:B=>P(c._id,"comment",B.target),className:"underline hover:text-black",children:"Delete"})]}):""]}),r?f.jsx("div",{className:"mt-8",children:f.jsx(qM,{_id:p,blog_author:u,index:e,replyingTo:c._id,setReplying:o,notification_id:m,notificationData:n})}):"",a?f.jsxs("div",{className:"ml-20 p-5 bg-grey mt-5 rounded-md ",children:[f.jsxs("div",{className:"flex gap-3 mb-3",children:[f.jsx("img",{src:k,alt:"",className:"w-8 h-8 rounded-full"}),f.jsx("div",{children:f.jsxs("h1",{className:"font-medium text-xl text-dark-grey",children:[f.jsxs(ee,{className:"mx-1 text-black underline",to:`/user/${b}`,children:["@",b]}),f.jsx("span",{className:"font-normal",children:"replied to"}),f.jsxs(ee,{className:"mx-1 text-black underline",to:`/user/${v}`,children:["@",v]})]})})]}),f.jsx("p",{className:"ml-14 font-gelasio text-xl my-2",children:a.comment}),f.jsx("button",{onClick:B=>P(c._id,"reply",B.target),className:"ml-14 mt-2 underline hover:text-black",children:"Delete"})]}):""]})},XM=()=>{let{userAuth:t,setUserAuth:e,userAuth:{access_token:n,new_notification_available:r}}=w.useContext(Se);const[o,i]=w.useState("all"),s=["all","like","comment","reply"],[a,l]=w.useState(null),c=({page:u,deletedDocCount:h=0})=>{Z.post("https://mindful-mosaic.vercel.app//notifications",{page:u,filter:o,deletedDocCount:h},{headers:{Authorization:`Bearer ${n}`}}).then(async({data:{notifications:g}})=>{r&&e({...t,new_notification_available:!1});let v=await Wo({state:a,data:g,page:u,countRoute:"/all-notifications-count",data_to_send:{filter:o},user:n});l(v)}).catch(g=>{console.log(g)})},d=u=>{let h=u.target;i(h.innerHTML),l(null)};return w.useEffect(()=>{n&&c({page:1})},[n,o]),f.jsxs("div",{children:[f.jsx("h1",{className:"max-md:hidden",children:"Recent Notification"}),f.jsx("div",{className:"my-8 flex gap-6 ",children:s.map((u,h)=>f.jsx("button",{className:"py-2 "+(o==u?"btn-dark":"btn-light"),onClick:d,children:u},h))}),a==null?f.jsx(st,{}):f.jsxs(f.Fragment,{children:[a.results.length?a.results.map((u,h)=>f.jsx(we,{transition:{delay:h*.08},children:f.jsx(YM,{data:u,index:h,notificationState:{notifications:a,setNotifications:l}})},h)):f.jsx(Ht,{message:"Nothing Available"}),f.jsx(Ko,{state:a,fetchDataFun:c,additionalParam:{deletedDocCount:a.deletedDocCount}})]})]})},_v=({stats:t})=>f.jsx("div",{className:"flex gap-2 max-lg:mb-6 max-lg:pb-4 max-lg:border-grey max-lg:border-b ",children:Object.keys(t).map((e,n)=>e.includes("parent")?"":f.jsxs("div",{className:"flex flex-col items-center w-full h-full justify-center p-4 px-6 "+(n!==0?"border-grey border-l":""),children:[f.jsx("h1",{className:"text-xl lg:text-2xl mb-2",children:t[e].toLocaleString()}),f.jsx("p",{className:"max-lg:text-dark-grey capitalize",children:e.split("_")[1]})]},n))}),JM=({blog:t})=>{let{userAuth:{access_token:e}}=w.useContext(Se),{banner:n,blog_id:r,title:o,publishedAt:i,activity:s}=t,[a,l]=w.useState(!1);return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex gap-10 border-b mb-6 max-md:px-4 border-grey pb-6 items-center ",children:[f.jsx("img",{src:n,alt:"banner img",className:"max-md:hidden lg:hidden xl:block w-28 h-28 bg-grey object-cover"}),f.jsxs("div",{className:"flex flex-col justify-between py-2 w-full min-w-[300px]",children:[f.jsxs("div",{children:[f.jsx(ee,{to:`/blog/${r}`,className:"blog-title mb-4 hover:underline",children:o}),f.jsxs("p",{className:"line-clamp-1",children:["Published on ",oi(i)]})]}),f.jsxs("div",{className:"flex gap-6 mt-3",children:[f.jsx(ee,{to:`/editor/${r}`,className:"py-2 underline ",children:"Edit"}),f.jsx("button",{className:"lg:hidden pr-4 py-2 underline",onClick:()=>l(c=>!c),children:"Stats"}),f.jsx("button",{className:"pr-4 py-2 underline text-red",onClick:c=>dw(t,e,c.target),children:"Delete"})]})]}),f.jsx("div",{className:"max-lg:hidden",children:f.jsx(_v,{stats:s})})]}),a&&f.jsx("div",{className:"max-lg:hidden",children:f.jsx(_v,{stats:s})})]})},QM=({blog:t})=>{let{title:e,blog_id:n,des:r,index:o}=t;o++;let{userAuth:{access_token:i}}=w.useContext(Se);return f.jsxs("div",{className:"flex gap-5 lg:gap-10 pb-6 border-b mb-6 border-grey",children:[f.jsx("h1",{className:"blog-index text-center pl-4 md:pl-6 flex-none",children:o<10?"0"+o:o}),f.jsxs("div",{children:[f.jsx("h1",{className:"blog-title mb-3",children:e}),f.jsx("p",{className:"line-clamp-2 font-gelasio",children:r.length?r:"No Description"}),f.jsxs("div",{className:"flex gap-6 mt-3",children:[f.jsx(ee,{className:"pr-4 py-2 underline",to:`/editor/${n}`,children:"Edit"}),f.jsx("button",{className:"pr-4 py-2 underline text-red",onClick:s=>dw(t,i,s.target),children:"Delete"})]})]})]})},dw=(t,e,n)=>{let{index:r,blog_id:o,setStateFunc:i}=t;n.setAttribute("disable",!0),Z.post("https://mindful-mosaic.vercel.app//delete-blog",{blog_id:o},{headers:{Authorization:`Bearer ${e}`}}).then(({data:s})=>{n.removeAttribute("disabled"),i(a=>{let{deleteDocCount:l,totalDocs:c,results:d}=a;return d.splice(r,1),l||(l=0),!d.length&&c-1>0?null:{...a,totalDocs:c-1,deleteDocCount:l+1}})}).catch(s=>{console.log(s)})},ZM=()=>{const[t,e]=w.useState(null),[n,r]=w.useState(null),[o,i]=w.useState("");let s=HC()[0].get("tab"),{userAuth:{access_token:a}}=w.useContext(Se);const l=({page:u,draft:h,deletedDocCount:g=0})=>{Z.post("https://mindful-mosaic.vercel.app//user-written-blogs",{page:u,draft:h,query:o,deletedDocCount:g},{headers:{Authorization:`Bearer ${a}`}}).then(async({data:v})=>{let p=await Wo({state:h?n:t,data:v.blogs,page:u,user:a,countRoute:"/user-written-blogs-count",data_to_send:{draft:h,query:o}});console.log(p),h?r(p):e(p)}).catch(v=>{console.log(v)})},c=u=>{u.target.value.length&&(i(""),e(null),r(null))},d=u=>{let h=u.target.value;i(h),u.keyCode==13&&h.length&&(e(null),r(null))};return w.useEffect(()=>{a&&(t==null&&l({page:1,draft:!1}),n==null&&l({page:1,draft:!0}))},[a,t,n,o]),f.jsxs(f.Fragment,{children:[f.jsx("h1",{className:"max-md:hidden text-2xl",children:"Manage Blog"}),f.jsx(Cn,{}),f.jsxs("div",{className:"relative max-md:mt-5 md:mt-8 mb-10",children:[f.jsx("input",{type:"search",className:"w-full bg-grey p-4 pl-12 pr-6 rounded-full placeholder:text-dark-grey",placeholder:"Search Blogs",onChange:c,onKeyDown:d}),f.jsx("i",{className:"fi fi-rr-search absolute right-[10%] md:pointer-events-none md:left-5 top-1/2 -translate-y-1/2 text-xl text-dark-grey"})]}),f.jsxs(mc,{routes:["Published Blogs","Drafts Blogs"],defaultActiveIndex:s!=="draft"?0:1,children:[t==null?f.jsx(st,{}):t.results.length?f.jsxs(f.Fragment,{children:[t.results.map((u,h)=>f.jsx(we,{transition:{delay:h*.04},children:f.jsx(JM,{blog:{...u,index:h,setStateFunc:e}})},h)),f.jsx(Ko,{state:t,fetchDataFun:l,additionalParam:{draft:!1,deletedDocCount:t.deletedDocCount}})]}):f.jsx(Ht,{message:"No Published Blogs Available"}),n==null?f.jsx(st,{}):n.results.length?f.jsxs(f.Fragment,{children:[n.results.map((u,h)=>f.jsx(we,{transition:{delay:h*.04},children:f.jsx(QM,{blog:{...u,index:h,setStateFunc:r}})},h)),f.jsx(Ko,{state:n,fetchDataFun:l,additionalParam:{draft:!0,deletedDocCount:n.deletedDocCount}})]}):f.jsx(Ht,{message:"No Draft Blogs Available"})]})]})},Se=w.createContext({}),wt=w.createContext({}),eD=()=>window.matchMedia("(prefers-color-scheme: dark)").matches,tD=()=>{const[t,e]=w.useState({}),[n,r]=w.useState(()=>eD()?"dark":"light");return w.useEffect(()=>{let o=Cg("user"),i=Cg("theme");e(o?JSON.parse(o):{access_token:null}),i?r(()=>(document.body.setAttribute("data-theme",i),i)):document.body.setAttribute("data-theme",n)},[]),f.jsx(wt.Provider,{value:{theme:n,setTheme:r},children:f.jsx(Se.Provider,{value:{userAuth:t,setUserAuth:e},children:f.jsxs(AC,{children:[f.jsx(Pe,{path:"/editor",element:f.jsx(kv,{})}),f.jsx(Pe,{path:"/editor/:blog_id",element:f.jsx(kv,{})}),f.jsxs(Pe,{path:"/",element:f.jsx(PP,{}),children:[f.jsx(Pe,{index:!0,element:f.jsx(LM,{})}),f.jsxs(Pe,{path:"dashboard",element:f.jsx(Tv,{}),children:[f.jsx(Pe,{path:"notifications",element:f.jsx(XM,{})}),f.jsx(Pe,{path:"blogs",element:f.jsx(ZM,{})})]}),f.jsxs(Pe,{path:"settings",element:f.jsx(Tv,{}),children:[f.jsx(Pe,{path:"edit-profile",element:f.jsx(GM,{})}),f.jsx(Pe,{path:"change-password",element:f.jsx(KM,{})})]}),f.jsx(Pe,{path:"signin",element:f.jsx(uv,{type:"sign-in"})}),f.jsx(Pe,{path:"signup",element:f.jsx(uv,{type:"sign-up"})}),f.jsx(Pe,{path:"search/:query",element:f.jsx(OM,{})}),f.jsx(Pe,{path:"user/:id",element:f.jsx(jM,{})}),f.jsx(Pe,{path:"blog/:blog_id",element:f.jsx(WM,{})}),f.jsx(Pe,{path:"*",element:f.jsx(lw,{})})]})]})})})};bu.createRoot(document.getElementById("root")).render(f.jsx(FC,{children:f.jsx(tD,{})}));
